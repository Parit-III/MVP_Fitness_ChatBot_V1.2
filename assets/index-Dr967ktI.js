(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f0={exports:{}},Xf={},h0={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function MU(){if(mO)return Qe;mO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function w(q,Q,ye){this.props=q,this.context=Q,this.refs=b,this.updater=ye||v}w.prototype.isReactComponent={},w.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function A(){}A.prototype=w.prototype;function C(q,Q,ye){this.props=q,this.context=Q,this.refs=b,this.updater=ye||v}var R=C.prototype=new A;R.constructor=C,E(R,w.prototype),R.isPureReactComponent=!0;var $=Array.isArray,P=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(q,Q,ye){var Se,Ne={},Le=null,He=null;if(Q!=null)for(Se in Q.ref!==void 0&&(He=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)P.call(Q,Se)&&!S.hasOwnProperty(Se)&&(Ne[Se]=Q[Se]);var $e=arguments.length-2;if($e===1)Ne.children=ye;else if(1<$e){for(var me=Array($e),Ee=0;Ee<$e;Ee++)me[Ee]=arguments[Ee+2];Ne.children=me}if(q&&q.defaultProps)for(Se in $e=q.defaultProps,$e)Ne[Se]===void 0&&(Ne[Se]=$e[Se]);return{$$typeof:t,type:q,key:Le,ref:He,props:Ne,_owner:k.current}}function N(q,Q){return{$$typeof:t,type:q.type,key:Q,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return Q[ye]})}var D=/\/+/g;function M(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):Q.toString(36)}function G(q,Q,ye,Se,Ne){var Le=typeof q;(Le==="undefined"||Le==="boolean")&&(q=null);var He=!1;if(q===null)He=!0;else switch(Le){case"string":case"number":He=!0;break;case"object":switch(q.$$typeof){case t:case e:He=!0}}if(He)return He=q,Ne=Ne(He),q=Se===""?"."+M(He,0):Se,$(Ne)?(ye="",q!=null&&(ye=q.replace(D,"$&/")+"/"),G(Ne,Q,ye,"",function(Ee){return Ee})):Ne!=null&&(F(Ne)&&(Ne=N(Ne,ye+(!Ne.key||He&&He.key===Ne.key?"":(""+Ne.key).replace(D,"$&/")+"/")+q)),Q.push(Ne)),1;if(He=0,Se=Se===""?".":Se+":",$(q))for(var $e=0;$e<q.length;$e++){Le=q[$e];var me=Se+M(Le,$e);He+=G(Le,Q,ye,me,Ne)}else if(me=y(q),typeof me=="function")for(q=me.call(q),$e=0;!(Le=q.next()).done;)Le=Le.value,me=Se+M(Le,$e++),He+=G(Le,Q,ye,me,Ne);else if(Le==="object")throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return He}function K(q,Q,ye){if(q==null)return q;var Se=[],Ne=0;return G(q,Se,"","",function(Le){return Q.call(ye,Le,Ne++)}),Se}function re(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var ue={current:null},X={transition:null},se={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:X,ReactCurrentOwner:k};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:K,forEach:function(q,Q,ye){K(q,function(){Q.apply(this,arguments)},ye)},count:function(q){var Q=0;return K(q,function(){Q++}),Q},toArray:function(q){return K(q,function(Q){return Q})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Qe.Component=w,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=C,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Qe.act=ae,Qe.cloneElement=function(q,Q,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Se=E({},q.props),Ne=q.key,Le=q.ref,He=q._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,He=k.current),Q.key!==void 0&&(Ne=""+Q.key),q.type&&q.type.defaultProps)var $e=q.type.defaultProps;for(me in Q)P.call(Q,me)&&!S.hasOwnProperty(me)&&(Se[me]=Q[me]===void 0&&$e!==void 0?$e[me]:Q[me])}var me=arguments.length-2;if(me===1)Se.children=ye;else if(1<me){$e=Array(me);for(var Ee=0;Ee<me;Ee++)$e[Ee]=arguments[Ee+2];Se.children=$e}return{$$typeof:t,type:q.type,key:Ne,ref:Le,props:Se,_owner:He}},Qe.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Qe.createElement=I,Qe.createFactory=function(q){var Q=I.bind(null,q);return Q.type=q,Q},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(q){return{$$typeof:u,render:q}},Qe.isValidElement=F,Qe.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:re}},Qe.memo=function(q,Q){return{$$typeof:f,type:q,compare:Q===void 0?null:Q}},Qe.startTransition=function(q){var Q=X.transition;X.transition={};try{q()}finally{X.transition=Q}},Qe.unstable_act=ae,Qe.useCallback=function(q,Q){return ue.current.useCallback(q,Q)},Qe.useContext=function(q){return ue.current.useContext(q)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(q){return ue.current.useDeferredValue(q)},Qe.useEffect=function(q,Q){return ue.current.useEffect(q,Q)},Qe.useId=function(){return ue.current.useId()},Qe.useImperativeHandle=function(q,Q,ye){return ue.current.useImperativeHandle(q,Q,ye)},Qe.useInsertionEffect=function(q,Q){return ue.current.useInsertionEffect(q,Q)},Qe.useLayoutEffect=function(q,Q){return ue.current.useLayoutEffect(q,Q)},Qe.useMemo=function(q,Q){return ue.current.useMemo(q,Q)},Qe.useReducer=function(q,Q,ye){return ue.current.useReducer(q,Q,ye)},Qe.useRef=function(q){return ue.current.useRef(q)},Qe.useState=function(q){return ue.current.useState(q)},Qe.useSyncExternalStore=function(q,Q,ye){return ue.current.useSyncExternalStore(q,Q,ye)},Qe.useTransition=function(){return ue.current.useTransition()},Qe.version="18.3.1",Qe}var gO;function D1(){return gO||(gO=1,h0.exports=MU()),h0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function jU(){if(yO)return Xf;yO=1;var t=D1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,f){var d,p={},y=null,v=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(d in c)r.call(c,d)&&!o.hasOwnProperty(d)&&(p[d]=c[d]);if(u&&u.defaultProps)for(d in c=u.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:u,key:y,ref:v,props:p,_owner:i.current}}return Xf.Fragment=n,Xf.jsx=a,Xf.jsxs=a,Xf}var vO;function VU(){return vO||(vO=1,f0.exports=jU()),f0.exports}var j=VU(),Pm={},d0={exports:{}},nr={},p0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function LU(){return _O||(_O=1,(function(t){function e(X,se){var ae=X.length;X.push(se);e:for(;0<ae;){var q=ae-1>>>1,Q=X[q];if(0<i(Q,se))X[q]=se,X[ae]=Q,ae=q;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],ae=X.pop();if(ae!==se){X[0]=ae;e:for(var q=0,Q=X.length,ye=Q>>>1;q<ye;){var Se=2*(q+1)-1,Ne=X[Se],Le=Se+1,He=X[Le];if(0>i(Ne,ae))Le<Q&&0>i(He,Ne)?(X[q]=He,X[Le]=ae,q=Le):(X[q]=Ne,X[Se]=ae,q=Se);else if(Le<Q&&0>i(He,ae))X[q]=He,X[Le]=ae,q=Le;else break e}}return se}function i(X,se){var ae=X.sortIndex-se.sortIndex;return ae!==0?ae:X.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],d=1,p=null,y=3,v=!1,E=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(X){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=X)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=n(f)}}function $(X){if(b=!1,R(X),!E)if(n(c)!==null)E=!0,re(P);else{var se=n(f);se!==null&&ue($,se.startTime-X)}}function P(X,se){E=!1,b&&(b=!1,A(I),I=-1),v=!0;var ae=y;try{for(R(se),p=n(c);p!==null&&(!(p.expirationTime>se)||X&&!V());){var q=p.callback;if(typeof q=="function"){p.callback=null,y=p.priorityLevel;var Q=q(p.expirationTime<=se);se=t.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&r(c),R(se)}else r(c);p=n(c)}if(p!==null)var ye=!0;else{var Se=n(f);Se!==null&&ue($,Se.startTime-se),ye=!1}return ye}finally{p=null,y=ae,v=!1}}var k=!1,S=null,I=-1,N=5,F=-1;function V(){return!(t.unstable_now()-F<N)}function D(){if(S!==null){var X=t.unstable_now();F=X;var se=!0;try{se=S(!0,X)}finally{se?M():(k=!1,S=null)}}else k=!1}var M;if(typeof C=="function")M=function(){C(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=D,M=function(){K.postMessage(null)}}else M=function(){w(D,0)};function re(X){S=X,k||(k=!0,M())}function ue(X,se){I=w(function(){X(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,re(P))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ae=y;y=se;try{return X()}finally{y=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=y;y=X;try{return se()}finally{y=ae}},t.unstable_scheduleCallback=function(X,se,ae){var q=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,X={id:d++,callback:se,priorityLevel:X,startTime:ae,expirationTime:Q,sortIndex:-1},ae>q?(X.sortIndex=ae,e(f,X),n(c)===null&&X===n(f)&&(b?(A(I),I=-1):b=!0,ue($,ae-q))):(X.sortIndex=Q,e(c,X),E||v||(E=!0,re(P))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var se=y;return function(){var ae=y;y=se;try{return X.apply(this,arguments)}finally{y=ae}}}})(m0)),m0}var wO;function $U(){return wO||(wO=1,p0.exports=LU()),p0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO;function FU(){if(bO)return nr;bO=1;var t=D1(),e=$U();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(s){return c.call(p,s)?!0:c.call(d,s)?!1:f.test(s)?p[s]=!0:(d[s]=!0,!1)}function v(s,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,l,h,g){if(l===null||typeof l>"u"||v(s,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(s,l,h,g,_,x,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=x,this.removeEmptyString=L}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];w[l]=new b(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(A,C);w[l]=new b(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(A,C);w[l]=new b(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(A,C);w[l]=new b(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,l,h,g){var _=w.hasOwnProperty(l)?w[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,h,_,g)&&(h=null),g||_===null?y(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):_.mustUseProperty?s[_.propertyName]=h===null?_.type===3?!1:"":h:(l=_.attributeName,g=_.attributeNamespace,h===null?s.removeAttribute(l):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,g?s.setAttributeNS(g,l,h):s.setAttribute(l,h))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),X=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,q;function Q(s){if(q===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+s}var ye=!1;function Se(s,l){if(!s||ye)return"";ye=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ie){var g=ie}Reflect.construct(s,[],l)}else{try{l.call()}catch(ie){g=ie}s.call(l.prototype)}else{try{throw Error()}catch(ie){g=ie}s()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),x=g.stack.split(`
`),L=_.length-1,U=x.length-1;1<=L&&0<=U&&_[L]!==x[U];)U--;for(;1<=L&&0<=U;L--,U--)if(_[L]!==x[U]){if(L!==1||U!==1)do if(L--,U--,0>U||_[L]!==x[U]){var z=`
`+_[L].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=L&&0<=U);break}}}finally{ye=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Q(s):""}function Ne(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case G:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case D:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return l=s.displayName||null,l!==null?l:Le(s.type)||"Memo";case re:l=s._payload,s=s._init;try{return Le(s(l))}catch{}}return null}function He(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function me(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ee(s){var l=me(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,x=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(L){g=""+L,x.call(this,L)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Me(s){s._valueTracker||(s._valueTracker=Ee(s))}function fe(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return s&&(g=me(s)?s.checked?"true":"false":s.value),s=g,s!==h?(l.setValue(s),!0):!1}function Ze(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ge(s,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function jt(s,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=$e(l.value!=null?l.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Tt(s,l){l=l.checked,l!=null&&R(s,"checked",l,!1)}function Wt(s,l){Tt(s,l);var h=$e(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?wt(s,l.type,h):l.hasOwnProperty("defaultValue")&&wt(s,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Yn(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function wt(s,l,h){(l!=="number"||Ze(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var St=Array.isArray;function sn(s,l,h,g){if(s=s.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=l.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&g&&(s[h].defaultSelected=!0)}else{for(h=""+$e(h),l=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function fr(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Xi(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(St(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:$e(h)}}function fs(s,l){var h=$e(l.value),g=$e(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function Hr(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function sf(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?sf(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qo,pp=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,_){MSApp.execUnsafeLocalFunction(function(){return s(l,h,g,_)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qo.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function hs(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mp=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(s){mp.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Yo[l]=Yo[s]})});function Xo(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Yo.hasOwnProperty(s)&&Yo[s]?(""+l).trim():l+"px"}function Mu(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,_=Xo(h,l[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,_):s[h]=_}}var uf=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(s,l){if(l){if(uf[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function ju(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Vu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ji=null,Zi=null,Gt=null;function lf(s){if(s=jf(s)){if(typeof Ji!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Up(l),Ji(s.stateNode,s.type,l))}}function Zo(s){Zi?Gt?Gt.push(s):Gt=[s]:Zi=s}function ea(){if(Zi){var s=Zi,l=Gt;if(Gt=Zi=null,lf(s),l)for(s=0;s<l.length;s++)lf(l[s])}}function gp(s,l){return s(l)}function yp(){}var gi=!1;function vp(s,l,h){if(gi)return s(l,h);gi=!0;try{return gp(s,l,h)}finally{gi=!1,(Zi!==null||Gt!==null)&&(yp(),ea())}}function ds(s,l){var h=s.stateNode;if(h===null)return null;var g=Up(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ta=!1;if(u)try{var na={};Object.defineProperty(na,"passive",{get:function(){ta=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{ta=!1}function _p(s,l,h,g,_,x,L,U,z){var ie=Array.prototype.slice.call(arguments,3);try{l.apply(h,ie)}catch(pe){this.onError(pe)}}var eo=!1,yi=null,Lu=!1,Cr=null,wp={onError:function(s){eo=!0,yi=s}};function bp(s,l,h,g,_,x,L,U,z){eo=!1,yi=null,_p.apply(wp,arguments)}function cf(s,l,h,g,_,x,L,U,z){if(bp.apply(this,arguments),eo){if(eo){var ie=yi;eo=!1,yi=null}else throw Error(n(198));Lu||(Lu=!0,Cr=ie)}}function Qr(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function ff(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function xp(s){if(Qr(s)!==s)throw Error(n(188))}function Ep(s){var l=s.alternate;if(!l){if(l=Qr(s),l===null)throw Error(n(188));return l!==s?null:s}for(var h=s,g=l;;){var _=h.return;if(_===null)break;var x=_.alternate;if(x===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===h)return xp(_),s;if(x===g)return xp(_),l;x=x.sibling}throw Error(n(188))}if(h.return!==g.return)h=_,g=x;else{for(var L=!1,U=_.child;U;){if(U===h){L=!0,h=_,g=x;break}if(U===g){L=!0,g=_,h=x;break}U=U.sibling}if(!L){for(U=x.child;U;){if(U===h){L=!0,h=x,g=_;break}if(U===g){L=!0,g=x,h=_;break}U=U.sibling}if(!L)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:l}function Tp(s){return s=Ep(s),s!==null?ps(s):null}function ps(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=ps(s);if(l!==null)return l;s=s.sibling}return null}var hf=e.unstable_scheduleCallback,$u=e.unstable_cancelCallback,ms=e.unstable_shouldYield,to=e.unstable_requestPaint,Ct=e.unstable_now,Uv=e.unstable_getCurrentPriorityLevel,Fu=e.unstable_ImmediatePriority,df=e.unstable_UserBlockingPriority,gs=e.unstable_NormalPriority,pf=e.unstable_LowPriority,Bu=e.unstable_IdlePriority,ys=null,hr=null;function Sp(s){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(ys,s,void 0,(s.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:vs,vi=Math.log,Rr=Math.LN2;function vs(s){return s>>>=0,s===0?32:31-(vi(s)/Rr|0)|0}var _i=64,ra=4194304;function lt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function no(s,l){var h=s.pendingLanes;if(h===0)return 0;var g=0,_=s.suspendedLanes,x=s.pingedLanes,L=h&268435455;if(L!==0){var U=L&~_;U!==0?g=lt(U):(x&=L,x!==0&&(g=lt(x)))}else L=h&~_,L!==0?g=lt(L):x!==0&&(g=lt(x));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,x=l&-l,_>=x||_===16&&(x&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)h=31-dr(l),_=1<<h,g|=s[h],l&=~_;return g}function _s(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(s,l){for(var h=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,x=s.pendingLanes;0<x;){var L=31-dr(x),U=1<<L,z=_[L];z===-1?((U&h)===0||(U&g)!==0)&&(_[L]=_s(U,l)):z<=l&&(s.expiredLanes|=U),x&=~U}}function mf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function gf(){var s=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),s}function yf(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function bs(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-dr(l),s[l]=h}function qv(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var _=31-dr(h),x=1<<_;l[_]=0,g[_]=-1,s[_]=-1,h&=~x}}function vf(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var g=31-dr(h),_=1<<g;_&l|s[g]&l&&(s[g]|=l),h&=~_}}var nt=0;function wi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var _f,Uu,wf,bf,xf,bi=!1,qu=[],xi=null,Ei=null,An=null,xs=new Map,ro=new Map,pr=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ia(s,l){switch(s){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":xs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(l.pointerId)}}function Yr(s,l,h,g,_,x){return s===null||s.nativeEvent!==x?(s={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:x,targetContainers:[_]},l!==null&&(l=jf(l),l!==null&&Uu(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function Ap(s,l,h,g,_){switch(l){case"focusin":return xi=Yr(xi,s,l,h,g,_),!0;case"dragenter":return Ei=Yr(Ei,s,l,h,g,_),!0;case"mouseover":return An=Yr(An,s,l,h,g,_),!0;case"pointerover":var x=_.pointerId;return xs.set(x,Yr(xs.get(x)||null,s,l,h,g,_)),!0;case"gotpointercapture":return x=_.pointerId,ro.set(x,Yr(ro.get(x)||null,s,l,h,g,_)),!0}return!1}function zu(s){var l=Is(s.target);if(l!==null){var h=Qr(l);if(h!==null){if(l=h.tag,l===13){if(l=ff(h),l!==null){s.blockedOn=l,xf(s.priority,function(){wf(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bt(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=Wu(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Jo=g,h.target.dispatchEvent(g),Jo=null}else return l=jf(h),l!==null&&Uu(l),s.blockedOn=h,!1;l.shift()}return!0}function Pp(s,l,h){bt(s)&&h.delete(l)}function zv(){bi=!1,xi!==null&&bt(xi)&&(xi=null),Ei!==null&&bt(Ei)&&(Ei=null),An!==null&&bt(An)&&(An=null),xs.forEach(Pp),ro.forEach(Pp)}function oa(s,l){s.blockedOn===l&&(s.blockedOn=null,bi||(bi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zv)))}function aa(s){function l(_){return oa(_,s)}if(0<qu.length){oa(qu[0],s);for(var h=1;h<qu.length;h++){var g=qu[h];g.blockedOn===s&&(g.blockedOn=null)}}for(xi!==null&&oa(xi,s),Ei!==null&&oa(Ei,s),An!==null&&oa(An,s),xs.forEach(l),ro.forEach(l),h=0;h<pr.length;h++)g=pr[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<pr.length&&(h=pr[0],h.blockedOn===null);)zu(h),h.blockedOn===null&&pr.shift()}var io=$.ReactCurrentBatchConfig,oo=!0;function Ti(s,l,h,g){var _=nt,x=io.transition;io.transition=null;try{nt=1,Ef(s,l,h,g)}finally{nt=_,io.transition=x}}function Op(s,l,h,g){var _=nt,x=io.transition;io.transition=null;try{nt=4,Ef(s,l,h,g)}finally{nt=_,io.transition=x}}function Ef(s,l,h,g){if(oo){var _=Wu(s,l,h,g);if(_===null)t_(s,l,g,Si,h),ia(s,g);else if(Ap(_,s,l,h,g))g.stopPropagation();else if(ia(s,g),l&4&&-1<Ip.indexOf(s)){for(;_!==null;){var x=jf(_);if(x!==null&&_f(x),x=Wu(s,l,h,g),x===null&&t_(s,l,g,Si,h),x===_)break;_=x}_!==null&&g.stopPropagation()}else t_(s,l,g,null,h)}}var Si=null;function Wu(s,l,h,g){if(Si=null,s=Vu(g),s=Is(s),s!==null)if(l=Qr(s),l===null)s=null;else if(h=l.tag,h===13){if(s=ff(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Si=s,null}function Gu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uv()){case Fu:return 1;case df:return 4;case gs:case pf:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var mr=null,Hu=null,ao=null;function Cp(){if(ao)return ao;var s,l=Hu,h=l.length,g,_="value"in mr?mr.value:mr.textContent,x=_.length;for(s=0;s<h&&l[s]===_[s];s++);var L=h-s;for(g=1;g<=L&&l[h-g]===_[x-g];g++);return ao=_.slice(s,1<g?1-g:void 0)}function Es(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function Tf(){return!1}function Dn(s){function l(h,g,_,x,L){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(h=s[U],this[U]=h?h(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ii:Tf,this.isPropagationStopped=Tf,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),l}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Dn(Ai),sa=ae({},Ai,{view:0,detail:0}),Ku=Dn(sa),Qu,Yu,gr,Ss=ae({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gr&&(gr&&s.type==="mousemove"?(Qu=s.screenX-gr.screenX,Yu=s.screenY-gr.screenY):Yu=Qu=0,gr=s),Qu)},movementY:function(s){return"movementY"in s?s.movementY:Yu}}),Sf=Dn(Ss),Rp=ae({},Ss,{dataTransfer:0}),kp=Dn(Rp),Xu=ae({},sa,{relatedTarget:0}),Pn=Dn(Xu),Np=ae({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=Dn(Np),ua=ae({},Ai,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),m=Dn(ua),T=ae({},Ai,{data:0}),O=Dn(T),B={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function we(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=oe[s])?!!l[s]:!1}function ze(){return we}var Qt=ae({},sa,{key:function(s){if(s.key){var l=B[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Es(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Z[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(s){return s.type==="keypress"?Es(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Es(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),pt=Dn(Qt),en=ae({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=Dn(en),so=ae({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),Pi=Dn(so),Oi=ae({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Dn(Oi),If=ae({},Ss,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OB=Dn(If),CB=[9,13,27,32],Wv=u&&"CompositionEvent"in window,Af=null;u&&"documentMode"in document&&(Af=document.documentMode);var RB=u&&"TextEvent"in window&&!Af,sA=u&&(!Wv||Af&&8<Af&&11>=Af),uA=" ",lA=!1;function cA(s,l){switch(s){case"keyup":return CB.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zu=!1;function kB(s,l){switch(s){case"compositionend":return fA(l);case"keypress":return l.which!==32?null:(lA=!0,uA);case"textInput":return s=l.data,s===uA&&lA?null:s;default:return null}}function NB(s,l){if(Zu)return s==="compositionend"||!Wv&&cA(s,l)?(s=Cp(),ao=Hu=mr=null,Zu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return sA&&l.locale!=="ko"?null:l.data;default:return null}}var DB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hA(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!DB[s.type]:l==="textarea"}function dA(s,l,h,g){Zo(g),l=$p(l,"onChange"),0<l.length&&(h=new Ts("onChange","change",null,h,g),s.push({event:h,listeners:l}))}var Pf=null,Of=null;function MB(s){RA(s,0)}function Mp(s){var l=il(s);if(fe(l))return s}function jB(s,l){if(s==="change")return l}var pA=!1;if(u){var Gv;if(u){var Hv="oninput"in document;if(!Hv){var mA=document.createElement("div");mA.setAttribute("oninput","return;"),Hv=typeof mA.oninput=="function"}Gv=Hv}else Gv=!1;pA=Gv&&(!document.documentMode||9<document.documentMode)}function gA(){Pf&&(Pf.detachEvent("onpropertychange",yA),Of=Pf=null)}function yA(s){if(s.propertyName==="value"&&Mp(Of)){var l=[];dA(l,Of,s,Vu(s)),vp(MB,l)}}function VB(s,l,h){s==="focusin"?(gA(),Pf=l,Of=h,Pf.attachEvent("onpropertychange",yA)):s==="focusout"&&gA()}function LB(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mp(Of)}function $B(s,l){if(s==="click")return Mp(l)}function FB(s,l){if(s==="input"||s==="change")return Mp(l)}function BB(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Xr=typeof Object.is=="function"?Object.is:BB;function Cf(s,l){if(Xr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!c.call(l,_)||!Xr(s[_],l[_]))return!1}return!0}function vA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _A(s,l){var h=vA(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=l&&g>=l)return{node:h,offset:l-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=vA(h)}}function wA(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?wA(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function bA(){for(var s=window,l=Ze();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Ze(s.document)}return l}function Kv(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function UB(s){var l=bA(),h=s.focusedElem,g=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&wA(h.ownerDocument.documentElement,h)){if(g!==null&&Kv(h)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var _=h.textContent.length,x=Math.min(g.start,_);g=g.end===void 0?x:Math.min(g.end,_),!s.extend&&x>g&&(_=g,g=x,x=_),_=_A(h,x);var L=_A(h,g);_&&L&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==L.node||s.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),s.removeAllRanges(),x>g?(s.addRange(l),s.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qB=u&&"documentMode"in document&&11>=document.documentMode,el=null,Qv=null,Rf=null,Yv=!1;function xA(s,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yv||el==null||el!==Ze(g)||(g=el,"selectionStart"in g&&Kv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Rf&&Cf(Rf,g)||(Rf=g,g=$p(Qv,"onSelect"),0<g.length&&(l=new Ts("onSelect","select",null,l,h),s.push({event:l,listeners:g}),l.target=el)))}function jp(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var tl={animationend:jp("Animation","AnimationEnd"),animationiteration:jp("Animation","AnimationIteration"),animationstart:jp("Animation","AnimationStart"),transitionend:jp("Transition","TransitionEnd")},Xv={},EA={};u&&(EA=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Vp(s){if(Xv[s])return Xv[s];if(!tl[s])return s;var l=tl[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in EA)return Xv[s]=l[h];return s}var TA=Vp("animationend"),SA=Vp("animationiteration"),IA=Vp("animationstart"),AA=Vp("transitionend"),PA=new Map,OA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(s,l){PA.set(s,l),o(l,[s])}for(var Jv=0;Jv<OA.length;Jv++){var Zv=OA[Jv],zB=Zv.toLowerCase(),WB=Zv[0].toUpperCase()+Zv.slice(1);la(zB,"on"+WB)}la(TA,"onAnimationEnd"),la(SA,"onAnimationIteration"),la(IA,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(AA,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GB=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function CA(s,l,h){var g=s.type||"unknown-event";s.currentTarget=h,cf(g,l,void 0,s),s.currentTarget=null}function RA(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],_=g.event;g=g.listeners;e:{var x=void 0;if(l)for(var L=g.length-1;0<=L;L--){var U=g[L],z=U.instance,ie=U.currentTarget;if(U=U.listener,z!==x&&_.isPropagationStopped())break e;CA(_,U,ie),x=z}else for(L=0;L<g.length;L++){if(U=g[L],z=U.instance,ie=U.currentTarget,U=U.listener,z!==x&&_.isPropagationStopped())break e;CA(_,U,ie),x=z}}}if(Lu)throw s=Cr,Lu=!1,Cr=null,s}function Rt(s,l){var h=l[s_];h===void 0&&(h=l[s_]=new Set);var g=s+"__bubble";h.has(g)||(kA(l,s,2,!1),h.add(g))}function e_(s,l,h){var g=0;l&&(g|=4),kA(h,s,g,l)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function Nf(s){if(!s[Lp]){s[Lp]=!0,r.forEach(function(h){h!=="selectionchange"&&(GB.has(h)||e_(h,!1,s),e_(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Lp]||(l[Lp]=!0,e_("selectionchange",!1,l))}}function kA(s,l,h,g){switch(Gu(l)){case 1:var _=Ti;break;case 4:_=Op;break;default:_=Ef}h=_.bind(null,l,h,s),_=void 0,!ta||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(l,h,{capture:!0,passive:_}):s.addEventListener(l,h,!0):_!==void 0?s.addEventListener(l,h,{passive:_}):s.addEventListener(l,h,!1)}function t_(s,l,h,g,_){var x=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var U=g.stateNode.containerInfo;if(U===_||U.nodeType===8&&U.parentNode===_)break;if(L===4)for(L=g.return;L!==null;){var z=L.tag;if((z===3||z===4)&&(z=L.stateNode.containerInfo,z===_||z.nodeType===8&&z.parentNode===_))return;L=L.return}for(;U!==null;){if(L=Is(U),L===null)return;if(z=L.tag,z===5||z===6){g=x=L;continue e}U=U.parentNode}}g=g.return}vp(function(){var ie=x,pe=Vu(h),ge=[];e:{var de=PA.get(s);if(de!==void 0){var Ie=Ts,Oe=s;switch(s){case"keypress":if(Es(h)===0)break e;case"keydown":case"keyup":Ie=pt;break;case"focusin":Oe="focus",Ie=Pn;break;case"focusout":Oe="blur",Ie=Pn;break;case"beforeblur":case"afterblur":Ie=Pn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Pi;break;case TA:case SA:case IA:Ie=Dp;break;case AA:Ie=Ju;break;case"scroll":Ie=Ku;break;case"wheel":Ie=OB;break;case"copy":case"cut":case"paste":Ie=m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=yr}var Re=(l&4)!==0,Yt=!Re&&s==="scroll",J=Re?de!==null?de+"Capture":null:de;Re=[];for(var W=ie,te;W!==null;){te=W;var ve=te.stateNode;if(te.tag===5&&ve!==null&&(te=ve,J!==null&&(ve=ds(W,J),ve!=null&&Re.push(Df(W,ve,te)))),Yt)break;W=W.return}0<Re.length&&(de=new Ie(de,Oe,null,h,pe),ge.push({event:de,listeners:Re}))}}if((l&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",de&&h!==Jo&&(Oe=h.relatedTarget||h.fromElement)&&(Is(Oe)||Oe[uo]))break e;if((Ie||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,Ie?(Oe=h.relatedTarget||h.toElement,Ie=ie,Oe=Oe?Is(Oe):null,Oe!==null&&(Yt=Qr(Oe),Oe!==Yt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ie=null,Oe=ie),Ie!==Oe)){if(Re=Sf,ve="onMouseLeave",J="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Re=yr,ve="onPointerLeave",J="onPointerEnter",W="pointer"),Yt=Ie==null?de:il(Ie),te=Oe==null?de:il(Oe),de=new Re(ve,W+"leave",Ie,h,pe),de.target=Yt,de.relatedTarget=te,ve=null,Is(pe)===ie&&(Re=new Re(J,W+"enter",Oe,h,pe),Re.target=te,Re.relatedTarget=Yt,ve=Re),Yt=ve,Ie&&Oe)t:{for(Re=Ie,J=Oe,W=0,te=Re;te;te=nl(te))W++;for(te=0,ve=J;ve;ve=nl(ve))te++;for(;0<W-te;)Re=nl(Re),W--;for(;0<te-W;)J=nl(J),te--;for(;W--;){if(Re===J||J!==null&&Re===J.alternate)break t;Re=nl(Re),J=nl(J)}Re=null}else Re=null;Ie!==null&&NA(ge,de,Ie,Re,!1),Oe!==null&&Yt!==null&&NA(ge,Yt,Oe,Re,!0)}}e:{if(de=ie?il(ie):window,Ie=de.nodeName&&de.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&de.type==="file")var ke=jB;else if(hA(de))if(pA)ke=FB;else{ke=LB;var je=VB}else(Ie=de.nodeName)&&Ie.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(ke=$B);if(ke&&(ke=ke(s,ie))){dA(ge,ke,h,pe);break e}je&&je(s,de,ie),s==="focusout"&&(je=de._wrapperState)&&je.controlled&&de.type==="number"&&wt(de,"number",de.value)}switch(je=ie?il(ie):window,s){case"focusin":(hA(je)||je.contentEditable==="true")&&(el=je,Qv=ie,Rf=null);break;case"focusout":Rf=Qv=el=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":Yv=!1,xA(ge,h,pe);break;case"selectionchange":if(qB)break;case"keydown":case"keyup":xA(ge,h,pe)}var Ve;if(Wv)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Zu?cA(s,h)&&(qe="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(qe="onCompositionStart");qe&&(sA&&h.locale!=="ko"&&(Zu||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Zu&&(Ve=Cp()):(mr=pe,Hu="value"in mr?mr.value:mr.textContent,Zu=!0)),je=$p(ie,qe),0<je.length&&(qe=new O(qe,s,null,h,pe),ge.push({event:qe,listeners:je}),Ve?qe.data=Ve:(Ve=fA(h),Ve!==null&&(qe.data=Ve)))),(Ve=RB?kB(s,h):NB(s,h))&&(ie=$p(ie,"onBeforeInput"),0<ie.length&&(pe=new O("onBeforeInput","beforeinput",null,h,pe),ge.push({event:pe,listeners:ie}),pe.data=Ve))}RA(ge,l)})}function Df(s,l,h){return{instance:s,listener:l,currentTarget:h}}function $p(s,l){for(var h=l+"Capture",g=[];s!==null;){var _=s,x=_.stateNode;_.tag===5&&x!==null&&(_=x,x=ds(s,h),x!=null&&g.unshift(Df(s,x,_)),x=ds(s,l),x!=null&&g.push(Df(s,x,_))),s=s.return}return g}function nl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function NA(s,l,h,g,_){for(var x=l._reactName,L=[];h!==null&&h!==g;){var U=h,z=U.alternate,ie=U.stateNode;if(z!==null&&z===g)break;U.tag===5&&ie!==null&&(U=ie,_?(z=ds(h,x),z!=null&&L.unshift(Df(h,z,U))):_||(z=ds(h,x),z!=null&&L.push(Df(h,z,U)))),h=h.return}L.length!==0&&s.push({event:l,listeners:L})}var HB=/\r\n?/g,KB=/\u0000|\uFFFD/g;function DA(s){return(typeof s=="string"?s:""+s).replace(HB,`
`).replace(KB,"")}function Fp(s,l,h){if(l=DA(l),DA(s)!==l&&h)throw Error(n(425))}function Bp(){}var n_=null,r_=null;function i_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var o_=typeof setTimeout=="function"?setTimeout:void 0,QB=typeof clearTimeout=="function"?clearTimeout:void 0,MA=typeof Promise=="function"?Promise:void 0,YB=typeof queueMicrotask=="function"?queueMicrotask:typeof MA<"u"?function(s){return MA.resolve(null).then(s).catch(XB)}:o_;function XB(s){setTimeout(function(){throw s})}function a_(s,l){var h=l,g=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(g===0){s.removeChild(_),aa(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=_}while(h);aa(l)}function ca(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function jA(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Ci="__reactFiber$"+rl,Mf="__reactProps$"+rl,uo="__reactContainer$"+rl,s_="__reactEvents$"+rl,JB="__reactListeners$"+rl,ZB="__reactHandles$"+rl;function Is(s){var l=s[Ci];if(l)return l;for(var h=s.parentNode;h;){if(l=h[uo]||h[Ci]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=jA(s);s!==null;){if(h=s[Ci])return h;s=jA(s)}return l}s=h,h=s.parentNode}return null}function jf(s){return s=s[Ci]||s[uo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function il(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Up(s){return s[Mf]||null}var u_=[],ol=-1;function fa(s){return{current:s}}function kt(s){0>ol||(s.current=u_[ol],u_[ol]=null,ol--)}function It(s,l){ol++,u_[ol]=s.current,s.current=l}var ha={},Mn=fa(ha),Xn=fa(!1),As=ha;function al(s,l){var h=s.type.contextTypes;if(!h)return ha;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},x;for(x in h)_[x]=l[x];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=_),_}function Jn(s){return s=s.childContextTypes,s!=null}function qp(){kt(Xn),kt(Mn)}function VA(s,l,h){if(Mn.current!==ha)throw Error(n(168));It(Mn,l),It(Xn,h)}function LA(s,l,h){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(n(108,He(s)||"Unknown",_));return ae({},h,g)}function zp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ha,As=Mn.current,It(Mn,s),It(Xn,Xn.current),!0}function $A(s,l,h){var g=s.stateNode;if(!g)throw Error(n(169));h?(s=LA(s,l,As),g.__reactInternalMemoizedMergedChildContext=s,kt(Xn),kt(Mn),It(Mn,s)):kt(Xn),It(Xn,h)}var lo=null,Wp=!1,l_=!1;function FA(s){lo===null?lo=[s]:lo.push(s)}function eU(s){Wp=!0,FA(s)}function da(){if(!l_&&lo!==null){l_=!0;var s=0,l=nt;try{var h=lo;for(nt=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}lo=null,Wp=!1}catch(_){throw lo!==null&&(lo=lo.slice(s+1)),hf(Fu,da),_}finally{nt=l,l_=!1}}return null}var sl=[],ul=0,Gp=null,Hp=0,kr=[],Nr=0,Ps=null,co=1,fo="";function Os(s,l){sl[ul++]=Hp,sl[ul++]=Gp,Gp=s,Hp=l}function BA(s,l,h){kr[Nr++]=co,kr[Nr++]=fo,kr[Nr++]=Ps,Ps=s;var g=co;s=fo;var _=32-dr(g)-1;g&=~(1<<_),h+=1;var x=32-dr(l)+_;if(30<x){var L=_-_%5;x=(g&(1<<L)-1).toString(32),g>>=L,_-=L,co=1<<32-dr(l)+_|h<<_|g,fo=x+s}else co=1<<x|h<<_|g,fo=s}function c_(s){s.return!==null&&(Os(s,1),BA(s,1,0))}function f_(s){for(;s===Gp;)Gp=sl[--ul],sl[ul]=null,Hp=sl[--ul],sl[ul]=null;for(;s===Ps;)Ps=kr[--Nr],kr[Nr]=null,fo=kr[--Nr],kr[Nr]=null,co=kr[--Nr],kr[Nr]=null}var vr=null,_r=null,Vt=!1,Jr=null;function UA(s,l){var h=Vr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function qA(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,vr=s,_r=ca(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,vr=s,_r=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Ps!==null?{id:co,overflow:fo}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Vr(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,vr=s,_r=null,!0):!1;default:return!1}}function h_(s){return(s.mode&1)!==0&&(s.flags&128)===0}function d_(s){if(Vt){var l=_r;if(l){var h=l;if(!qA(s,l)){if(h_(s))throw Error(n(418));l=ca(h.nextSibling);var g=vr;l&&qA(s,l)?UA(g,h):(s.flags=s.flags&-4097|2,Vt=!1,vr=s)}}else{if(h_(s))throw Error(n(418));s.flags=s.flags&-4097|2,Vt=!1,vr=s}}}function zA(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vr=s}function Kp(s){if(s!==vr)return!1;if(!Vt)return zA(s),Vt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!i_(s.type,s.memoizedProps)),l&&(l=_r)){if(h_(s))throw WA(),Error(n(418));for(;l;)UA(s,l),l=ca(l.nextSibling)}if(zA(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){_r=ca(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}_r=null}}else _r=vr?ca(s.stateNode.nextSibling):null;return!0}function WA(){for(var s=_r;s;)s=ca(s.nextSibling)}function ll(){_r=vr=null,Vt=!1}function p_(s){Jr===null?Jr=[s]:Jr.push(s)}var tU=$.ReactCurrentBatchConfig;function Vf(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,s));var _=g,x=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(L){var U=_.refs;L===null?delete U[x]:U[x]=L},l._stringRef=x,l)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function Qp(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function GA(s){var l=s._init;return l(s._payload)}function HA(s){function l(J,W){if(s){var te=J.deletions;te===null?(J.deletions=[W],J.flags|=16):te.push(W)}}function h(J,W){if(!s)return null;for(;W!==null;)l(J,W),W=W.sibling;return null}function g(J,W){for(J=new Map;W!==null;)W.key!==null?J.set(W.key,W):J.set(W.index,W),W=W.sibling;return J}function _(J,W){return J=ba(J,W),J.index=0,J.sibling=null,J}function x(J,W,te){return J.index=te,s?(te=J.alternate,te!==null?(te=te.index,te<W?(J.flags|=2,W):te):(J.flags|=2,W)):(J.flags|=1048576,W)}function L(J){return s&&J.alternate===null&&(J.flags|=2),J}function U(J,W,te,ve){return W===null||W.tag!==6?(W=o0(te,J.mode,ve),W.return=J,W):(W=_(W,te),W.return=J,W)}function z(J,W,te,ve){var ke=te.type;return ke===S?pe(J,W,te.props.children,ve,te.key):W!==null&&(W.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&GA(ke)===W.type)?(ve=_(W,te.props),ve.ref=Vf(J,W,te),ve.return=J,ve):(ve=_m(te.type,te.key,te.props,null,J.mode,ve),ve.ref=Vf(J,W,te),ve.return=J,ve)}function ie(J,W,te,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=a0(te,J.mode,ve),W.return=J,W):(W=_(W,te.children||[]),W.return=J,W)}function pe(J,W,te,ve,ke){return W===null||W.tag!==7?(W=Vs(te,J.mode,ve,ke),W.return=J,W):(W=_(W,te),W.return=J,W)}function ge(J,W,te){if(typeof W=="string"&&W!==""||typeof W=="number")return W=o0(""+W,J.mode,te),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case P:return te=_m(W.type,W.key,W.props,null,J.mode,te),te.ref=Vf(J,null,W),te.return=J,te;case k:return W=a0(W,J.mode,te),W.return=J,W;case re:var ve=W._init;return ge(J,ve(W._payload),te)}if(St(W)||se(W))return W=Vs(W,J.mode,te,null),W.return=J,W;Qp(J,W)}return null}function de(J,W,te,ve){var ke=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return ke!==null?null:U(J,W,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return te.key===ke?z(J,W,te,ve):null;case k:return te.key===ke?ie(J,W,te,ve):null;case re:return ke=te._init,de(J,W,ke(te._payload),ve)}if(St(te)||se(te))return ke!==null?null:pe(J,W,te,ve,null);Qp(J,te)}return null}function Ie(J,W,te,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return J=J.get(te)||null,U(W,J,""+ve,ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case P:return J=J.get(ve.key===null?te:ve.key)||null,z(W,J,ve,ke);case k:return J=J.get(ve.key===null?te:ve.key)||null,ie(W,J,ve,ke);case re:var je=ve._init;return Ie(J,W,te,je(ve._payload),ke)}if(St(ve)||se(ve))return J=J.get(te)||null,pe(W,J,ve,ke,null);Qp(W,ve)}return null}function Oe(J,W,te,ve){for(var ke=null,je=null,Ve=W,qe=W=0,_n=null;Ve!==null&&qe<te.length;qe++){Ve.index>qe?(_n=Ve,Ve=null):_n=Ve.sibling;var st=de(J,Ve,te[qe],ve);if(st===null){Ve===null&&(Ve=_n);break}s&&Ve&&st.alternate===null&&l(J,Ve),W=x(st,W,qe),je===null?ke=st:je.sibling=st,je=st,Ve=_n}if(qe===te.length)return h(J,Ve),Vt&&Os(J,qe),ke;if(Ve===null){for(;qe<te.length;qe++)Ve=ge(J,te[qe],ve),Ve!==null&&(W=x(Ve,W,qe),je===null?ke=Ve:je.sibling=Ve,je=Ve);return Vt&&Os(J,qe),ke}for(Ve=g(J,Ve);qe<te.length;qe++)_n=Ie(Ve,J,qe,te[qe],ve),_n!==null&&(s&&_n.alternate!==null&&Ve.delete(_n.key===null?qe:_n.key),W=x(_n,W,qe),je===null?ke=_n:je.sibling=_n,je=_n);return s&&Ve.forEach(function(xa){return l(J,xa)}),Vt&&Os(J,qe),ke}function Re(J,W,te,ve){var ke=se(te);if(typeof ke!="function")throw Error(n(150));if(te=ke.call(te),te==null)throw Error(n(151));for(var je=ke=null,Ve=W,qe=W=0,_n=null,st=te.next();Ve!==null&&!st.done;qe++,st=te.next()){Ve.index>qe?(_n=Ve,Ve=null):_n=Ve.sibling;var xa=de(J,Ve,st.value,ve);if(xa===null){Ve===null&&(Ve=_n);break}s&&Ve&&xa.alternate===null&&l(J,Ve),W=x(xa,W,qe),je===null?ke=xa:je.sibling=xa,je=xa,Ve=_n}if(st.done)return h(J,Ve),Vt&&Os(J,qe),ke;if(Ve===null){for(;!st.done;qe++,st=te.next())st=ge(J,st.value,ve),st!==null&&(W=x(st,W,qe),je===null?ke=st:je.sibling=st,je=st);return Vt&&Os(J,qe),ke}for(Ve=g(J,Ve);!st.done;qe++,st=te.next())st=Ie(Ve,J,qe,st.value,ve),st!==null&&(s&&st.alternate!==null&&Ve.delete(st.key===null?qe:st.key),W=x(st,W,qe),je===null?ke=st:je.sibling=st,je=st);return s&&Ve.forEach(function(DU){return l(J,DU)}),Vt&&Os(J,qe),ke}function Yt(J,W,te,ve){if(typeof te=="object"&&te!==null&&te.type===S&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case P:e:{for(var ke=te.key,je=W;je!==null;){if(je.key===ke){if(ke=te.type,ke===S){if(je.tag===7){h(J,je.sibling),W=_(je,te.props.children),W.return=J,J=W;break e}}else if(je.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&GA(ke)===je.type){h(J,je.sibling),W=_(je,te.props),W.ref=Vf(J,je,te),W.return=J,J=W;break e}h(J,je);break}else l(J,je);je=je.sibling}te.type===S?(W=Vs(te.props.children,J.mode,ve,te.key),W.return=J,J=W):(ve=_m(te.type,te.key,te.props,null,J.mode,ve),ve.ref=Vf(J,W,te),ve.return=J,J=ve)}return L(J);case k:e:{for(je=te.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){h(J,W.sibling),W=_(W,te.children||[]),W.return=J,J=W;break e}else{h(J,W);break}else l(J,W);W=W.sibling}W=a0(te,J.mode,ve),W.return=J,J=W}return L(J);case re:return je=te._init,Yt(J,W,je(te._payload),ve)}if(St(te))return Oe(J,W,te,ve);if(se(te))return Re(J,W,te,ve);Qp(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,W!==null&&W.tag===6?(h(J,W.sibling),W=_(W,te),W.return=J,J=W):(h(J,W),W=o0(te,J.mode,ve),W.return=J,J=W),L(J)):h(J,W)}return Yt}var cl=HA(!0),KA=HA(!1),Yp=fa(null),Xp=null,fl=null,m_=null;function g_(){m_=fl=Xp=null}function y_(s){var l=Yp.current;kt(Yp),s._currentValue=l}function v_(s,l,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===h)break;s=s.return}}function hl(s,l){Xp=s,m_=fl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Zn=!0),s.firstContext=null)}function Dr(s){var l=s._currentValue;if(m_!==s)if(s={context:s,memoizedValue:l,next:null},fl===null){if(Xp===null)throw Error(n(308));fl=s,Xp.dependencies={lanes:0,firstContext:s}}else fl=fl.next=s;return l}var Cs=null;function __(s){Cs===null?Cs=[s]:Cs.push(s)}function QA(s,l,h,g){var _=l.interleaved;return _===null?(h.next=h,__(l)):(h.next=_.next,_.next=h),l.interleaved=h,ho(s,g)}function ho(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var pa=!1;function w_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YA(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function po(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function ma(s,l,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,ho(s,h)}return _=g.interleaved,_===null?(l.next=l,__(g)):(l.next=_.next,_.next=l),g.interleaved=l,ho(s,h)}function Jp(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,vf(s,h)}}function XA(s,l){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var L={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};x===null?_=x=L:x=x.next=L,h=h.next}while(h!==null);x===null?_=x=l:x=x.next=l}else _=x=l;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function Zp(s,l,h,g){var _=s.updateQueue;pa=!1;var x=_.firstBaseUpdate,L=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var z=U,ie=z.next;z.next=null,L===null?x=ie:L.next=ie,L=z;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,U=pe.lastBaseUpdate,U!==L&&(U===null?pe.firstBaseUpdate=ie:U.next=ie,pe.lastBaseUpdate=z))}if(x!==null){var ge=_.baseState;L=0,pe=ie=z=null,U=x;do{var de=U.lane,Ie=U.eventTime;if((g&de)===de){pe!==null&&(pe=pe.next={eventTime:Ie,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Oe=s,Re=U;switch(de=l,Ie=h,Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ge=Oe.call(Ie,ge,de);break e}ge=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,de=typeof Oe=="function"?Oe.call(Ie,ge,de):Oe,de==null)break e;ge=ae({},ge,de);break e;case 2:pa=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,de=_.effects,de===null?_.effects=[U]:de.push(U))}else Ie={eventTime:Ie,lane:de,tag:U.tag,payload:U.payload,callback:U.callback,next:null},pe===null?(ie=pe=Ie,z=ge):pe=pe.next=Ie,L|=de;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;de=U,U=de.next,de.next=null,_.lastBaseUpdate=de,_.shared.pending=null}}while(!0);if(pe===null&&(z=ge),_.baseState=z,_.firstBaseUpdate=ie,_.lastBaseUpdate=pe,l=_.shared.interleaved,l!==null){_=l;do L|=_.lane,_=_.next;while(_!==l)}else x===null&&(_.shared.lanes=0);Ns|=L,s.lanes=L,s.memoizedState=ge}}function JA(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],_=g.callback;if(_!==null){if(g.callback=null,g=h,typeof _!="function")throw Error(n(191,_));_.call(g)}}}var Lf={},Ri=fa(Lf),$f=fa(Lf),Ff=fa(Lf);function Rs(s){if(s===Lf)throw Error(n(174));return s}function b_(s,l){switch(It(Ff,l),It($f,s),It(Ri,Lf),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Du(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Du(l,s)}kt(Ri),It(Ri,l)}function dl(){kt(Ri),kt($f),kt(Ff)}function ZA(s){Rs(Ff.current);var l=Rs(Ri.current),h=Du(l,s.type);l!==h&&(It($f,s),It(Ri,h))}function x_(s){$f.current===s&&(kt(Ri),kt($f))}var Ut=fa(0);function em(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var E_=[];function T_(){for(var s=0;s<E_.length;s++)E_[s]._workInProgressVersionPrimary=null;E_.length=0}var tm=$.ReactCurrentDispatcher,S_=$.ReactCurrentBatchConfig,ks=0,qt=null,un=null,yn=null,nm=!1,Bf=!1,Uf=0,nU=0;function jn(){throw Error(n(321))}function I_(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Xr(s[h],l[h]))return!1;return!0}function A_(s,l,h,g,_,x){if(ks=x,qt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,tm.current=s===null||s.memoizedState===null?aU:sU,s=h(g,_),Bf){x=0;do{if(Bf=!1,Uf=0,25<=x)throw Error(n(301));x+=1,yn=un=null,l.updateQueue=null,tm.current=uU,s=h(g,_)}while(Bf)}if(tm.current=om,l=un!==null&&un.next!==null,ks=0,yn=un=qt=null,nm=!1,l)throw Error(n(300));return s}function P_(){var s=Uf!==0;return Uf=0,s}function ki(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?qt.memoizedState=yn=s:yn=yn.next=s,yn}function Mr(){if(un===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var l=yn===null?qt.memoizedState:yn.next;if(l!==null)yn=l,un=s;else{if(s===null)throw Error(n(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},yn===null?qt.memoizedState=yn=s:yn=yn.next=s}return yn}function qf(s,l){return typeof l=="function"?l(s):l}function O_(s){var l=Mr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var g=un,_=g.baseQueue,x=h.pending;if(x!==null){if(_!==null){var L=_.next;_.next=x.next,x.next=L}g.baseQueue=_=x,h.pending=null}if(_!==null){x=_.next,g=g.baseState;var U=L=null,z=null,ie=x;do{var pe=ie.lane;if((ks&pe)===pe)z!==null&&(z=z.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),g=ie.hasEagerState?ie.eagerState:s(g,ie.action);else{var ge={lane:pe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};z===null?(U=z=ge,L=g):z=z.next=ge,qt.lanes|=pe,Ns|=pe}ie=ie.next}while(ie!==null&&ie!==x);z===null?L=g:z.next=U,Xr(g,l.memoizedState)||(Zn=!0),l.memoizedState=g,l.baseState=L,l.baseQueue=z,h.lastRenderedState=g}if(s=h.interleaved,s!==null){_=s;do x=_.lane,qt.lanes|=x,Ns|=x,_=_.next;while(_!==s)}else _===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function C_(s){var l=Mr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var g=h.dispatch,_=h.pending,x=l.memoizedState;if(_!==null){h.pending=null;var L=_=_.next;do x=s(x,L.action),L=L.next;while(L!==_);Xr(x,l.memoizedState)||(Zn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),h.lastRenderedState=x}return[x,g]}function eP(){}function tP(s,l){var h=qt,g=Mr(),_=l(),x=!Xr(g.memoizedState,_);if(x&&(g.memoizedState=_,Zn=!0),g=g.queue,R_(iP.bind(null,h,g,s),[s]),g.getSnapshot!==l||x||yn!==null&&yn.memoizedState.tag&1){if(h.flags|=2048,zf(9,rP.bind(null,h,g,_,l),void 0,null),vn===null)throw Error(n(349));(ks&30)!==0||nP(h,l,_)}return _}function nP(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=qt.updateQueue,l===null?(l={lastEffect:null,stores:null},qt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function rP(s,l,h,g){l.value=h,l.getSnapshot=g,oP(l)&&aP(s)}function iP(s,l,h){return h(function(){oP(l)&&aP(s)})}function oP(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Xr(s,h)}catch{return!0}}function aP(s){var l=ho(s,1);l!==null&&ni(l,s,1,-1)}function sP(s){var l=ki();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qf,lastRenderedState:s},l.queue=s,s=s.dispatch=oU.bind(null,qt,s),[l.memoizedState,s]}function zf(s,l,h,g){return s={tag:s,create:l,destroy:h,deps:g,next:null},l=qt.updateQueue,l===null?(l={lastEffect:null,stores:null},qt.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,l.lastEffect=s)),s}function uP(){return Mr().memoizedState}function rm(s,l,h,g){var _=ki();qt.flags|=s,_.memoizedState=zf(1|l,h,void 0,g===void 0?null:g)}function im(s,l,h,g){var _=Mr();g=g===void 0?null:g;var x=void 0;if(un!==null){var L=un.memoizedState;if(x=L.destroy,g!==null&&I_(g,L.deps)){_.memoizedState=zf(l,h,x,g);return}}qt.flags|=s,_.memoizedState=zf(1|l,h,x,g)}function lP(s,l){return rm(8390656,8,s,l)}function R_(s,l){return im(2048,8,s,l)}function cP(s,l){return im(4,2,s,l)}function fP(s,l){return im(4,4,s,l)}function hP(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function dP(s,l,h){return h=h!=null?h.concat([s]):null,im(4,4,hP.bind(null,l,s),h)}function k_(){}function pP(s,l){var h=Mr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&I_(l,g[1])?g[0]:(h.memoizedState=[s,l],s)}function mP(s,l){var h=Mr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&I_(l,g[1])?g[0]:(s=s(),h.memoizedState=[s,l],s)}function gP(s,l,h){return(ks&21)===0?(s.baseState&&(s.baseState=!1,Zn=!0),s.memoizedState=h):(Xr(h,l)||(h=gf(),qt.lanes|=h,Ns|=h,s.baseState=!0),l)}function rU(s,l){var h=nt;nt=h!==0&&4>h?h:4,s(!0);var g=S_.transition;S_.transition={};try{s(!1),l()}finally{nt=h,S_.transition=g}}function yP(){return Mr().memoizedState}function iU(s,l,h){var g=_a(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},vP(s))_P(l,h);else if(h=QA(s,l,h,g),h!==null){var _=Hn();ni(h,s,g,_),wP(h,l,g)}}function oU(s,l,h){var g=_a(s),_={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(vP(s))_P(l,_);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var L=l.lastRenderedState,U=x(L,h);if(_.hasEagerState=!0,_.eagerState=U,Xr(U,L)){var z=l.interleaved;z===null?(_.next=_,__(l)):(_.next=z.next,z.next=_),l.interleaved=_;return}}catch{}finally{}h=QA(s,l,_,g),h!==null&&(_=Hn(),ni(h,s,g,_),wP(h,l,g))}}function vP(s){var l=s.alternate;return s===qt||l!==null&&l===qt}function _P(s,l){Bf=nm=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function wP(s,l,h){if((h&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,vf(s,h)}}var om={readContext:Dr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},aU={readContext:Dr,useCallback:function(s,l){return ki().memoizedState=[s,l===void 0?null:l],s},useContext:Dr,useEffect:lP,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,rm(4194308,4,hP.bind(null,l,s),h)},useLayoutEffect:function(s,l){return rm(4194308,4,s,l)},useInsertionEffect:function(s,l){return rm(4,2,s,l)},useMemo:function(s,l){var h=ki();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var g=ki();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=iU.bind(null,qt,s),[g.memoizedState,s]},useRef:function(s){var l=ki();return s={current:s},l.memoizedState=s},useState:sP,useDebugValue:k_,useDeferredValue:function(s){return ki().memoizedState=s},useTransition:function(){var s=sP(!1),l=s[0];return s=rU.bind(null,s[1]),ki().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var g=qt,_=ki();if(Vt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),vn===null)throw Error(n(349));(ks&30)!==0||nP(g,l,h)}_.memoizedState=h;var x={value:h,getSnapshot:l};return _.queue=x,lP(iP.bind(null,g,x,s),[s]),g.flags|=2048,zf(9,rP.bind(null,g,x,h,l),void 0,null),h},useId:function(){var s=ki(),l=vn.identifierPrefix;if(Vt){var h=fo,g=co;h=(g&~(1<<32-dr(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=Uf++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=nU++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},sU={readContext:Dr,useCallback:pP,useContext:Dr,useEffect:R_,useImperativeHandle:dP,useInsertionEffect:cP,useLayoutEffect:fP,useMemo:mP,useReducer:O_,useRef:uP,useState:function(){return O_(qf)},useDebugValue:k_,useDeferredValue:function(s){var l=Mr();return gP(l,un.memoizedState,s)},useTransition:function(){var s=O_(qf)[0],l=Mr().memoizedState;return[s,l]},useMutableSource:eP,useSyncExternalStore:tP,useId:yP,unstable_isNewReconciler:!1},uU={readContext:Dr,useCallback:pP,useContext:Dr,useEffect:R_,useImperativeHandle:dP,useInsertionEffect:cP,useLayoutEffect:fP,useMemo:mP,useReducer:C_,useRef:uP,useState:function(){return C_(qf)},useDebugValue:k_,useDeferredValue:function(s){var l=Mr();return un===null?l.memoizedState=s:gP(l,un.memoizedState,s)},useTransition:function(){var s=C_(qf)[0],l=Mr().memoizedState;return[s,l]},useMutableSource:eP,useSyncExternalStore:tP,useId:yP,unstable_isNewReconciler:!1};function Zr(s,l){if(s&&s.defaultProps){l=ae({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function N_(s,l,h,g){l=s.memoizedState,h=h(g,l),h=h==null?l:ae({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var am={isMounted:function(s){return(s=s._reactInternals)?Qr(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var g=Hn(),_=_a(s),x=po(g,_);x.payload=l,h!=null&&(x.callback=h),l=ma(s,x,_),l!==null&&(ni(l,s,_,g),Jp(l,s,_))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var g=Hn(),_=_a(s),x=po(g,_);x.tag=1,x.payload=l,h!=null&&(x.callback=h),l=ma(s,x,_),l!==null&&(ni(l,s,_,g),Jp(l,s,_))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Hn(),g=_a(s),_=po(h,g);_.tag=2,l!=null&&(_.callback=l),l=ma(s,_,g),l!==null&&(ni(l,s,g,h),Jp(l,s,g))}};function bP(s,l,h,g,_,x,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,x,L):l.prototype&&l.prototype.isPureReactComponent?!Cf(h,g)||!Cf(_,x):!0}function xP(s,l,h){var g=!1,_=ha,x=l.contextType;return typeof x=="object"&&x!==null?x=Dr(x):(_=Jn(l)?As:Mn.current,g=l.contextTypes,x=(g=g!=null)?al(s,_):ha),l=new l(h,x),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=am,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=x),l}function EP(s,l,h,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==s&&am.enqueueReplaceState(l,l.state,null)}function D_(s,l,h,g){var _=s.stateNode;_.props=h,_.state=s.memoizedState,_.refs={},w_(s);var x=l.contextType;typeof x=="object"&&x!==null?_.context=Dr(x):(x=Jn(l)?As:Mn.current,_.context=al(s,x)),_.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(N_(s,l,x,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&am.enqueueReplaceState(_,_.state,null),Zp(s,h,_,g),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function pl(s,l){try{var h="",g=l;do h+=Ne(g),g=g.return;while(g);var _=h}catch(x){_=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:l,stack:_,digest:null}}function M_(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function j_(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var lU=typeof WeakMap=="function"?WeakMap:Map;function TP(s,l,h){h=po(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){dm||(dm=!0,X_=g),j_(s,l)},h}function SP(s,l,h){h=po(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;h.payload=function(){return g(_)},h.callback=function(){j_(s,l)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(h.callback=function(){j_(s,l),typeof g!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),h}function IP(s,l,h){var g=s.pingCache;if(g===null){g=s.pingCache=new lU;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(h)||(_.add(h),s=EU.bind(null,s,l,h),l.then(s,s))}function AP(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function PP(s,l,h,g,_){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=po(-1,1),l.tag=2,ma(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var cU=$.ReactCurrentOwner,Zn=!1;function Gn(s,l,h,g){l.child=s===null?KA(l,null,h,g):cl(l,s.child,h,g)}function OP(s,l,h,g,_){h=h.render;var x=l.ref;return hl(l,_),g=A_(s,l,h,g,x,_),h=P_(),s!==null&&!Zn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~_,mo(s,l,_)):(Vt&&h&&c_(l),l.flags|=1,Gn(s,l,g,_),l.child)}function CP(s,l,h,g,_){if(s===null){var x=h.type;return typeof x=="function"&&!i0(x)&&x.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=x,RP(s,l,x,g,_)):(s=_m(h.type,null,g,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(x=s.child,(s.lanes&_)===0){var L=x.memoizedProps;if(h=h.compare,h=h!==null?h:Cf,h(L,g)&&s.ref===l.ref)return mo(s,l,_)}return l.flags|=1,s=ba(x,g),s.ref=l.ref,s.return=l,l.child=s}function RP(s,l,h,g,_){if(s!==null){var x=s.memoizedProps;if(Cf(x,g)&&s.ref===l.ref)if(Zn=!1,l.pendingProps=g=x,(s.lanes&_)!==0)(s.flags&131072)!==0&&(Zn=!0);else return l.lanes=s.lanes,mo(s,l,_)}return V_(s,l,h,g,_)}function kP(s,l,h){var g=l.pendingProps,_=g.children,x=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(gl,wr),wr|=h;else{if((h&1073741824)===0)return s=x!==null?x.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,It(gl,wr),wr|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:h,It(gl,wr),wr|=g}else x!==null?(g=x.baseLanes|h,l.memoizedState=null):g=h,It(gl,wr),wr|=g;return Gn(s,l,_,h),l.child}function NP(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function V_(s,l,h,g,_){var x=Jn(h)?As:Mn.current;return x=al(l,x),hl(l,_),h=A_(s,l,h,g,x,_),g=P_(),s!==null&&!Zn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~_,mo(s,l,_)):(Vt&&g&&c_(l),l.flags|=1,Gn(s,l,h,_),l.child)}function DP(s,l,h,g,_){if(Jn(h)){var x=!0;zp(l)}else x=!1;if(hl(l,_),l.stateNode===null)um(s,l),xP(l,h,g),D_(l,h,g,_),g=!0;else if(s===null){var L=l.stateNode,U=l.memoizedProps;L.props=U;var z=L.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=Dr(ie):(ie=Jn(h)?As:Mn.current,ie=al(l,ie));var pe=h.getDerivedStateFromProps,ge=typeof pe=="function"||typeof L.getSnapshotBeforeUpdate=="function";ge||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(U!==g||z!==ie)&&EP(l,L,g,ie),pa=!1;var de=l.memoizedState;L.state=de,Zp(l,g,L,_),z=l.memoizedState,U!==g||de!==z||Xn.current||pa?(typeof pe=="function"&&(N_(l,h,pe,g),z=l.memoizedState),(U=pa||bP(l,h,U,g,de,z,ie))?(ge||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=z),L.props=g,L.state=z,L.context=ie,g=U):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{L=l.stateNode,YA(s,l),U=l.memoizedProps,ie=l.type===l.elementType?U:Zr(l.type,U),L.props=ie,ge=l.pendingProps,de=L.context,z=h.contextType,typeof z=="object"&&z!==null?z=Dr(z):(z=Jn(h)?As:Mn.current,z=al(l,z));var Ie=h.getDerivedStateFromProps;(pe=typeof Ie=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(U!==ge||de!==z)&&EP(l,L,g,z),pa=!1,de=l.memoizedState,L.state=de,Zp(l,g,L,_);var Oe=l.memoizedState;U!==ge||de!==Oe||Xn.current||pa?(typeof Ie=="function"&&(N_(l,h,Ie,g),Oe=l.memoizedState),(ie=pa||bP(l,h,ie,g,de,Oe,z)||!1)?(pe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(g,Oe,z),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(g,Oe,z)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||U===s.memoizedProps&&de===s.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&de===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Oe),L.props=g,L.state=Oe,L.context=z,g=ie):(typeof L.componentDidUpdate!="function"||U===s.memoizedProps&&de===s.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&de===s.memoizedState||(l.flags|=1024),g=!1)}return L_(s,l,h,g,x,_)}function L_(s,l,h,g,_,x){NP(s,l);var L=(l.flags&128)!==0;if(!g&&!L)return _&&$A(l,h,!1),mo(s,l,x);g=l.stateNode,cU.current=l;var U=L&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&L?(l.child=cl(l,s.child,null,x),l.child=cl(l,null,U,x)):Gn(s,l,U,x),l.memoizedState=g.state,_&&$A(l,h,!0),l.child}function MP(s){var l=s.stateNode;l.pendingContext?VA(s,l.pendingContext,l.pendingContext!==l.context):l.context&&VA(s,l.context,!1),b_(s,l.containerInfo)}function jP(s,l,h,g,_){return ll(),p_(_),l.flags|=256,Gn(s,l,h,g),l.child}var $_={dehydrated:null,treeContext:null,retryLane:0};function F_(s){return{baseLanes:s,cachePool:null,transitions:null}}function VP(s,l,h){var g=l.pendingProps,_=Ut.current,x=!1,L=(l.flags&128)!==0,U;if((U=L)||(U=s!==null&&s.memoizedState===null?!1:(_&2)!==0),U?(x=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),It(Ut,_&1),s===null)return d_(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=g.children,s=g.fallback,x?(g=l.mode,x=l.child,L={mode:"hidden",children:L},(g&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=L):x=wm(L,g,0,null),s=Vs(s,g,h,null),x.return=l,s.return=l,x.sibling=s,l.child=x,l.child.memoizedState=F_(h),l.memoizedState=$_,s):B_(l,L));if(_=s.memoizedState,_!==null&&(U=_.dehydrated,U!==null))return fU(s,l,L,g,U,_,h);if(x){x=g.fallback,L=l.mode,_=s.child,U=_.sibling;var z={mode:"hidden",children:g.children};return(L&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=z,l.deletions=null):(g=ba(_,z),g.subtreeFlags=_.subtreeFlags&14680064),U!==null?x=ba(U,x):(x=Vs(x,L,h,null),x.flags|=2),x.return=l,g.return=l,g.sibling=x,l.child=g,g=x,x=l.child,L=s.child.memoizedState,L=L===null?F_(h):{baseLanes:L.baseLanes|h,cachePool:null,transitions:L.transitions},x.memoizedState=L,x.childLanes=s.childLanes&~h,l.memoizedState=$_,g}return x=s.child,s=x.sibling,g=ba(x,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=g,l.memoizedState=null,g}function B_(s,l){return l=wm({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function sm(s,l,h,g){return g!==null&&p_(g),cl(l,s.child,null,h),s=B_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function fU(s,l,h,g,_,x,L){if(h)return l.flags&256?(l.flags&=-257,g=M_(Error(n(422))),sm(s,l,L,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(x=g.fallback,_=l.mode,g=wm({mode:"visible",children:g.children},_,0,null),x=Vs(x,_,L,null),x.flags|=2,g.return=l,x.return=l,g.sibling=x,l.child=g,(l.mode&1)!==0&&cl(l,s.child,null,L),l.child.memoizedState=F_(L),l.memoizedState=$_,x);if((l.mode&1)===0)return sm(s,l,L,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var U=g.dgst;return g=U,x=Error(n(419)),g=M_(x,g,void 0),sm(s,l,L,g)}if(U=(L&s.childLanes)!==0,Zn||U){if(g=vn,g!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|L))!==0?0:_,_!==0&&_!==x.retryLane&&(x.retryLane=_,ho(s,_),ni(g,s,_,-1))}return r0(),g=M_(Error(n(421))),sm(s,l,L,g)}return _.data==="$?"?(l.flags|=128,l.child=s.child,l=TU.bind(null,s),_._reactRetry=l,null):(s=x.treeContext,_r=ca(_.nextSibling),vr=l,Vt=!0,Jr=null,s!==null&&(kr[Nr++]=co,kr[Nr++]=fo,kr[Nr++]=Ps,co=s.id,fo=s.overflow,Ps=l),l=B_(l,g.children),l.flags|=4096,l)}function LP(s,l,h){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),v_(s.return,l,h)}function U_(s,l,h,g,_){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=h,x.tailMode=_)}function $P(s,l,h){var g=l.pendingProps,_=g.revealOrder,x=g.tail;if(Gn(s,l,g.children,h),g=Ut.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&LP(s,h,l);else if(s.tag===19)LP(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(It(Ut,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(h=l.child,_=null;h!==null;)s=h.alternate,s!==null&&em(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),U_(l,!1,_,h,x);break;case"backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&em(s)===null){l.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}U_(l,!0,h,null,x);break;case"together":U_(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function um(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function mo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),Ns|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,h=ba(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=ba(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function hU(s,l,h){switch(l.tag){case 3:MP(l),ll();break;case 5:ZA(l);break;case 1:Jn(l.type)&&zp(l);break;case 4:b_(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;It(Yp,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(It(Ut,Ut.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?VP(s,l,h):(It(Ut,Ut.current&1),s=mo(s,l,h),s!==null?s.sibling:null);It(Ut,Ut.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(s.flags&128)!==0){if(g)return $P(s,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),It(Ut,Ut.current),g)break;return null;case 22:case 23:return l.lanes=0,kP(s,l,h)}return mo(s,l,h)}var FP,q_,BP,UP;FP=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},q_=function(){},BP=function(s,l,h,g){var _=s.memoizedProps;if(_!==g){s=l.stateNode,Rs(Ri.current);var x=null;switch(h){case"input":_=Ge(s,_),g=Ge(s,g),x=[];break;case"select":_=ae({},_,{value:void 0}),g=ae({},g,{value:void 0}),x=[];break;case"textarea":_=fr(s,_),g=fr(s,g),x=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Bp)}Kr(h,g);var L;h=null;for(ie in _)if(!g.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var U=_[ie];for(L in U)U.hasOwnProperty(L)&&(h||(h={}),h[L]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?x||(x=[]):(x=x||[]).push(ie,null));for(ie in g){var z=g[ie];if(U=_?.[ie],g.hasOwnProperty(ie)&&z!==U&&(z!=null||U!=null))if(ie==="style")if(U){for(L in U)!U.hasOwnProperty(L)||z&&z.hasOwnProperty(L)||(h||(h={}),h[L]="");for(L in z)z.hasOwnProperty(L)&&U[L]!==z[L]&&(h||(h={}),h[L]=z[L])}else h||(x||(x=[]),x.push(ie,h)),h=z;else ie==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(x=x||[]).push(ie,z)):ie==="children"?typeof z!="string"&&typeof z!="number"||(x=x||[]).push(ie,""+z):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(z!=null&&ie==="onScroll"&&Rt("scroll",s),x||U===z||(x=[])):(x=x||[]).push(ie,z))}h&&(x=x||[]).push("style",h);var ie=x;(l.updateQueue=ie)&&(l.flags|=4)}},UP=function(s,l,h,g){h!==g&&(l.flags|=4)};function Wf(s,l){if(!Vt)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Vn(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(l)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=h,l}function dU(s,l,h){var g=l.pendingProps;switch(f_(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(l),null;case 1:return Jn(l.type)&&qp(),Vn(l),null;case 3:return g=l.stateNode,dl(),kt(Xn),kt(Mn),T_(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Kp(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jr!==null&&(e0(Jr),Jr=null))),q_(s,l),Vn(l),null;case 5:x_(l);var _=Rs(Ff.current);if(h=l.type,s!==null&&l.stateNode!=null)BP(s,l,h,g,_),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Vn(l),null}if(s=Rs(Ri.current),Kp(l)){g=l.stateNode,h=l.type;var x=l.memoizedProps;switch(g[Ci]=l,g[Mf]=x,s=(l.mode&1)!==0,h){case"dialog":Rt("cancel",g),Rt("close",g);break;case"iframe":case"object":case"embed":Rt("load",g);break;case"video":case"audio":for(_=0;_<kf.length;_++)Rt(kf[_],g);break;case"source":Rt("error",g);break;case"img":case"image":case"link":Rt("error",g),Rt("load",g);break;case"details":Rt("toggle",g);break;case"input":jt(g,x),Rt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!x.multiple},Rt("invalid",g);break;case"textarea":Xi(g,x),Rt("invalid",g)}Kr(h,x),_=null;for(var L in x)if(x.hasOwnProperty(L)){var U=x[L];L==="children"?typeof U=="string"?g.textContent!==U&&(x.suppressHydrationWarning!==!0&&Fp(g.textContent,U,s),_=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(x.suppressHydrationWarning!==!0&&Fp(g.textContent,U,s),_=["children",""+U]):i.hasOwnProperty(L)&&U!=null&&L==="onScroll"&&Rt("scroll",g)}switch(h){case"input":Me(g),Yn(g,x,!0);break;case"textarea":Me(g),Hr(g);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(g.onclick=Bp)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=sf(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=L.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=L.createElement(h,{is:g.is}):(s=L.createElement(h),h==="select"&&(L=s,g.multiple?L.multiple=!0:g.size&&(L.size=g.size))):s=L.createElementNS(s,h),s[Ci]=l,s[Mf]=g,FP(s,l,!1,!1),l.stateNode=s;e:{switch(L=ju(h,g),h){case"dialog":Rt("cancel",s),Rt("close",s),_=g;break;case"iframe":case"object":case"embed":Rt("load",s),_=g;break;case"video":case"audio":for(_=0;_<kf.length;_++)Rt(kf[_],s);_=g;break;case"source":Rt("error",s),_=g;break;case"img":case"image":case"link":Rt("error",s),Rt("load",s),_=g;break;case"details":Rt("toggle",s),_=g;break;case"input":jt(s,g),_=Ge(s,g),Rt("invalid",s);break;case"option":_=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},_=ae({},g,{value:void 0}),Rt("invalid",s);break;case"textarea":Xi(s,g),_=fr(s,g),Rt("invalid",s);break;default:_=g}Kr(h,_),U=_;for(x in U)if(U.hasOwnProperty(x)){var z=U[x];x==="style"?Mu(s,z):x==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&pp(s,z)):x==="children"?typeof z=="string"?(h!=="textarea"||z!=="")&&hs(s,z):typeof z=="number"&&hs(s,""+z):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?z!=null&&x==="onScroll"&&Rt("scroll",s):z!=null&&R(s,x,z,L))}switch(h){case"input":Me(s),Yn(s,g,!1);break;case"textarea":Me(s),Hr(s);break;case"option":g.value!=null&&s.setAttribute("value",""+$e(g.value));break;case"select":s.multiple=!!g.multiple,x=g.value,x!=null?sn(s,!!g.multiple,x,!1):g.defaultValue!=null&&sn(s,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=Bp)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Vn(l),null;case 6:if(s&&l.stateNode!=null)UP(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=Rs(Ff.current),Rs(Ri.current),Kp(l)){if(g=l.stateNode,h=l.memoizedProps,g[Ci]=l,(x=g.nodeValue!==h)&&(s=vr,s!==null))switch(s.tag){case 3:Fp(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Fp(g.nodeValue,h,(s.mode&1)!==0)}x&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Ci]=l,l.stateNode=g}return Vn(l),null;case 13:if(kt(Ut),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Vt&&_r!==null&&(l.mode&1)!==0&&(l.flags&128)===0)WA(),ll(),l.flags|=98560,x=!1;else if(x=Kp(l),g!==null&&g.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Ci]=l}else ll(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vn(l),x=!1}else Jr!==null&&(e0(Jr),Jr=null),x=!0;if(!x)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Ut.current&1)!==0?ln===0&&(ln=3):r0())),l.updateQueue!==null&&(l.flags|=4),Vn(l),null);case 4:return dl(),q_(s,l),s===null&&Nf(l.stateNode.containerInfo),Vn(l),null;case 10:return y_(l.type._context),Vn(l),null;case 17:return Jn(l.type)&&qp(),Vn(l),null;case 19:if(kt(Ut),x=l.memoizedState,x===null)return Vn(l),null;if(g=(l.flags&128)!==0,L=x.rendering,L===null)if(g)Wf(x,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(L=em(s),L!==null){for(l.flags|=128,Wf(x,!1),g=L.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)x=h,s=g,x.flags&=14680066,L=x.alternate,L===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=L.childLanes,x.lanes=L.lanes,x.child=L.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=L.memoizedProps,x.memoizedState=L.memoizedState,x.updateQueue=L.updateQueue,x.type=L.type,s=L.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return It(Ut,Ut.current&1|2),l.child}s=s.sibling}x.tail!==null&&Ct()>yl&&(l.flags|=128,g=!0,Wf(x,!1),l.lanes=4194304)}else{if(!g)if(s=em(L),s!==null){if(l.flags|=128,g=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Wf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!L.alternate&&!Vt)return Vn(l),null}else 2*Ct()-x.renderingStartTime>yl&&h!==1073741824&&(l.flags|=128,g=!0,Wf(x,!1),l.lanes=4194304);x.isBackwards?(L.sibling=l.child,l.child=L):(h=x.last,h!==null?h.sibling=L:l.child=L,x.last=L)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Ct(),l.sibling=null,h=Ut.current,It(Ut,g?h&1|2:h&1),l):(Vn(l),null);case 22:case 23:return n0(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(wr&1073741824)!==0&&(Vn(l),l.subtreeFlags&6&&(l.flags|=8192)):Vn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function pU(s,l){switch(f_(l),l.tag){case 1:return Jn(l.type)&&qp(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return dl(),kt(Xn),kt(Mn),T_(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return x_(l),null;case 13:if(kt(Ut),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ll()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return kt(Ut),null;case 4:return dl(),null;case 10:return y_(l.type._context),null;case 22:case 23:return n0(),null;case 24:return null;default:return null}}var lm=!1,Ln=!1,mU=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ml(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Ht(s,l,g)}else h.current=null}function z_(s,l,h){try{h()}catch(g){Ht(s,l,g)}}var qP=!1;function gU(s,l){if(n_=oo,s=bA(),Kv(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var L=0,U=-1,z=-1,ie=0,pe=0,ge=s,de=null;t:for(;;){for(var Ie;ge!==h||_!==0&&ge.nodeType!==3||(U=L+_),ge!==x||g!==0&&ge.nodeType!==3||(z=L+g),ge.nodeType===3&&(L+=ge.nodeValue.length),(Ie=ge.firstChild)!==null;)de=ge,ge=Ie;for(;;){if(ge===s)break t;if(de===h&&++ie===_&&(U=L),de===x&&++pe===g&&(z=L),(Ie=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=Ie}h=U===-1||z===-1?null:{start:U,end:z}}else h=null}h=h||{start:0,end:0}}else h=null;for(r_={focusedElem:s,selectionRange:h},oo=!1,Ae=l;Ae!==null;)if(l=Ae,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Ae=s;else for(;Ae!==null;){l=Ae;try{var Oe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Re=Oe.memoizedProps,Yt=Oe.memoizedState,J=l.stateNode,W=J.getSnapshotBeforeUpdate(l.elementType===l.type?Re:Zr(l.type,Re),Yt);J.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var te=l.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){Ht(l,l.return,ve)}if(s=l.sibling,s!==null){s.return=l.return,Ae=s;break}Ae=l.return}return Oe=qP,qP=!1,Oe}function Gf(s,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&s)===s){var x=_.destroy;_.destroy=void 0,x!==void 0&&z_(l,h,x)}_=_.next}while(_!==g)}}function cm(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function W_(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function zP(s){var l=s.alternate;l!==null&&(s.alternate=null,zP(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Ci],delete l[Mf],delete l[s_],delete l[JB],delete l[ZB])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function WP(s){return s.tag===5||s.tag===3||s.tag===4}function GP(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||WP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function G_(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Bp));else if(g!==4&&(s=s.child,s!==null))for(G_(s,l,h),s=s.sibling;s!==null;)G_(s,l,h),s=s.sibling}function H_(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(H_(s,l,h),s=s.sibling;s!==null;)H_(s,l,h),s=s.sibling}var On=null,ei=!1;function ga(s,l,h){for(h=h.child;h!==null;)HP(s,l,h),h=h.sibling}function HP(s,l,h){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(ys,h)}catch{}switch(h.tag){case 5:Ln||ml(h,l);case 6:var g=On,_=ei;On=null,ga(s,l,h),On=g,ei=_,On!==null&&(ei?(s=On,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):On.removeChild(h.stateNode));break;case 18:On!==null&&(ei?(s=On,h=h.stateNode,s.nodeType===8?a_(s.parentNode,h):s.nodeType===1&&a_(s,h),aa(s)):a_(On,h.stateNode));break;case 4:g=On,_=ei,On=h.stateNode.containerInfo,ei=!0,ga(s,l,h),On=g,ei=_;break;case 0:case 11:case 14:case 15:if(!Ln&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var x=_,L=x.destroy;x=x.tag,L!==void 0&&((x&2)!==0||(x&4)!==0)&&z_(h,l,L),_=_.next}while(_!==g)}ga(s,l,h);break;case 1:if(!Ln&&(ml(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(U){Ht(h,l,U)}ga(s,l,h);break;case 21:ga(s,l,h);break;case 22:h.mode&1?(Ln=(g=Ln)||h.memoizedState!==null,ga(s,l,h),Ln=g):ga(s,l,h);break;default:ga(s,l,h)}}function KP(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new mU),l.forEach(function(g){var _=SU.bind(null,s,g);h.has(g)||(h.add(g),g.then(_,_))})}}function ti(s,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g];try{var x=s,L=l,U=L;e:for(;U!==null;){switch(U.tag){case 5:On=U.stateNode,ei=!1;break e;case 3:On=U.stateNode.containerInfo,ei=!0;break e;case 4:On=U.stateNode.containerInfo,ei=!0;break e}U=U.return}if(On===null)throw Error(n(160));HP(x,L,_),On=null,ei=!1;var z=_.alternate;z!==null&&(z.return=null),_.return=null}catch(ie){Ht(_,l,ie)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)QP(l,s),l=l.sibling}function QP(s,l){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ti(l,s),Ni(s),g&4){try{Gf(3,s,s.return),cm(3,s)}catch(Re){Ht(s,s.return,Re)}try{Gf(5,s,s.return)}catch(Re){Ht(s,s.return,Re)}}break;case 1:ti(l,s),Ni(s),g&512&&h!==null&&ml(h,h.return);break;case 5:if(ti(l,s),Ni(s),g&512&&h!==null&&ml(h,h.return),s.flags&32){var _=s.stateNode;try{hs(_,"")}catch(Re){Ht(s,s.return,Re)}}if(g&4&&(_=s.stateNode,_!=null)){var x=s.memoizedProps,L=h!==null?h.memoizedProps:x,U=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{U==="input"&&x.type==="radio"&&x.name!=null&&Tt(_,x),ju(U,L);var ie=ju(U,x);for(L=0;L<z.length;L+=2){var pe=z[L],ge=z[L+1];pe==="style"?Mu(_,ge):pe==="dangerouslySetInnerHTML"?pp(_,ge):pe==="children"?hs(_,ge):R(_,pe,ge,ie)}switch(U){case"input":Wt(_,x);break;case"textarea":fs(_,x);break;case"select":var de=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!x.multiple;var Ie=x.value;Ie!=null?sn(_,!!x.multiple,Ie,!1):de!==!!x.multiple&&(x.defaultValue!=null?sn(_,!!x.multiple,x.defaultValue,!0):sn(_,!!x.multiple,x.multiple?[]:"",!1))}_[Mf]=x}catch(Re){Ht(s,s.return,Re)}}break;case 6:if(ti(l,s),Ni(s),g&4){if(s.stateNode===null)throw Error(n(162));_=s.stateNode,x=s.memoizedProps;try{_.nodeValue=x}catch(Re){Ht(s,s.return,Re)}}break;case 3:if(ti(l,s),Ni(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{aa(l.containerInfo)}catch(Re){Ht(s,s.return,Re)}break;case 4:ti(l,s),Ni(s);break;case 13:ti(l,s),Ni(s),_=s.child,_.flags&8192&&(x=_.memoizedState!==null,_.stateNode.isHidden=x,!x||_.alternate!==null&&_.alternate.memoizedState!==null||(Y_=Ct())),g&4&&KP(s);break;case 22:if(pe=h!==null&&h.memoizedState!==null,s.mode&1?(Ln=(ie=Ln)||pe,ti(l,s),Ln=ie):ti(l,s),Ni(s),g&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!pe&&(s.mode&1)!==0)for(Ae=s,pe=s.child;pe!==null;){for(ge=Ae=pe;Ae!==null;){switch(de=Ae,Ie=de.child,de.tag){case 0:case 11:case 14:case 15:Gf(4,de,de.return);break;case 1:ml(de,de.return);var Oe=de.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=de,h=de.return;try{l=g,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Re){Ht(g,h,Re)}}break;case 5:ml(de,de.return);break;case 22:if(de.memoizedState!==null){JP(ge);continue}}Ie!==null?(Ie.return=de,Ae=Ie):JP(ge)}pe=pe.sibling}e:for(pe=null,ge=s;;){if(ge.tag===5){if(pe===null){pe=ge;try{_=ge.stateNode,ie?(x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(U=ge.stateNode,z=ge.memoizedProps.style,L=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=Xo("display",L))}catch(Re){Ht(s,s.return,Re)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=ie?"":ge.memoizedProps}catch(Re){Ht(s,s.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:ti(l,s),Ni(s),g&4&&KP(s);break;case 21:break;default:ti(l,s),Ni(s)}}function Ni(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(WP(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(hs(_,""),g.flags&=-33);var x=GP(s);H_(s,x,_);break;case 3:case 4:var L=g.stateNode.containerInfo,U=GP(s);G_(s,U,L);break;default:throw Error(n(161))}}catch(z){Ht(s,s.return,z)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function yU(s,l,h){Ae=s,YP(s)}function YP(s,l,h){for(var g=(s.mode&1)!==0;Ae!==null;){var _=Ae,x=_.child;if(_.tag===22&&g){var L=_.memoizedState!==null||lm;if(!L){var U=_.alternate,z=U!==null&&U.memoizedState!==null||Ln;U=lm;var ie=Ln;if(lm=L,(Ln=z)&&!ie)for(Ae=_;Ae!==null;)L=Ae,z=L.child,L.tag===22&&L.memoizedState!==null?ZP(_):z!==null?(z.return=L,Ae=z):ZP(_);for(;x!==null;)Ae=x,YP(x),x=x.sibling;Ae=_,lm=U,Ln=ie}XP(s)}else(_.subtreeFlags&8772)!==0&&x!==null?(x.return=_,Ae=x):XP(s)}}function XP(s){for(;Ae!==null;){var l=Ae;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ln||cm(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Ln)if(h===null)g.componentDidMount();else{var _=l.elementType===l.type?h.memoizedProps:Zr(l.type,h.memoizedProps);g.componentDidUpdate(_,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&JA(l,x,g);break;case 3:var L=l.updateQueue;if(L!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}JA(l,L,h)}break;case 5:var U=l.stateNode;if(h===null&&l.flags&4){h=U;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&h.focus();break;case"img":z.src&&(h.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ie=l.alternate;if(ie!==null){var pe=ie.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&aa(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ln||l.flags&512&&W_(l)}catch(de){Ht(l,l.return,de)}}if(l===s){Ae=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ae=h;break}Ae=l.return}}function JP(s){for(;Ae!==null;){var l=Ae;if(l===s){Ae=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ae=h;break}Ae=l.return}}function ZP(s){for(;Ae!==null;){var l=Ae;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{cm(4,l)}catch(z){Ht(l,h,z)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(z){Ht(l,_,z)}}var x=l.return;try{W_(l)}catch(z){Ht(l,x,z)}break;case 5:var L=l.return;try{W_(l)}catch(z){Ht(l,L,z)}}}catch(z){Ht(l,l.return,z)}if(l===s){Ae=null;break}var U=l.sibling;if(U!==null){U.return=l.return,Ae=U;break}Ae=l.return}}var vU=Math.ceil,fm=$.ReactCurrentDispatcher,K_=$.ReactCurrentOwner,jr=$.ReactCurrentBatchConfig,ot=0,vn=null,tn=null,Cn=0,wr=0,gl=fa(0),ln=0,Hf=null,Ns=0,hm=0,Q_=0,Kf=null,er=null,Y_=0,yl=1/0,go=null,dm=!1,X_=null,ya=null,pm=!1,va=null,mm=0,Qf=0,J_=null,gm=-1,ym=0;function Hn(){return(ot&6)!==0?Ct():gm!==-1?gm:gm=Ct()}function _a(s){return(s.mode&1)===0?1:(ot&2)!==0&&Cn!==0?Cn&-Cn:tU.transition!==null?(ym===0&&(ym=gf()),ym):(s=nt,s!==0||(s=window.event,s=s===void 0?16:Gu(s.type)),s)}function ni(s,l,h,g){if(50<Qf)throw Qf=0,J_=null,Error(n(185));bs(s,h,g),((ot&2)===0||s!==vn)&&(s===vn&&((ot&2)===0&&(hm|=h),ln===4&&wa(s,Cn)),tr(s,g),h===1&&ot===0&&(l.mode&1)===0&&(yl=Ct()+500,Wp&&da()))}function tr(s,l){var h=s.callbackNode;ws(s,l);var g=no(s,s===vn?Cn:0);if(g===0)h!==null&&$u(h),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(h!=null&&$u(h),l===1)s.tag===0?eU(tO.bind(null,s)):FA(tO.bind(null,s)),YB(function(){(ot&6)===0&&da()}),h=null;else{switch(wi(g)){case 1:h=Fu;break;case 4:h=df;break;case 16:h=gs;break;case 536870912:h=Bu;break;default:h=gs}h=lO(h,eO.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function eO(s,l){if(gm=-1,ym=0,(ot&6)!==0)throw Error(n(327));var h=s.callbackNode;if(vl()&&s.callbackNode!==h)return null;var g=no(s,s===vn?Cn:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=vm(s,g);else{l=g;var _=ot;ot|=2;var x=rO();(vn!==s||Cn!==l)&&(go=null,yl=Ct()+500,Ms(s,l));do try{bU();break}catch(U){nO(s,U)}while(!0);g_(),fm.current=x,ot=_,tn!==null?l=0:(vn=null,Cn=0,l=ln)}if(l!==0){if(l===2&&(_=mf(s),_!==0&&(g=_,l=Z_(s,_))),l===1)throw h=Hf,Ms(s,0),wa(s,g),tr(s,Ct()),h;if(l===6)wa(s,g);else{if(_=s.current.alternate,(g&30)===0&&!_U(_)&&(l=vm(s,g),l===2&&(x=mf(s),x!==0&&(g=x,l=Z_(s,x))),l===1))throw h=Hf,Ms(s,0),wa(s,g),tr(s,Ct()),h;switch(s.finishedWork=_,s.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:js(s,er,go);break;case 3:if(wa(s,g),(g&130023424)===g&&(l=Y_+500-Ct(),10<l)){if(no(s,0)!==0)break;if(_=s.suspendedLanes,(_&g)!==g){Hn(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=o_(js.bind(null,s,er,go),l);break}js(s,er,go);break;case 4:if(wa(s,g),(g&4194240)===g)break;for(l=s.eventTimes,_=-1;0<g;){var L=31-dr(g);x=1<<L,L=l[L],L>_&&(_=L),g&=~x}if(g=_,g=Ct()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*vU(g/1960))-g,10<g){s.timeoutHandle=o_(js.bind(null,s,er,go),g);break}js(s,er,go);break;case 5:js(s,er,go);break;default:throw Error(n(329))}}}return tr(s,Ct()),s.callbackNode===h?eO.bind(null,s):null}function Z_(s,l){var h=Kf;return s.current.memoizedState.isDehydrated&&(Ms(s,l).flags|=256),s=vm(s,l),s!==2&&(l=er,er=h,l!==null&&e0(l)),s}function e0(s){er===null?er=s:er.push.apply(er,s)}function _U(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var _=h[g],x=_.getSnapshot;_=_.value;try{if(!Xr(x(),_))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wa(s,l){for(l&=~Q_,l&=~hm,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-dr(l),g=1<<h;s[h]=-1,l&=~g}}function tO(s){if((ot&6)!==0)throw Error(n(327));vl();var l=no(s,0);if((l&1)===0)return tr(s,Ct()),null;var h=vm(s,l);if(s.tag!==0&&h===2){var g=mf(s);g!==0&&(l=g,h=Z_(s,g))}if(h===1)throw h=Hf,Ms(s,0),wa(s,l),tr(s,Ct()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,js(s,er,go),tr(s,Ct()),null}function t0(s,l){var h=ot;ot|=1;try{return s(l)}finally{ot=h,ot===0&&(yl=Ct()+500,Wp&&da())}}function Ds(s){va!==null&&va.tag===0&&(ot&6)===0&&vl();var l=ot;ot|=1;var h=jr.transition,g=nt;try{if(jr.transition=null,nt=1,s)return s()}finally{nt=g,jr.transition=h,ot=l,(ot&6)===0&&da()}}function n0(){wr=gl.current,kt(gl)}function Ms(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,QB(h)),tn!==null)for(h=tn.return;h!==null;){var g=h;switch(f_(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&qp();break;case 3:dl(),kt(Xn),kt(Mn),T_();break;case 5:x_(g);break;case 4:dl();break;case 13:kt(Ut);break;case 19:kt(Ut);break;case 10:y_(g.type._context);break;case 22:case 23:n0()}h=h.return}if(vn=s,tn=s=ba(s.current,null),Cn=wr=l,ln=0,Hf=null,Q_=hm=Ns=0,er=Kf=null,Cs!==null){for(l=0;l<Cs.length;l++)if(h=Cs[l],g=h.interleaved,g!==null){h.interleaved=null;var _=g.next,x=h.pending;if(x!==null){var L=x.next;x.next=_,g.next=L}h.pending=g}Cs=null}return s}function nO(s,l){do{var h=tn;try{if(g_(),tm.current=om,nm){for(var g=qt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}nm=!1}if(ks=0,yn=un=qt=null,Bf=!1,Uf=0,K_.current=null,h===null||h.return===null){ln=1,Hf=l,tn=null;break}e:{var x=s,L=h.return,U=h,z=l;if(l=Cn,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=z,pe=U,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var de=pe.alternate;de?(pe.updateQueue=de.updateQueue,pe.memoizedState=de.memoizedState,pe.lanes=de.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ie=AP(L);if(Ie!==null){Ie.flags&=-257,PP(Ie,L,U,x,l),Ie.mode&1&&IP(x,ie,l),l=Ie,z=ie;var Oe=l.updateQueue;if(Oe===null){var Re=new Set;Re.add(z),l.updateQueue=Re}else Oe.add(z);break e}else{if((l&1)===0){IP(x,ie,l),r0();break e}z=Error(n(426))}}else if(Vt&&U.mode&1){var Yt=AP(L);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),PP(Yt,L,U,x,l),p_(pl(z,U));break e}}x=z=pl(z,U),ln!==4&&(ln=2),Kf===null?Kf=[x]:Kf.push(x),x=L;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var J=TP(x,z,l);XA(x,J);break e;case 1:U=z;var W=x.type,te=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(ya===null||!ya.has(te)))){x.flags|=65536,l&=-l,x.lanes|=l;var ve=SP(x,U,l);XA(x,ve);break e}}x=x.return}while(x!==null)}oO(h)}catch(ke){l=ke,tn===h&&h!==null&&(tn=h=h.return);continue}break}while(!0)}function rO(){var s=fm.current;return fm.current=om,s===null?om:s}function r0(){(ln===0||ln===3||ln===2)&&(ln=4),vn===null||(Ns&268435455)===0&&(hm&268435455)===0||wa(vn,Cn)}function vm(s,l){var h=ot;ot|=2;var g=rO();(vn!==s||Cn!==l)&&(go=null,Ms(s,l));do try{wU();break}catch(_){nO(s,_)}while(!0);if(g_(),ot=h,fm.current=g,tn!==null)throw Error(n(261));return vn=null,Cn=0,ln}function wU(){for(;tn!==null;)iO(tn)}function bU(){for(;tn!==null&&!ms();)iO(tn)}function iO(s){var l=uO(s.alternate,s,wr);s.memoizedProps=s.pendingProps,l===null?oO(s):tn=l,K_.current=null}function oO(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=dU(h,l,wr),h!==null){tn=h;return}}else{if(h=pU(h,l),h!==null){h.flags&=32767,tn=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ln=6,tn=null;return}}if(l=l.sibling,l!==null){tn=l;return}tn=l=s}while(l!==null);ln===0&&(ln=5)}function js(s,l,h){var g=nt,_=jr.transition;try{jr.transition=null,nt=1,xU(s,l,h,g)}finally{jr.transition=_,nt=g}return null}function xU(s,l,h,g){do vl();while(va!==null);if((ot&6)!==0)throw Error(n(327));h=s.finishedWork;var _=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=h.lanes|h.childLanes;if(qv(s,x),s===vn&&(tn=vn=null,Cn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||pm||(pm=!0,lO(gs,function(){return vl(),null})),x=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||x){x=jr.transition,jr.transition=null;var L=nt;nt=1;var U=ot;ot|=4,K_.current=null,gU(s,h),QP(h,s),UB(r_),oo=!!n_,r_=n_=null,s.current=h,yU(h),to(),ot=U,nt=L,jr.transition=x}else s.current=h;if(pm&&(pm=!1,va=s,mm=_),x=s.pendingLanes,x===0&&(ya=null),Sp(h.stateNode),tr(s,Ct()),l!==null)for(g=s.onRecoverableError,h=0;h<l.length;h++)_=l[h],g(_.value,{componentStack:_.stack,digest:_.digest});if(dm)throw dm=!1,s=X_,X_=null,s;return(mm&1)!==0&&s.tag!==0&&vl(),x=s.pendingLanes,(x&1)!==0?s===J_?Qf++:(Qf=0,J_=s):Qf=0,da(),null}function vl(){if(va!==null){var s=wi(mm),l=jr.transition,h=nt;try{if(jr.transition=null,nt=16>s?16:s,va===null)var g=!1;else{if(s=va,va=null,mm=0,(ot&6)!==0)throw Error(n(331));var _=ot;for(ot|=4,Ae=s.current;Ae!==null;){var x=Ae,L=x.child;if((Ae.flags&16)!==0){var U=x.deletions;if(U!==null){for(var z=0;z<U.length;z++){var ie=U[z];for(Ae=ie;Ae!==null;){var pe=Ae;switch(pe.tag){case 0:case 11:case 15:Gf(8,pe,x)}var ge=pe.child;if(ge!==null)ge.return=pe,Ae=ge;else for(;Ae!==null;){pe=Ae;var de=pe.sibling,Ie=pe.return;if(zP(pe),pe===ie){Ae=null;break}if(de!==null){de.return=Ie,Ae=de;break}Ae=Ie}}}var Oe=x.alternate;if(Oe!==null){var Re=Oe.child;if(Re!==null){Oe.child=null;do{var Yt=Re.sibling;Re.sibling=null,Re=Yt}while(Re!==null)}}Ae=x}}if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,Ae=L;else e:for(;Ae!==null;){if(x=Ae,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Gf(9,x,x.return)}var J=x.sibling;if(J!==null){J.return=x.return,Ae=J;break e}Ae=x.return}}var W=s.current;for(Ae=W;Ae!==null;){L=Ae;var te=L.child;if((L.subtreeFlags&2064)!==0&&te!==null)te.return=L,Ae=te;else e:for(L=W;Ae!==null;){if(U=Ae,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:cm(9,U)}}catch(ke){Ht(U,U.return,ke)}if(U===L){Ae=null;break e}var ve=U.sibling;if(ve!==null){ve.return=U.return,Ae=ve;break e}Ae=U.return}}if(ot=_,da(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(ys,s)}catch{}g=!0}return g}finally{nt=h,jr.transition=l}}return!1}function aO(s,l,h){l=pl(h,l),l=TP(s,l,1),s=ma(s,l,1),l=Hn(),s!==null&&(bs(s,1,l),tr(s,l))}function Ht(s,l,h){if(s.tag===3)aO(s,s,h);else for(;l!==null;){if(l.tag===3){aO(l,s,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ya===null||!ya.has(g))){s=pl(h,s),s=SP(l,s,1),l=ma(l,s,1),s=Hn(),l!==null&&(bs(l,1,s),tr(l,s));break}}l=l.return}}function EU(s,l,h){var g=s.pingCache;g!==null&&g.delete(l),l=Hn(),s.pingedLanes|=s.suspendedLanes&h,vn===s&&(Cn&h)===h&&(ln===4||ln===3&&(Cn&130023424)===Cn&&500>Ct()-Y_?Ms(s,0):Q_|=h),tr(s,l)}function sO(s,l){l===0&&((s.mode&1)===0?l=1:(l=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var h=Hn();s=ho(s,l),s!==null&&(bs(s,l,h),tr(s,h))}function TU(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),sO(s,h)}function SU(s,l){var h=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),sO(s,h)}var uO;uO=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||Xn.current)Zn=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return Zn=!1,hU(s,l,h);Zn=(s.flags&131072)!==0}else Zn=!1,Vt&&(l.flags&1048576)!==0&&BA(l,Hp,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;um(s,l),s=l.pendingProps;var _=al(l,Mn.current);hl(l,h),_=A_(null,l,g,s,_,h);var x=P_();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Jn(g)?(x=!0,zp(l)):x=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,w_(l),_.updater=am,l.stateNode=_,_._reactInternals=l,D_(l,g,s,h),l=L_(null,l,g,!0,x,h)):(l.tag=0,Vt&&x&&c_(l),Gn(null,l,_,h),l=l.child),l;case 16:g=l.elementType;e:{switch(um(s,l),s=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=AU(g),s=Zr(g,s),_){case 0:l=V_(null,l,g,s,h);break e;case 1:l=DP(null,l,g,s,h);break e;case 11:l=OP(null,l,g,s,h);break e;case 14:l=CP(null,l,g,Zr(g.type,s),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Zr(g,_),V_(s,l,g,_,h);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Zr(g,_),DP(s,l,g,_,h);case 3:e:{if(MP(l),s===null)throw Error(n(387));g=l.pendingProps,x=l.memoizedState,_=x.element,YA(s,l),Zp(l,g,null,h);var L=l.memoizedState;if(g=L.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){_=pl(Error(n(423)),l),l=jP(s,l,g,h,_);break e}else if(g!==_){_=pl(Error(n(424)),l),l=jP(s,l,g,h,_);break e}else for(_r=ca(l.stateNode.containerInfo.firstChild),vr=l,Vt=!0,Jr=null,h=KA(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ll(),g===_){l=mo(s,l,h);break e}Gn(s,l,g,h)}l=l.child}return l;case 5:return ZA(l),s===null&&d_(l),g=l.type,_=l.pendingProps,x=s!==null?s.memoizedProps:null,L=_.children,i_(g,_)?L=null:x!==null&&i_(g,x)&&(l.flags|=32),NP(s,l),Gn(s,l,L,h),l.child;case 6:return s===null&&d_(l),null;case 13:return VP(s,l,h);case 4:return b_(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=cl(l,null,g,h):Gn(s,l,g,h),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Zr(g,_),OP(s,l,g,_,h);case 7:return Gn(s,l,l.pendingProps,h),l.child;case 8:return Gn(s,l,l.pendingProps.children,h),l.child;case 12:return Gn(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,x=l.memoizedProps,L=_.value,It(Yp,g._currentValue),g._currentValue=L,x!==null)if(Xr(x.value,L)){if(x.children===_.children&&!Xn.current){l=mo(s,l,h);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var U=x.dependencies;if(U!==null){L=x.child;for(var z=U.firstContext;z!==null;){if(z.context===g){if(x.tag===1){z=po(-1,h&-h),z.tag=2;var ie=x.updateQueue;if(ie!==null){ie=ie.shared;var pe=ie.pending;pe===null?z.next=z:(z.next=pe.next,pe.next=z),ie.pending=z}}x.lanes|=h,z=x.alternate,z!==null&&(z.lanes|=h),v_(x.return,h,l),U.lanes|=h;break}z=z.next}}else if(x.tag===10)L=x.type===l.type?null:x.child;else if(x.tag===18){if(L=x.return,L===null)throw Error(n(341));L.lanes|=h,U=L.alternate,U!==null&&(U.lanes|=h),v_(L,h,l),L=x.sibling}else L=x.child;if(L!==null)L.return=x;else for(L=x;L!==null;){if(L===l){L=null;break}if(x=L.sibling,x!==null){x.return=L.return,L=x;break}L=L.return}x=L}Gn(s,l,_.children,h),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,hl(l,h),_=Dr(_),g=g(_),l.flags|=1,Gn(s,l,g,h),l.child;case 14:return g=l.type,_=Zr(g,l.pendingProps),_=Zr(g.type,_),CP(s,l,g,_,h);case 15:return RP(s,l,l.type,l.pendingProps,h);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Zr(g,_),um(s,l),l.tag=1,Jn(g)?(s=!0,zp(l)):s=!1,hl(l,h),xP(l,g,_),D_(l,g,_,h),L_(null,l,g,!0,s,h);case 19:return $P(s,l,h);case 22:return kP(s,l,h)}throw Error(n(156,l.tag))};function lO(s,l){return hf(s,l)}function IU(s,l,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(s,l,h,g){return new IU(s,l,h,g)}function i0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AU(s){if(typeof s=="function")return i0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===K)return 14}return 2}function ba(s,l){var h=s.alternate;return h===null?(h=Vr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function _m(s,l,h,g,_,x){var L=2;if(g=s,typeof s=="function")i0(s)&&(L=1);else if(typeof s=="string")L=5;else e:switch(s){case S:return Vs(h.children,_,x,l);case I:L=8,_|=8;break;case N:return s=Vr(12,h,l,_|2),s.elementType=N,s.lanes=x,s;case M:return s=Vr(13,h,l,_),s.elementType=M,s.lanes=x,s;case G:return s=Vr(19,h,l,_),s.elementType=G,s.lanes=x,s;case ue:return wm(h,_,x,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:L=10;break e;case V:L=9;break e;case D:L=11;break e;case K:L=14;break e;case re:L=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Vr(L,h,l,_),l.elementType=s,l.type=g,l.lanes=x,l}function Vs(s,l,h,g){return s=Vr(7,s,g,l),s.lanes=h,s}function wm(s,l,h,g){return s=Vr(22,s,g,l),s.elementType=ue,s.lanes=h,s.stateNode={isHidden:!1},s}function o0(s,l,h){return s=Vr(6,s,null,l),s.lanes=h,s}function a0(s,l,h){return l=Vr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function PU(s,l,h,g,_){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function s0(s,l,h,g,_,x,L,U,z){return s=new PU(s,l,h,U,z),l===1?(l=1,x===!0&&(l|=8)):l=0,x=Vr(3,null,null,l),s.current=x,x.stateNode=s,x.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},w_(x),s}function OU(s,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:g==null?null:""+g,children:s,containerInfo:l,implementation:h}}function cO(s){if(!s)return ha;s=s._reactInternals;e:{if(Qr(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Jn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(Jn(h))return LA(s,h,l)}return l}function fO(s,l,h,g,_,x,L,U,z){return s=s0(h,g,!0,s,_,x,L,U,z),s.context=cO(null),h=s.current,g=Hn(),_=_a(h),x=po(g,_),x.callback=l??null,ma(h,x,_),s.current.lanes=_,bs(s,_,g),tr(s,g),s}function bm(s,l,h,g){var _=l.current,x=Hn(),L=_a(_);return h=cO(h),l.context===null?l.context=h:l.pendingContext=h,l=po(x,L),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=ma(_,l,L),s!==null&&(ni(s,_,L,x),Jp(s,_,L)),L}function xm(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hO(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function u0(s,l){hO(s,l),(s=s.alternate)&&hO(s,l)}function CU(){return null}var dO=typeof reportError=="function"?reportError:function(s){console.error(s)};function l0(s){this._internalRoot=s}Em.prototype.render=l0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));bm(s,l,null,null)},Em.prototype.unmount=l0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Ds(function(){bm(null,s,null,null)}),l[uo]=null}};function Em(s){this._internalRoot=s}Em.prototype.unstable_scheduleHydration=function(s){if(s){var l=bf();s={blockedOn:null,target:s,priority:l};for(var h=0;h<pr.length&&l!==0&&l<pr[h].priority;h++);pr.splice(h,0,s),h===0&&zu(s)}};function c0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Tm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pO(){}function RU(s,l,h,g,_){if(_){if(typeof g=="function"){var x=g;g=function(){var ie=xm(L);x.call(ie)}}var L=fO(l,g,s,0,null,!1,!1,"",pO);return s._reactRootContainer=L,s[uo]=L.current,Nf(s.nodeType===8?s.parentNode:s),Ds(),L}for(;_=s.lastChild;)s.removeChild(_);if(typeof g=="function"){var U=g;g=function(){var ie=xm(z);U.call(ie)}}var z=s0(s,0,!1,null,null,!1,!1,"",pO);return s._reactRootContainer=z,s[uo]=z.current,Nf(s.nodeType===8?s.parentNode:s),Ds(function(){bm(l,z,h,g)}),z}function Sm(s,l,h,g,_){var x=h._reactRootContainer;if(x){var L=x;if(typeof _=="function"){var U=_;_=function(){var z=xm(L);U.call(z)}}bm(l,L,s,_)}else L=RU(h,l,s,_,g);return xm(L)}_f=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=lt(l.pendingLanes);h!==0&&(vf(l,h|1),tr(l,Ct()),(ot&6)===0&&(yl=Ct()+500,da()))}break;case 13:Ds(function(){var g=ho(s,1);if(g!==null){var _=Hn();ni(g,s,1,_)}}),u0(s,1)}},Uu=function(s){if(s.tag===13){var l=ho(s,134217728);if(l!==null){var h=Hn();ni(l,s,134217728,h)}u0(s,134217728)}},wf=function(s){if(s.tag===13){var l=_a(s),h=ho(s,l);if(h!==null){var g=Hn();ni(h,s,l,g)}u0(s,l)}},bf=function(){return nt},xf=function(s,l){var h=nt;try{return nt=s,l()}finally{nt=h}},Ji=function(s,l,h){switch(l){case"input":if(Wt(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==s&&g.form===s.form){var _=Up(g);if(!_)throw Error(n(90));fe(g),Wt(g,_)}}}break;case"textarea":fs(s,h);break;case"select":l=h.value,l!=null&&sn(s,!!h.multiple,l,!1)}},gp=t0,yp=Ds;var kU={usingClientEntryPoint:!1,Events:[jf,il,Up,Zo,ea,t0]},Yf={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NU={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tp(s),s===null?null:s.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||CU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{ys=Im.inject(NU),hr=Im}catch{}}return nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kU,nr.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(l))throw Error(n(200));return OU(s,l,null,h)},nr.createRoot=function(s,l){if(!c0(s))throw Error(n(299));var h=!1,g="",_=dO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=s0(s,1,!1,null,null,h,!1,g,_),s[uo]=l.current,Nf(s.nodeType===8?s.parentNode:s),new l0(l)},nr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Tp(l),s=s===null?null:s.stateNode,s},nr.flushSync=function(s){return Ds(s)},nr.hydrate=function(s,l,h){if(!Tm(l))throw Error(n(200));return Sm(null,s,l,!0,h)},nr.hydrateRoot=function(s,l,h){if(!c0(s))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,_=!1,x="",L=dO;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),l=fO(l,null,s,1,h??null,_,!1,x,L),s[uo]=l.current,Nf(s),g)for(s=0;s<g.length;s++)h=g[s],_=h._getVersion,_=_(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,_]:l.mutableSourceEagerHydrationData.push(h,_);return new Em(l)},nr.render=function(s,l,h){if(!Tm(l))throw Error(n(200));return Sm(null,s,l,!1,h)},nr.unmountComponentAtNode=function(s){if(!Tm(s))throw Error(n(40));return s._reactRootContainer?(Ds(function(){Sm(null,null,s,!1,function(){s._reactRootContainer=null,s[uo]=null})}),!0):!1},nr.unstable_batchedUpdates=t0,nr.unstable_renderSubtreeIntoContainer=function(s,l,h,g){if(!Tm(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Sm(s,l,h,!1,g)},nr.version="18.3.1-next-f1338f8080-20240426",nr}var xO;function BU(){if(xO)return d0.exports;xO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=FU(),d0.exports}var EO;function UU(){if(EO)return Pm;EO=1;var t=BU();return Pm.createRoot=t.createRoot,Pm.hydrateRoot=t.hydrateRoot,Pm}var qU=UU(),ne=D1();const H=Et(ne),zU=()=>{};var TO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},hV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=o>>2,p=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,v=f&63;c||(v=64,a||(y=64)),r.push(n[d],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||p==null)throw new GU;const y=o<<2|u>>4;if(r.push(y),f!==64){const v=u<<4&240|f>>2;if(r.push(v),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HU=function(t){const e=fV(t);return hV.encodeByteArray(e,!0)},fg=function(t){return HU(t).replace(/\./g,"")},dV=function(t){try{return hV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=()=>pV().__FIREBASE_DEFAULTS__,QU=()=>{if(typeof process>"u"||typeof TO>"u")return;const t=TO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dV(t[1]);return e&&JSON.parse(e)},Ny=()=>{try{return zU()||KU()||QU()||YU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mV=t=>Ny()?.emulatorHosts?.[t],XU=t=>{const e=mV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gV=()=>Ny()?.config,yV=t=>Ny()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fg(JSON.stringify(n)),fg(JSON.stringify(a)),""].join(".")}const Eh={};function eq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Eh))Eh[e]?t.emulator.push(e):t.prod.push(e);return t}function tq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SO=!1;function vV(t,e){if(typeof window>"u"||typeof document>"u"||!xu(window.location.host)||Eh[t]===e||Eh[t]||SO)return;Eh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=eq().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{SO=!0,a()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=tq(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),b=n("learnmore"),w=document.getElementById(b)||document.createElement("a"),A=n("preprendIcon"),C=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;u(R),d(w,b);const $=f();c(C,A),R.append(C,E,w,$),document.body.appendChild(R)}o?(E.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function _V(){const t=Ny()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aq(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wV(){return!_V()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bV(){return!_V()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function xV(){try{return typeof indexedDB=="object"}catch{return!1}}function sq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="FirebaseError";class Fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uq,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Md.prototype.create)}}class Md{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?lq(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Fo(i,u,r)}}function lq(t,e){return t.replace(cq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cq=/\{\$([^}]+)}/g;function fq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function di(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(IO(o)&&IO(a)){if(!di(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ph(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function mh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hq(t,e){const n=new dq(t,e);return n.subscribe.bind(n)}class dq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=g0),i.error===void 0&&(i.error=g0),i.complete===void 0&&(i.complete=g0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class ou{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yq(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gq(t){return t===Fs?void 0:t}function yq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const _q={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},wq=et.INFO,bq={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},xq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j1{constructor(e){this.name=e,this._logLevel=wq,this._logHandler=xq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const Eq=(t,e)=>e.some(n=>t instanceof n);let AO,PO;function Tq(){return AO||(AO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sq(){return PO||(PO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EV=new WeakMap,kE=new WeakMap,TV=new WeakMap,y0=new WeakMap,V1=new WeakMap;function Iq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(La(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&EV.set(n,t)}).catch(()=>{}),V1.set(e,t),e}function Aq(t){if(kE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});kE.set(t,e)}let NE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return La(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pq(t){NE=t(NE)}function Oq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v0(this),e,...n);return TV.set(r,e.sort?e.sort():[e]),La(r)}:Sq().includes(t)?function(...e){return t.apply(v0(this),e),La(EV.get(this))}:function(...e){return La(t.apply(v0(this),e))}}function Cq(t){return typeof t=="function"?Oq(t):(t instanceof IDBTransaction&&Aq(t),Eq(t,Tq())?new Proxy(t,NE):t)}function La(t){if(t instanceof IDBRequest)return Iq(t);if(y0.has(t))return y0.get(t);const e=Cq(t);return e!==t&&(y0.set(t,e),V1.set(e,t)),e}const v0=t=>V1.get(t);function Rq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=La(a);return r&&a.addEventListener("upgradeneeded",c=>{r(La(a.result),c.oldVersion,c.newVersion,La(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const kq=["get","getKey","getAll","getAllKeys","count"],Nq=["put","add","delete","clear"],_0=new Map;function OO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Nq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kq.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return _0.set(e,o),o}Pq(t=>({...t,get:(e,n,r)=>OO(e,n)||t.get(e,n,r),has:(e,n)=>!!OO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mq(t){return t.getComponent()?.type==="VERSION"}const DE="@firebase/app",CO="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new j1("@firebase/app"),jq="@firebase/app-compat",Vq="@firebase/analytics-compat",Lq="@firebase/analytics",$q="@firebase/app-check-compat",Fq="@firebase/app-check",Bq="@firebase/auth",Uq="@firebase/auth-compat",qq="@firebase/database",zq="@firebase/data-connect",Wq="@firebase/database-compat",Gq="@firebase/functions",Hq="@firebase/functions-compat",Kq="@firebase/installations",Qq="@firebase/installations-compat",Yq="@firebase/messaging",Xq="@firebase/messaging-compat",Jq="@firebase/performance",Zq="@firebase/performance-compat",e5="@firebase/remote-config",t5="@firebase/remote-config-compat",n5="@firebase/storage",r5="@firebase/storage-compat",i5="@firebase/firestore",o5="@firebase/ai",a5="@firebase/firestore-compat",s5="firebase",u5="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]",l5={[DE]:"fire-core",[jq]:"fire-core-compat",[Lq]:"fire-analytics",[Vq]:"fire-analytics-compat",[Fq]:"fire-app-check",[$q]:"fire-app-check-compat",[Bq]:"fire-auth",[Uq]:"fire-auth-compat",[qq]:"fire-rtdb",[zq]:"fire-data-connect",[Wq]:"fire-rtdb-compat",[Gq]:"fire-fn",[Hq]:"fire-fn-compat",[Kq]:"fire-iid",[Qq]:"fire-iid-compat",[Yq]:"fire-fcm",[Xq]:"fire-fcm-compat",[Jq]:"fire-perf",[Zq]:"fire-perf-compat",[e5]:"fire-rc",[t5]:"fire-rc-compat",[n5]:"fire-gcs",[r5]:"fire-gcs-compat",[i5]:"fire-fst",[a5]:"fire-fst-compat",[o5]:"fire-vertex","fire-js":"fire-js",[s5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Map,c5=new Map,ME=new Map;function RO(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hl(t){const e=t.name;if(ME.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;ME.set(e,t);for(const n of dg.values())RO(n,t);for(const n of c5.values())RO(n,t);return!0}function Vd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function f5(t,e,n=hg){Vd(t,e).clearInstance(n)}function Br(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Md("app","Firebase",h5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ou("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=u5;function SV(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $a.create("bad-app-name",{appName:String(i)});if(n||(n=gV()),!n)throw $a.create("no-options");const o=dg.get(i);if(o){if(di(n,o.options)&&di(r,o.config))return o;throw $a.create("duplicate-app",{appName:i})}const a=new vq(i);for(const c of ME.values())a.addComponent(c);const u=new d5(n,r,a);return dg.set(i,u),u}function IV(t=hg){const e=dg.get(t);if(!e&&t===hg&&gV())return SV();if(!e)throw $a.create("no-app",{appName:t});return e}function Fa(t,e,n){let r=l5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(a.join(" "));return}Hl(new ou(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="firebase-heartbeat-database",m5=1,Fh="firebase-heartbeat-store";let w0=null;function AV(){return w0||(w0=Rq(p5,m5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw $a.create("idb-open",{originalErrorMessage:t.message})})),w0}async function g5(t){try{const n=(await AV()).transaction(Fh),r=await n.objectStore(Fh).get(PV(t));return await n.done,r}catch(e){if(e instanceof Fo)Co.warn(e.message);else{const n=$a.create("idb-get",{originalErrorMessage:e?.message});Co.warn(n.message)}}}async function kO(t,e){try{const r=(await AV()).transaction(Fh,"readwrite");await r.objectStore(Fh).put(e,PV(t)),await r.done}catch(n){if(n instanceof Fo)Co.warn(n.message);else{const r=$a.create("idb-set",{originalErrorMessage:n?.message});Co.warn(r.message)}}}function PV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=1024,v5=30;class _5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>v5){const i=x5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Co.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NO(),{heartbeatsToSend:n,unsentEntries:r}=w5(this._heartbeatsCache.heartbeats),i=fg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Co.warn(e),""}}}function NO(){return new Date().toISOString().substring(0,10)}function w5(t,e=y5){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),DO(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xV()?sq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g5(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function DO(t){return fg(JSON.stringify({version:2,heartbeats:t})).length}function x5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){Hl(new ou("platform-logger",e=>new Dq(e),"PRIVATE")),Hl(new ou("heartbeat",e=>new _5(e),"PRIVATE")),Fa(DE,CO,t),Fa(DE,CO,"esm2020"),Fa("fire-js","")}E5("");function OV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T5=OV,CV=new Md("auth","Firebase",OV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new j1("@firebase/auth");function S5(t,...e){pg.logLevel<=et.WARN&&pg.warn(`Auth (${Lc}): ${t}`,...e)}function Xm(t,...e){pg.logLevel<=et.ERROR&&pg.error(`Auth (${Lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,...e){throw L1(t,...e)}function Bi(t,...e){return L1(t,...e)}function RV(t,e,n){const r={...T5(),[e]:n};return new Md("auth","Firebase",r).create(e,{appName:t.name})}function So(t){return RV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CV.create(t,...e)}function Be(t,e,...n){if(!t)throw L1(e,...n)}function vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xm(e),new Error(e)}function Ro(t,e){t||vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof self<"u"&&self.location?.href||""}function I5(){return MO()==="http:"||MO()==="https:"}function MO(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I5()||iq()||"connection"in navigator)?navigator.onLine:!0}function P5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ro(n>e,"Short delay should be less than long delay!"),this.isMobile=nq()||oq()}get(){return A5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e){Ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R5=new Ld(3e4,6e4);function Bo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qi(t,e,n,r,i={}){return NV(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=jd({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return rq()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&xu(t.emulatorConfig.host)&&(f.credentials="include"),kV.fetch()(await DV(t,t.config.apiHost,n,u),f)})}async function NV(t,e,n){t._canInitEmulator=!1;const r={...O5,...e};try{const i=new N5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Om(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Om(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Om(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Om(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw RV(t,d,f);pi(t,d)}}catch(i){if(i instanceof Fo)throw i;pi(t,"network-request-failed",{message:String(i)})}}async function $d(t,e,n,r,i={}){const o=await Qi(t,e,n,r,i);return"mfaPendingCredential"in o&&pi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function DV(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?$1(t.config,i):`${t.config.apiScheme}://${i}`;return C5.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function k5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),R5.get())})}}function Om(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bi(t,e,r);return i.customData._tokenResponse=n,i}function jO(t){return t!==void 0&&t.enterprise!==void 0}class D5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M5(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function mg(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V5(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=F1(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Th(b0(i.auth_time)),issuedAtTime:Th(b0(i.iat)),expirationTime:Th(b0(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function b0(t){return Number(t)*1e3}function F1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xm("JWT malformed, contained fewer than 3 sections"),null;try{const i=dV(n);return i?JSON.parse(i):(Xm("Failed to decode base64 JWT payload"),null)}catch(i){return Xm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VO(t){const e=F1(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fo&&L5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){const e=t.auth,n=await t.getIdToken(),r=await Kl(t,mg(e,{idToken:n}));Be(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?MV(i.providerUserInfo):[],a=B5(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,f=u?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new VE(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function F5(t){const e=ct(t);await gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MV(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){const n=await NV(t,{},async()=>{const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await DV(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&xu(t.emulatorConfig.host)&&(c.credentials="include"),kV.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q5(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=VO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await U5(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Vl;return r&&(Be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new VE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V5(this,e)}reload(){return F5(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(So(this.auth));const e=await this.getIdToken();return await Kl(this,j5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:E,stsTokenManager:b}=n;Be(p&&b,e,"internal-error");const w=Vl.fromJSON(this.name,b);Be(typeof p=="string",e,"internal-error"),Ea(r,e.name),Ea(i,e.name),Be(typeof y=="boolean",e,"internal-error"),Be(typeof v=="boolean",e,"internal-error"),Ea(o,e.name),Ea(a,e.name),Ea(u,e.name),Ea(c,e.name),Ea(f,e.name),Ea(d,e.name);const A=new li({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:o,tenantId:u,stsTokenManager:w,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(A.providerData=E.map(C=>({...C}))),c&&(A._redirectEventId=c),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vl;i.updateFromServerResponse(n);const o=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gg(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MV(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,u=new Vl;u.updateFromIdToken(r);const c=new li({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new VE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Map;function _o(t){Ro(t instanceof Function,"Expected a class definition");let e=LO.get(t);return e?(Ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jV.type="NONE";const $O=jV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mg(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ll(_o($O),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||_o($O);const a=Jm(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const d=await f._get(a);if(d){let p;if(typeof d=="string"){const y=await mg(e,{idToken:d}).catch(()=>{});if(!y)break;p=await li._fromGetAccountInfoResponse(e,y,d)}else p=li._fromJSON(e,d);f!==o&&(u=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Ll(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UV(e))return"Blackberry";if(qV(e))return"Webos";if(LV(e))return"Safari";if((e.includes("chrome/")||$V(e))&&!e.includes("edge/"))return"Chrome";if(BV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VV(t=dn()){return/firefox\//i.test(t)}function LV(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $V(t=dn()){return/crios\//i.test(t)}function FV(t=dn()){return/iemobile/i.test(t)}function BV(t=dn()){return/android/i.test(t)}function UV(t=dn()){return/blackberry/i.test(t)}function qV(t=dn()){return/webos/i.test(t)}function B1(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z5(t=dn()){return B1(t)&&!!window.navigator?.standalone}function W5(){return aq()&&document.documentMode===10}function zV(t=dn()){return B1(t)||BV(t)||qV(t)||UV(t)||/windows phone/i.test(t)||FV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e=[]){let n;switch(t){case"Browser":n=FO(dn());break;case"Worker":n=`${FO(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=6;class Q5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BO(this),this.idTokenSubscription=new BO(this),this.beforeStateQueue=new G5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_o(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mg(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Br(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,a=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(So(this));const n=e?ct(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Br(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_o(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H5(this),n=new Q5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Md("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_o(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[_o(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&S5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eu(t){return ct(t)}class BO{constructor(e){this.auth=e,this.observer=null,this.addObserver=hq(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X5(t){Dy=t}function GV(t){return Dy.loadJS(t)}function J5(){return Dy.recaptchaEnterpriseScript}function Z5(){return Dy.gapiScript}function e9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t9{constructor(){this.enterprise=new n9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r9="recaptcha-enterprise",HV="NO_RECAPTCHA";class i9{constructor(e){this.type=r9,this.auth=Eu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{M5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new D5(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;jO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(HV)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t9().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&jO(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=J5();c.length!==0&&(c+=u),GV(c).then(()=>{i(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function UO(t,e,n,r=!1,i=!1){const o=new i9(t);let a;if(i)a=HV;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function LE(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await UO(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await UO(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t,e){const n=Vd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(di(o,e??{}))return i;pi(i,"already-initialized")}return n.initialize({options:e})}function a9(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_o);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function s9(t,e,n){const r=Eu(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=KV(e),{host:a,port:u}=u9(e),c=u===null?"":`:${u}`,f={url:`${o}//${a}${c}/`},d=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(di(f,r.config.emulator)&&di(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,xu(a)?(M1(`${o}//${a}${c}`),vV("Auth",!0)):l9()}function KV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u9(t){const e=KV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:qO(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:qO(a)}}}function qO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,n){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}async function c9(t,e){return Qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return $d(t,"POST","/v1/accounts:signInWithPassword",Bo(t,e))}async function h9(t,e){return Qi(t,"POST","/v1/accounts:sendOobCode",Bo(t,e))}async function d9(t,e){return h9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}async function m9(t,e){return $d(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends U1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LE(e,n,"signInWithPassword",f9);case"emailLink":return p9(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LE(e,r,"signUpPassword",c9);case"emailLink":return m9(e,{idToken:n,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e){return $d(t,"POST","/v1/accounts:signInWithIdp",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="http://localhost";class au extends U1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new au(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new au(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return $l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$l(e,n)}buildRequest(){const e={requestUri:g9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v9(t){const e=ph(mh(t)).link,n=e?ph(mh(e)).deep_link_id:null,r=ph(mh(t)).deep_link_id;return(r?ph(mh(r)).link:null)||r||n||e||t}class q1{constructor(e){const n=ph(mh(e)),r=n.apiKey??null,i=n.oobCode??null,o=y9(n.mode??null);Be(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=v9(e);try{return new q1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.providerId=$c.PROVIDER_ID}static credential(e,n){return Bh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=q1.parseLink(n);return Be(r,"argument-error"),Bh._fromEmailAndCode(e,r.code,r.tenantId)}}$c.PROVIDER_ID="password";$c.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends QV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Fd{constructor(){super("facebook.com")}static credential(e){return au._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return au._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Fd{constructor(){super("github.com")}static credential(e){return au._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Fd{constructor(){super("twitter.com")}static credential(e,n){return au._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,e){return $d(t,"POST","/v1/accounts:signUp",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await li._fromIdTokenResponse(e,r,i),a=zO(r);return new su({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zO(r);return new su({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends Fo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yg(e,n,r,i)}}function YV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,o,e,r):o})}async function w9(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return su._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e,n=!1){const{auth:r}=t;if(Br(r.app))return Promise.reject(So(r));const i="reauthenticate";try{const o=await Kl(t,YV(r,i,e,t),n);Be(o.idToken,r,"internal-error");const a=F1(o.idToken);Be(a,r,"internal-error");const{sub:u}=a;return Be(t.uid===u,r,"user-mismatch"),su._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&pi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e,n=!1){if(Br(t.app))return Promise.reject(So(t));const r="signIn",i=await YV(t,r,e),o=await su._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function x9(t,e){return XV(Eu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t){const e=Eu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E9(t,e,n){if(Br(t.app))return Promise.reject(So(t));const r=Eu(t),a=await LE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&JV(t),c}),u=await su._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function T9(t,e,n){return Br(t.app)?Promise.reject(So(t)):x9(ct(t),$c.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JV(t),r})}async function ZV(t,e){const n=ct(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await d9(n.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e){return Qi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Kl(r,S9(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function A9(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function P9(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function eL(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function z1(t){return ct(t).signOut()}async function O9(t){return ct(t).delete()}const vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=1e3,R9=10;class nL extends tL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);W5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nL.type="LOCAL";const k9=nL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL extends tL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rL.type="SESSION";const iL=rL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new My(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(n.origin,o)),c=await N9(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}My.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const f=W1("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function M9(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function j9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V9(){return navigator?.serviceWorker?.controller||null}function L9(){return oL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="firebaseLocalStorageDb",$9=1,_g="firebaseLocalStorage",sL="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jy(t,e){return t.transaction([_g],e?"readwrite":"readonly").objectStore(_g)}function F9(){const t=indexedDB.deleteDatabase(aL);return new Bd(t).toPromise()}function $E(){const t=indexedDB.open(aL,$9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_g,{keyPath:sL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_g)?e(r):(r.close(),await F9(),e(await $E()))})})}async function WO(t,e,n){const r=jy(t,!0).put({[sL]:e,value:n});return new Bd(r).toPromise()}async function B9(t,e){const n=jy(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function GO(t,e){const n=jy(t,!0).delete(e);return new Bd(n).toPromise()}const U9=800,q9=3;class uL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $E(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=My._getInstance(L9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j9(),!this.activeServiceWorker)return;this.sender=new D9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $E();return await WO(e,vg,"1"),await GO(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=jy(i,!1).getAll();return new Bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uL.type="LOCAL";const z9=uL;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return e?_o(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends U1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G9(t){return XV(t.auth,new G1(t),t.bypassAuthState)}function H9(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),b9(n,new G1(t),t.bypassAuthState)}async function K9(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),w9(n,new G1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return H9;default:pi(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Ld(2e3,1e4);class Nl extends lL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ro(this.filter.length===1,"Popup operations only handle one event");const e=W1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q9.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="pendingRedirect",Zm=new Map;class X9 extends lL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const r=await J9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J9(t,e){const n=tz(e),r=ez(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Z9(t,e){Zm.set(t._key(),e)}function ez(t){return _o(t._redirectPersistence)}function tz(t){return Jm(Y9,t.config.apiKey,t.name)}async function nz(t,e,n=!1){if(Br(t.app))return Promise.reject(So(t));const r=Eu(t),i=W9(r,e),a=await new X9(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=600*1e3;class iz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cL(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rz&&this.cachedEventUids.clear(),this.cachedEventUids.has(HO(e))}saveEventToCache(e){this.cachedEventUids.add(HO(e)),this.lastProcessedEventTime=Date.now()}}function HO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cL({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uz=/^https?/;async function lz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await az(t);for(const n of e)try{if(cz(n))return}catch{}pi(t,"unauthorized-domain")}function cz(t){const e=jE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!uz.test(n))return!1;if(sz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=new Ld(3e4,6e4);function KO(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hz(t){return new Promise((e,n)=>{function r(){KO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KO(),n(Bi(t,"network-request-failed"))},timeout:fz.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const i=e9("iframefcb");return Ui()[i]=()=>{gapi.load?r():n(Bi(t,"network-request-failed"))},GV(`${Z5()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw eg=null,e})}let eg=null;function dz(t){return eg=eg||hz(t),eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new Ld(5e3,15e3),mz="__/auth/iframe",gz="emulator/auth/iframe",yz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _z(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$1(e,gz):`https://${t.config.authDomain}/${mz}`,r={apiKey:e.apiKey,appName:t.name,v:Lc},i=vz.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jd(r).slice(1)}`}async function wz(t){const e=await dz(t),n=Ui().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:_z(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yz,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Bi(t,"network-request-failed"),u=Ui().setTimeout(()=>{o(a)},pz.get());function c(){Ui().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xz=500,Ez=600,Tz="_blank",Sz="http://localhost";class QO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Iz(t,e,n,r=xz,i=Ez){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...bz,width:r.toString(),height:i.toString(),top:o,left:a},f=dn().toLowerCase();n&&(u=$V(f)?Tz:n),VV(f)&&(e=e||Sz,c.scrollbars="yes");const d=Object.entries(c).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(z5(f)&&u!=="_self")return Az(e||"",u),new QO(null);const p=window.open(e||"",u,d);Be(p,t,"popup-blocked");try{p.focus()}catch{}return new QO(p)}function Az(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz="__/auth/handler",Oz="emulator/auth/handler",Cz=encodeURIComponent("fac");async function YO(t,e,n,r,i,o){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lc,eventId:i};if(e instanceof QV){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Fd){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const c=await t._getAppCheckToken(),f=c?`#${Cz}=${encodeURIComponent(c)}`:"";return`${Rz(t)}?${jd(u).slice(1)}${f}`}function Rz({config:t}){return t.emulator?$1(t,Oz):`https://${t.authDomain}/${Pz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="webStorageSupport";class kz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iL,this._completeRedirectFn=nz,this._overrideRedirectResult=Z9}async _openPopup(e,n,r,i){Ro(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await YO(e,n,r,jE(),i);return Iz(e,o,W1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await YO(e,n,r,jE(),i);return M9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ro(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wz(e),r=new iz(e);return n.register("authEvent",i=>(Be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x0,{type:x0},i=>{const o=i?.[0]?.[x0];o!==void 0&&n(!!o),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zV()||LV()||B1()}}const Nz=kz;var XO="@firebase/auth",JO="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jz(t){Hl(new ou("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WV(t)},f=new Y5(r,i,o,c);return a9(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new ou("auth-internal",e=>{const n=Eu(e.getProvider("auth").getImmediate());return(r=>new Dz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fa(XO,JO,Mz(t)),Fa(XO,JO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=300,Lz=yV("authIdTokenMaxAge")||Vz;let ZO=null;const $z=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lz)return;const i=n?.token;ZO!==i&&(ZO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fz(t=IV()){const e=Vd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o9(t,{popupRedirectResolver:Nz,persistence:[z9,k9,iL]}),r=yV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=$z(o.toString());P9(n,a,()=>a(n.currentUser)),A9(n,u=>a(u))}}const i=mV("auth");return i&&s9(n,`http://${i}`),n}function Bz(){return document.getElementsByTagName("head")?.[0]??document}X5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Bi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jz("Browser");var Uz="firebase",qz="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(Uz,qz,"app");var eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ba,fL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function N(){}N.prototype=I.prototype,S.F=I.prototype,S.prototype=new N,S.prototype.constructor=S,S.D=function(F,V,D){for(var M=Array(arguments.length-2),G=2;G<arguments.length;G++)M[G-2]=arguments[G];return I.prototype[V].apply(F,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,N){N||(N=0);const F=Array(16);if(typeof I=="string")for(var V=0;V<16;++V)F[V]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(V=0;V<16;++V)F[V]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=S.g[0],N=S.g[1],V=S.g[2];let D=S.g[3],M;M=I+(D^N&(V^D))+F[0]+3614090360&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(V^I&(N^V))+F[1]+3905402710&4294967295,D=I+(M<<12&4294967295|M>>>20),M=V+(N^D&(I^N))+F[2]+606105819&4294967295,V=D+(M<<17&4294967295|M>>>15),M=N+(I^V&(D^I))+F[3]+3250441966&4294967295,N=V+(M<<22&4294967295|M>>>10),M=I+(D^N&(V^D))+F[4]+4118548399&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(V^I&(N^V))+F[5]+1200080426&4294967295,D=I+(M<<12&4294967295|M>>>20),M=V+(N^D&(I^N))+F[6]+2821735955&4294967295,V=D+(M<<17&4294967295|M>>>15),M=N+(I^V&(D^I))+F[7]+4249261313&4294967295,N=V+(M<<22&4294967295|M>>>10),M=I+(D^N&(V^D))+F[8]+1770035416&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(V^I&(N^V))+F[9]+2336552879&4294967295,D=I+(M<<12&4294967295|M>>>20),M=V+(N^D&(I^N))+F[10]+4294925233&4294967295,V=D+(M<<17&4294967295|M>>>15),M=N+(I^V&(D^I))+F[11]+2304563134&4294967295,N=V+(M<<22&4294967295|M>>>10),M=I+(D^N&(V^D))+F[12]+1804603682&4294967295,I=N+(M<<7&4294967295|M>>>25),M=D+(V^I&(N^V))+F[13]+4254626195&4294967295,D=I+(M<<12&4294967295|M>>>20),M=V+(N^D&(I^N))+F[14]+2792965006&4294967295,V=D+(M<<17&4294967295|M>>>15),M=N+(I^V&(D^I))+F[15]+1236535329&4294967295,N=V+(M<<22&4294967295|M>>>10),M=I+(V^D&(N^V))+F[1]+4129170786&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^V&(I^N))+F[6]+3225465664&4294967295,D=I+(M<<9&4294967295|M>>>23),M=V+(I^N&(D^I))+F[11]+643717713&4294967295,V=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(V^D))+F[0]+3921069994&4294967295,N=V+(M<<20&4294967295|M>>>12),M=I+(V^D&(N^V))+F[5]+3593408605&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^V&(I^N))+F[10]+38016083&4294967295,D=I+(M<<9&4294967295|M>>>23),M=V+(I^N&(D^I))+F[15]+3634488961&4294967295,V=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(V^D))+F[4]+3889429448&4294967295,N=V+(M<<20&4294967295|M>>>12),M=I+(V^D&(N^V))+F[9]+568446438&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^V&(I^N))+F[14]+3275163606&4294967295,D=I+(M<<9&4294967295|M>>>23),M=V+(I^N&(D^I))+F[3]+4107603335&4294967295,V=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(V^D))+F[8]+1163531501&4294967295,N=V+(M<<20&4294967295|M>>>12),M=I+(V^D&(N^V))+F[13]+2850285829&4294967295,I=N+(M<<5&4294967295|M>>>27),M=D+(N^V&(I^N))+F[2]+4243563512&4294967295,D=I+(M<<9&4294967295|M>>>23),M=V+(I^N&(D^I))+F[7]+1735328473&4294967295,V=D+(M<<14&4294967295|M>>>18),M=N+(D^I&(V^D))+F[12]+2368359562&4294967295,N=V+(M<<20&4294967295|M>>>12),M=I+(N^V^D)+F[5]+4294588738&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^V)+F[8]+2272392833&4294967295,D=I+(M<<11&4294967295|M>>>21),M=V+(D^I^N)+F[11]+1839030562&4294967295,V=D+(M<<16&4294967295|M>>>16),M=N+(V^D^I)+F[14]+4259657740&4294967295,N=V+(M<<23&4294967295|M>>>9),M=I+(N^V^D)+F[1]+2763975236&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^V)+F[4]+1272893353&4294967295,D=I+(M<<11&4294967295|M>>>21),M=V+(D^I^N)+F[7]+4139469664&4294967295,V=D+(M<<16&4294967295|M>>>16),M=N+(V^D^I)+F[10]+3200236656&4294967295,N=V+(M<<23&4294967295|M>>>9),M=I+(N^V^D)+F[13]+681279174&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^V)+F[0]+3936430074&4294967295,D=I+(M<<11&4294967295|M>>>21),M=V+(D^I^N)+F[3]+3572445317&4294967295,V=D+(M<<16&4294967295|M>>>16),M=N+(V^D^I)+F[6]+76029189&4294967295,N=V+(M<<23&4294967295|M>>>9),M=I+(N^V^D)+F[9]+3654602809&4294967295,I=N+(M<<4&4294967295|M>>>28),M=D+(I^N^V)+F[12]+3873151461&4294967295,D=I+(M<<11&4294967295|M>>>21),M=V+(D^I^N)+F[15]+530742520&4294967295,V=D+(M<<16&4294967295|M>>>16),M=N+(V^D^I)+F[2]+3299628645&4294967295,N=V+(M<<23&4294967295|M>>>9),M=I+(V^(N|~D))+F[0]+4096336452&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~V))+F[7]+1126891415&4294967295,D=I+(M<<10&4294967295|M>>>22),M=V+(I^(D|~N))+F[14]+2878612391&4294967295,V=D+(M<<15&4294967295|M>>>17),M=N+(D^(V|~I))+F[5]+4237533241&4294967295,N=V+(M<<21&4294967295|M>>>11),M=I+(V^(N|~D))+F[12]+1700485571&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~V))+F[3]+2399980690&4294967295,D=I+(M<<10&4294967295|M>>>22),M=V+(I^(D|~N))+F[10]+4293915773&4294967295,V=D+(M<<15&4294967295|M>>>17),M=N+(D^(V|~I))+F[1]+2240044497&4294967295,N=V+(M<<21&4294967295|M>>>11),M=I+(V^(N|~D))+F[8]+1873313359&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~V))+F[15]+4264355552&4294967295,D=I+(M<<10&4294967295|M>>>22),M=V+(I^(D|~N))+F[6]+2734768916&4294967295,V=D+(M<<15&4294967295|M>>>17),M=N+(D^(V|~I))+F[13]+1309151649&4294967295,N=V+(M<<21&4294967295|M>>>11),M=I+(V^(N|~D))+F[4]+4149444226&4294967295,I=N+(M<<6&4294967295|M>>>26),M=D+(N^(I|~V))+F[11]+3174756917&4294967295,D=I+(M<<10&4294967295|M>>>22),M=V+(I^(D|~N))+F[2]+718787259&4294967295,V=D+(M<<15&4294967295|M>>>17),M=N+(D^(V|~I))+F[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.v=function(S,I){I===void 0&&(I=S.length);const N=I-this.blockSize,F=this.C;let V=this.h,D=0;for(;D<I;){if(V==0)for(;D<=N;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<I;)if(F[V++]=S.charCodeAt(D++),V==this.blockSize){i(this,F),V=0;break}}else for(;D<I;)if(F[V++]=S[D++],V==this.blockSize){i(this,F),V=0;break}}this.h=V,this.o+=I},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var N=S.length-8;N<S.length;++N)S[N]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,N=0;N<4;++N)for(let F=0;F<32;F+=8)S[I++]=this.g[N]>>>F&255;return S};function o(S,I){var N=u;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=I(S)}function a(S,I){this.h=I;const N=[];let F=!0;for(let V=S.length-1;V>=0;V--){const D=S[V]|0;F&&D==I||(N[V]=D,F=!1)}this.g=N}var u={};function c(S){return-128<=S&&S<128?o(S,function(I){return new a([I|0],I<0?-1:0)}):new a([S|0],S<0?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return p;if(S<0)return w(f(-S));const I=[];let N=1;for(let F=0;S>=N;F++)I[F]=S/N|0,N*=4294967296;return new a(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return w(d(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(I,8));let F=p;for(let D=0;D<S.length;D+=8){var V=Math.min(8,S.length-D);const M=parseInt(S.substring(D,D+V),I);V<8?(V=f(Math.pow(I,V)),F=F.j(V).add(f(M))):(F=F.j(N),F=F.add(f(M)))}return F}var p=c(0),y=c(1),v=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-w(this).m();let S=0,I=1;for(let N=0;N<this.g.length;N++){const F=this.i(N);S+=(F>=0?F:4294967296+F)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(b(this))return"-"+w(this).toString(S);const I=f(Math.pow(S,6));var N=this;let F="";for(;;){const V=$(N,I).g;N=A(N,V.j(I));let D=((N.g.length>0?N.g[0]:N.h)>>>0).toString(S);if(N=V,E(N))return D+F;for(;D.length<6;)D="0"+D;F=D+F}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=A(this,S),b(S)?-1:E(S)?0:1};function w(S){const I=S.g.length,N=[];for(let F=0;F<I;F++)N[F]=~S.g[F];return new a(N,~S.h).add(y)}t.abs=function(){return b(this)?w(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),N=[];let F=0;for(let V=0;V<=I;V++){let D=F+(this.i(V)&65535)+(S.i(V)&65535),M=(D>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);F=M>>>16,D&=65535,M&=65535,N[V]=M<<16|D}return new a(N,N[N.length-1]&-2147483648?-1:0)};function A(S,I){return S.add(w(I))}t.j=function(S){if(E(this)||E(S))return p;if(b(this))return b(S)?w(this).j(w(S)):w(w(this).j(S));if(b(S))return w(this.j(w(S)));if(this.l(v)<0&&S.l(v)<0)return f(this.m()*S.m());const I=this.g.length+S.g.length,N=[];for(var F=0;F<2*I;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<S.g.length;V++){const D=this.i(F)>>>16,M=this.i(F)&65535,G=S.i(V)>>>16,K=S.i(V)&65535;N[2*F+2*V]+=M*K,C(N,2*F+2*V),N[2*F+2*V+1]+=D*K,C(N,2*F+2*V+1),N[2*F+2*V+1]+=M*G,C(N,2*F+2*V+1),N[2*F+2*V+2]+=D*G,C(N,2*F+2*V+2)}for(S=0;S<I;S++)N[S]=N[2*S+1]<<16|N[2*S];for(S=I;S<2*I;S++)N[S]=0;return new a(N,0)};function C(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function R(S,I){this.g=S,this.h=I}function $(S,I){if(E(I))throw Error("division by zero");if(E(S))return new R(p,p);if(b(S))return I=$(w(S),I),new R(w(I.g),w(I.h));if(b(I))return I=$(S,w(I)),new R(w(I.g),I.h);if(S.g.length>30){if(b(S)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var N=y,F=I;F.l(S)<=0;)N=P(N),F=P(F);var V=k(N,1),D=k(F,1);for(F=k(F,2),N=k(N,2);!E(F);){var M=D.add(F);M.l(S)<=0&&(V=V.add(N),D=M),F=k(F,1),N=k(N,1)}return I=A(S,V.j(I)),new R(V,I)}for(V=p;S.l(I)>=0;){for(N=Math.max(1,Math.floor(S.m()/I.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),D=f(N),M=D.j(I);b(M)||M.l(S)>0;)N-=F,D=f(N),M=D.j(I);E(D)&&(D=y),V=V.add(D),S=A(S,M)}return new R(V,S)}t.B=function(S){return $(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),N=[];for(let F=0;F<I;F++)N[F]=this.i(F)&S.i(F);return new a(N,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),N=[];for(let F=0;F<I;F++)N[F]=this.i(F)|S.i(F);return new a(N,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),N=[];for(let F=0;F<I;F++)N[F]=this.i(F)^S.i(F);return new a(N,this.h^S.h)};function P(S){const I=S.g.length+1,N=[];for(let F=0;F<I;F++)N[F]=S.i(F)<<1|S.i(F-1)>>>31;return new a(N,S.h)}function k(S,I){const N=I>>5;I%=32;const F=S.g.length-N,V=[];for(let D=0;D<F;D++)V[D]=I>0?S.i(D+N)>>>I|S.i(D+N+1)<<32-I:S.i(D+N);return new a(V,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fL=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,Ba=a}).apply(typeof eC<"u"?eC:typeof self<"u"?self:typeof window<"u"?window:{});var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hL,gh,dL,tg,FE,pL,mL,gL;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cm=="object"&&Cm];for(var T=0;T<m.length;++T){var O=m[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var O=r;m=m.split(".");for(var B=0;B<m.length-1;B++){var Z=m[B];if(!(Z in O))break e;O=O[Z]}m=m[m.length-1],B=O[m],T=T(B),T!=B&&T!=null&&e(O,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var O=[],B;for(B in T)Object.prototype.hasOwnProperty.call(T,B)&&O.push([B,T[B]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function c(m,T,O){return m.call.apply(m.bind,arguments)}function f(m,T,O){return f=c,f.apply(null,arguments)}function d(m,T){var O=Array.prototype.slice.call(arguments,1);return function(){var B=O.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function p(m,T){function O(){}O.prototype=T.prototype,m.Z=T.prototype,m.prototype=new O,m.prototype.constructor=m,m.Ob=function(B,Z,oe){for(var we=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)we[ze-2]=arguments[ze];return T.prototype[Z].apply(B,we)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function v(m){const T=m.length;if(T>0){const O=Array(T);for(let B=0;B<T;B++)O[B]=m[B];return O}return[]}function E(m,T){for(let B=1;B<arguments.length;B++){const Z=arguments[B];var O=typeof Z;if(O=O!="object"?O:Z?Array.isArray(Z)?"array":O:"null",O=="array"||O=="object"&&typeof Z.length=="number"){O=m.length||0;const oe=Z.length||0;m.length=O+oe;for(let we=0;we<oe;we++)m[O+we]=Z[we]}else m.push(Z)}}class b{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(m){a.setTimeout(()=>{throw m},0)}function A(){var m=S;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class C{constructor(){this.h=this.g=null}add(T,O){const B=R.get();B.set(T,O),this.h?this.h.next=B:this.g=B,this.h=B}}var R=new b(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let P,k=!1,S=new C,I=()=>{const m=Promise.resolve(void 0);P=()=>{m.then(N)}};function N(){for(var m;m=A();){try{m.h.call(m.g)}catch(O){w(O)}var T=R;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}k=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};a.addEventListener("test",O,T),a.removeEventListener("test",O,T)}catch{}return m})();function M(m){return/^[\s\xa0]*$/.test(m)}function G(m,T){V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}p(G,V),G.prototype.init=function(m,T){const O=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(O=="mouseover"?T=m.fromElement:O=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),re=0;function ue(m,T,O,B,Z){this.listener=m,this.proxy=null,this.src=T,this.type=O,this.capture=!!B,this.ha=Z,this.key=++re,this.da=this.fa=!1}function X(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function se(m,T,O){for(const B in m)T.call(O,m[B],B,m)}function ae(m,T){for(const O in m)T.call(void 0,m[O],O,m)}function q(m){const T={};for(const O in m)T[O]=m[O];return T}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(m,T){let O,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(O in B)m[O]=B[O];for(let oe=0;oe<Q.length;oe++)O=Q[oe],Object.prototype.hasOwnProperty.call(B,O)&&(m[O]=B[O])}}function Se(m){this.src=m,this.g={},this.h=0}Se.prototype.add=function(m,T,O,B,Z){const oe=m.toString();m=this.g[oe],m||(m=this.g[oe]=[],this.h++);const we=Le(m,T,B,Z);return we>-1?(T=m[we],O||(T.fa=!1)):(T=new ue(T,this.src,oe,!!B,Z),T.fa=O,m.push(T)),T};function Ne(m,T){const O=T.type;if(O in m.g){var B=m.g[O],Z=Array.prototype.indexOf.call(B,T,void 0),oe;(oe=Z>=0)&&Array.prototype.splice.call(B,Z,1),oe&&(X(T),m.g[O].length==0&&(delete m.g[O],m.h--))}}function Le(m,T,O,B){for(let Z=0;Z<m.length;++Z){const oe=m[Z];if(!oe.da&&oe.listener==T&&oe.capture==!!O&&oe.ha==B)return Z}return-1}var He="closure_lm_"+(Math.random()*1e6|0),$e={};function me(m,T,O,B,Z){if(Array.isArray(T)){for(let oe=0;oe<T.length;oe++)me(m,T[oe],O,B,Z);return null}return O=Yn(O),m&&m[K]?m.J(T,O,u(B)?!!B.capture:!1,Z):Ee(m,T,O,!1,B,Z)}function Ee(m,T,O,B,Z,oe){if(!T)throw Error("Invalid event type");const we=u(Z)?!!Z.capture:!!Z;let ze=Tt(m);if(ze||(m[He]=ze=new Se(m)),O=ze.add(T,O,B,we,oe),O.proxy)return O;if(B=Me(),O.proxy=B,B.src=m,B.listener=O,m.addEventListener)D||(Z=we),Z===void 0&&(Z=!1),m.addEventListener(T.toString(),B,Z);else if(m.attachEvent)m.attachEvent(Ge(T.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Me(){function m(O){return T.call(m.src,m.listener,O)}const T=jt;return m}function fe(m,T,O,B,Z){if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)fe(m,T[oe],O,B,Z);else B=u(B)?!!B.capture:!!B,O=Yn(O),m&&m[K]?(m=m.i,oe=String(T).toString(),oe in m.g&&(T=m.g[oe],O=Le(T,O,B,Z),O>-1&&(X(T[O]),Array.prototype.splice.call(T,O,1),T.length==0&&(delete m.g[oe],m.h--)))):m&&(m=Tt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Le(T,O,B,Z)),(O=m>-1?T[m]:null)&&Ze(O))}function Ze(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[K])Ne(T.i,m);else{var O=m.type,B=m.proxy;T.removeEventListener?T.removeEventListener(O,B,m.capture):T.detachEvent?T.detachEvent(Ge(O),B):T.addListener&&T.removeListener&&T.removeListener(B),(O=Tt(T))?(Ne(O,m),O.h==0&&(O.src=null,T[He]=null)):X(m)}}}function Ge(m){return m in $e?$e[m]:$e[m]="on"+m}function jt(m,T){if(m.da)m=!0;else{T=new G(T,this);const O=m.listener,B=m.ha||m.src;m.fa&&Ze(m),m=O.call(B,T)}return m}function Tt(m){return m=m[He],m instanceof Se?m:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yn(m){return typeof m=="function"?m:(m[Wt]||(m[Wt]=function(T){return m.handleEvent(T)}),m[Wt])}function wt(){F.call(this),this.i=new Se(this),this.M=this,this.G=null}p(wt,F),wt.prototype[K]=!0,wt.prototype.removeEventListener=function(m,T,O,B){fe(this,m,T,O,B)};function St(m,T){var O,B=m.G;if(B)for(O=[];B;B=B.G)O.push(B);if(m=m.M,B=T.type||T,typeof T=="string")T=new V(T,m);else if(T instanceof V)T.target=T.target||m;else{var Z=T;T=new V(B,m),ye(T,Z)}Z=!0;let oe,we;if(O)for(we=O.length-1;we>=0;we--)oe=T.g=O[we],Z=sn(oe,B,!0,T)&&Z;if(oe=T.g=m,Z=sn(oe,B,!0,T)&&Z,Z=sn(oe,B,!1,T)&&Z,O)for(we=0;we<O.length;we++)oe=T.g=O[we],Z=sn(oe,B,!1,T)&&Z}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const O=m.g[T];for(let B=0;B<O.length;B++)X(O[B]);delete m.g[T],m.h--}}this.G=null},wt.prototype.J=function(m,T,O,B){return this.i.add(String(m),T,!1,O,B)},wt.prototype.K=function(m,T,O,B){return this.i.add(String(m),T,!0,O,B)};function sn(m,T,O,B){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let Z=!0;for(let oe=0;oe<T.length;++oe){const we=T[oe];if(we&&!we.da&&we.capture==O){const ze=we.listener,Qt=we.ha||we.src;we.fa&&Ne(m.i,we),Z=ze.call(Qt,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function fr(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:a.setTimeout(m,T||0)}function Xi(m){m.g=fr(()=>{m.g=null,m.i&&(m.i=!1,Xi(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class fs extends F{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(m){F.call(this),this.h=m,this.g={}}p(Hr,F);var sf=[];function Du(m){se(m.g,function(T,O){this.g.hasOwnProperty(O)&&Ze(T)},m),m.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),Du(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qo=a.JSON.stringify,pp=a.JSON.parse,hs=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Yo(){}function mp(){}var Xo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mu(){V.call(this,"d")}p(Mu,V);function uf(){V.call(this,"c")}p(uf,V);var Kr={},ju=null;function Jo(){return ju=ju||new wt}Kr.Ia="serverreachability";function Vu(m){V.call(this,Kr.Ia,m)}p(Vu,V);function Ji(m){const T=Jo();St(T,new Vu(T))}Kr.STAT_EVENT="statevent";function Zi(m,T){V.call(this,Kr.STAT_EVENT,m),this.stat=T}p(Zi,V);function Gt(m){const T=Jo();St(T,new Zi(T,m))}Kr.Ja="timingevent";function lf(m,T){V.call(this,Kr.Ja,m),this.size=T}p(lf,V);function Zo(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},T)}function ea(){this.g=!0}ea.prototype.ua=function(){this.g=!1};function gp(m,T,O,B,Z,oe){m.info(function(){if(m.g)if(oe){var we="",ze=oe.split("&");for(let pt=0;pt<ze.length;pt++){var Qt=ze[pt].split("=");if(Qt.length>1){const en=Qt[0];Qt=Qt[1];const yr=en.split("_");we=yr.length>=2&&yr[1]=="type"?we+(en+"="+Qt+"&"):we+(en+"=redacted&")}}}else we=null;else we=oe;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+T+`
`+O+`
`+we})}function yp(m,T,O,B,Z,oe,we){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+T+`
`+O+`
`+oe+" "+we})}function gi(m,T,O,B){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+ds(m,O)+(B?" "+B:"")})}function vp(m,T){m.info(function(){return"TIMEOUT: "+T})}ea.prototype.info=function(){};function ds(m,T){if(!m.g)return T;if(!T)return null;try{const oe=JSON.parse(T);if(oe){for(m=0;m<oe.length;m++)if(Array.isArray(oe[m])){var O=oe[m];if(!(O.length<2)){var B=O[1];if(Array.isArray(B)&&!(B.length<1)){var Z=B[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let we=1;we<B.length;we++)B[we]=""}}}}return Qo(oe)}catch{return T}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_p;function eo(){}p(eo,Yo),eo.prototype.g=function(){return new XMLHttpRequest},_p=new eo;function yi(m){return encodeURIComponent(String(m))}function Lu(m){var T=1;m=m.split(":");const O=[];for(;T>0&&m.length;)O.push(m.shift()),T--;return m.length&&O.push(m.join(":")),O}function Cr(m,T,O,B){this.j=m,this.i=T,this.l=O,this.S=B||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wp}function wp(){this.i=null,this.g="",this.h=!1}var bp={},cf={};function Qr(m,T,O){m.M=1,m.A=no(Rr(T)),m.u=O,m.R=!0,ff(m,null)}function ff(m,T){m.F=Date.now(),ps(m),m.B=Rr(m.A);var O=m.B,B=m.S;Array.isArray(B)||(B=[String(B)]),bf(O.i,"t",B),m.C=0,O=m.j.L,m.h=new wp,m.g=Rp(m.j,O?T:null,!m.u),m.P>0&&(m.O=new fs(f(m.Y,m,m.g),m.P)),T=m.V,O=m.g,B=m.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(sf[0]=Z.toString()),Z=sf);for(let oe=0;oe<Z.length;oe++){const we=me(O,Z[oe],B||T.handleEvent,!1,T.h||T);if(!we)break;T.g[we.key]=we}T=m.J?q(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Ji(),gp(m.i,m.v,m.B,m.l,m.S,m.u)}Cr.prototype.ba=function(m){m=m.target;const T=this.O;T&&Ti(m)==3?T.j():this.Y(m)},Cr.prototype.Y=function(m){try{if(m==this.g)e:{const ze=Ti(this.g),Qt=this.g.ya(),pt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Op(this.g)))){this.K||ze!=4||Qt==7||(Qt==8||pt<=0?Ji(3):Ji(2)),$u(this);var T=this.g.ca();this.X=T;var O=xp(this);if(this.o=T==200,yp(this.i,this.v,this.B,this.l,this.S,ze,T),this.o){if(this.U&&!this.L){t:{if(this.g){var B,Z=this.g;if((B=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(B)){var oe=B;break t}}oe=null}if(m=oe)gi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ct(this,m);else{this.o=!1,this.m=3,Gt(12),to(this),ms(this);break e}}if(this.R){m=!0;let en;for(;!this.K&&this.C<O.length;)if(en=Tp(this,O),en==cf){ze==4&&(this.m=4,Gt(14),m=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==bp){this.m=4,Gt(15),gi(this.i,this.l,O,"[Invalid Chunk]"),m=!1;break}else gi(this.i,this.l,en,null),Ct(this,en);if(Ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||O.length!=0||this.h.h||(this.m=1,Gt(16),m=!1),this.o=this.o&&m,!m)gi(this.i,this.l,O,"[Invalid Chunked Response]"),to(this),ms(this);else if(O.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ts(we),we.P=!0,Gt(11))}}else gi(this.i,this.l,O,null),Ct(this,O);ze==4&&to(this),this.o&&!this.K&&(ze==4?Qu(this.j,this):(this.o=!1,ps(this)))}else Ef(this.g),T==400&&O.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),to(this),ms(this)}}}catch{}finally{}};function xp(m){if(!Ep(m))return m.g.la();const T=Op(m.g);if(T==="")return"";let O="";const B=T.length,Z=Ti(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return to(m),ms(m),"";m.h.i=new a.TextDecoder}for(let oe=0;oe<B;oe++)m.h.h=!0,O+=m.h.i.decode(T[oe],{stream:!(Z&&oe==B-1)});return T.length=0,m.h.g+=O,m.C=0,m.h.g}function Ep(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Tp(m,T){var O=m.C,B=T.indexOf(`
`,O);return B==-1?cf:(O=Number(T.substring(O,B)),isNaN(O)?bp:(B+=1,B+O>T.length?cf:(T=T.slice(B,B+O),m.C=B+O,T)))}Cr.prototype.cancel=function(){this.K=!0,to(this)};function ps(m){m.T=Date.now()+m.H,hf(m,m.H)}function hf(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Zo(f(m.aa,m),T)}function $u(m){m.D&&(a.clearTimeout(m.D),m.D=null)}Cr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(vp(this.i,this.B),this.M!=2&&(Ji(),Gt(17)),to(this),this.m=2,ms(this)):hf(this,this.T-m)};function ms(m){m.j.I==0||m.K||Qu(m.j,m)}function to(m){$u(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Du(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Ct(m,T){try{var O=m.j;if(O.I!=0&&(O.g==m||pf(O.h,m))){if(!m.L&&pf(O.h,m)&&O.I==3){try{var B=O.Ba.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<m.F)Ku(O),mr(O);else break e;Ai(O),Gt(18)}}else O.xa=Z[1],0<O.xa-O.K&&Z[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Zo(f(O.Va,O),6e3));gs(O.h)<=1&&O.ta&&(O.ta=void 0)}else gr(O,11)}else if((m.L||O.g==m)&&Ku(O),!M(T))for(Z=O.Ba.g.parse(T),T=0;T<Z.length;T++){let pt=Z[T];const en=pt[0];if(!(en<=O.K))if(O.K=en,pt=pt[1],O.I==2)if(pt[0]=="c"){O.M=pt[1],O.ba=pt[2];const yr=pt[3];yr!=null&&(O.ka=yr,O.j.info("VER="+O.ka));const so=pt[4];so!=null&&(O.za=so,O.j.info("SVER="+O.za));const Pi=pt[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(B=1.5*Pi,O.O=B,O.j.info("backChannelRequestTimeoutMs_="+B)),B=O;const Oi=m.g;if(Oi){const Ju=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var oe=B.h;oe.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Bu(oe,oe.h),oe.h=null))}if(B.G){const If=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;If&&(B.wa=If,lt(B.J,B.G,If))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-m.F,O.j.info("Handshake RTT: "+O.T+"ms")),B=O;var we=m;if(B.na=Sf(B,B.L?B.ba:null,B.W),we.L){ys(B.h,we);var ze=we,Qt=B.O;Qt&&(ze.H=Qt),ze.D&&($u(ze),ps(ze)),B.g=we}else Dn(B);O.i.length>0&&ao(O)}else pt[0]!="stop"&&pt[0]!="close"||gr(O,7);else O.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?gr(O,7):Gu(O):pt[0]!="noop"&&O.l&&O.l.qa(pt),O.A=0)}}Ji(4)}catch{}}var Uv=class{constructor(m,T){this.g=m,this.map=T}};function Fu(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function df(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function gs(m){return m.h?1:m.g?m.g.size:0}function pf(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Bu(m,T){m.g?m.g.add(T):m.h=T}function ys(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Fu.prototype.cancel=function(){if(this.i=hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function hr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const O of m.g.values())T=T.concat(O.G);return T}return v(m.i)}var Sp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(m,T){if(m){m=m.split("&");for(let O=0;O<m.length;O++){const B=m[O].indexOf("=");let Z,oe=null;B>=0?(Z=m[O].substring(0,B),oe=m[O].substring(B+1)):Z=m[O],T(Z,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function vi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof vi?(this.l=m.l,vs(this,m.j),this.o=m.o,this.g=m.g,_i(this,m.u),this.h=m.h,ra(this,xf(m.i)),this.m=m.m):m&&(T=String(m).match(Sp))?(this.l=!1,vs(this,T[1]||"",!0),this.o=_s(T[2]||""),this.g=_s(T[3]||"",!0),_i(this,T[4]),this.h=_s(T[5]||"",!0),ra(this,T[6]||"",!0),this.m=_s(T[7]||"")):(this.l=!1,this.i=new nt(null,this.l))}vi.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(ws(T,gf,!0),":");var O=this.g;return(O||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ws(T,gf,!0),"@"),m.push(yi(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&m.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(ws(O,O.charAt(0)=="/"?bs:yf,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",ws(O,vf)),m.join("")},vi.prototype.resolve=function(m){const T=Rr(this);let O=!!m.j;O?vs(T,m.j):O=!!m.o,O?T.o=m.o:O=!!m.g,O?T.g=m.g:O=m.u!=null;var B=m.h;if(O)_i(T,m.u);else if(O=!!m.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var Z=T.h.lastIndexOf("/");Z!=-1&&(B=T.h.slice(0,Z+1)+B)}if(Z=B,Z==".."||Z==".")B="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){B=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const oe=[];for(let we=0;we<Z.length;){const ze=Z[we++];ze=="."?B&&we==Z.length&&oe.push(""):ze==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),B&&we==Z.length&&oe.push("")):(oe.push(ze),B=!0)}B=oe.join("/")}else B=Z}return O?T.h=B:O=m.i.toString()!=="",O?ra(T,xf(m.i)):O=!!m.m,O&&(T.m=m.m),T};function Rr(m){return new vi(m)}function vs(m,T,O){m.j=O?_s(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function _i(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function ra(m,T,O){T instanceof nt?(m.i=T,qu(m.i,m.l)):(O||(T=ws(T,qv)),m.i=new nt(T,m.l))}function lt(m,T,O){m.i.set(T,O)}function no(m){return lt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function _s(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ws(m,T,O){return typeof m=="string"?(m=encodeURI(m).replace(T,mf),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function mf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var gf=/[#\/\?@]/g,yf=/[#\?:]/g,bs=/[#\?]/g,qv=/[#\?@]/g,vf=/#/g;function nt(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function wi(m){m.g||(m.g=new Map,m.h=0,m.i&&dr(m.i,function(T,O){m.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=nt.prototype,t.add=function(m,T){wi(this),this.i=null,m=bi(this,m);let O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(T),this.h+=1,this};function _f(m,T){wi(m),T=bi(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Uu(m,T){return wi(m),T=bi(m,T),m.g.has(T)}t.forEach=function(m,T){wi(this),this.g.forEach(function(O,B){O.forEach(function(Z){m.call(T,Z,B,this)},this)},this)};function wf(m,T){wi(m);let O=[];if(typeof T=="string")Uu(m,T)&&(O=O.concat(m.g.get(bi(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)O=O.concat(m[T]);return O}t.set=function(m,T){return wi(this),this.i=null,m=bi(this,m),Uu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=wf(this,m),m.length>0?String(m[0]):T):T};function bf(m,T,O){_f(m,T),O.length>0&&(m.i=null,m.g.set(bi(m,T),v(O)),m.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let B=0;B<T.length;B++){var O=T[B];const Z=yi(O);O=wf(this,O);for(let oe=0;oe<O.length;oe++){let we=Z;O[oe]!==""&&(we+="="+yi(O[oe])),m.push(we)}}return this.i=m.join("&")};function xf(m){const T=new nt;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function bi(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function qu(m,T){T&&!m.j&&(wi(m),m.i=null,m.g.forEach(function(O,B){const Z=B.toLowerCase();B!=Z&&(_f(this,B),bf(this,Z,O))},m)),m.j=T}function xi(m,T){const O=new ea;if(a.Image){const B=new Image;B.onload=d(An,O,"TestLoadImage: loaded",!0,T,B),B.onerror=d(An,O,"TestLoadImage: error",!1,T,B),B.onabort=d(An,O,"TestLoadImage: abort",!1,T,B),B.ontimeout=d(An,O,"TestLoadImage: timeout",!1,T,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else T(!1)}function Ei(m,T){const O=new ea,B=new AbortController,Z=setTimeout(()=>{B.abort(),An(O,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:B.signal}).then(oe=>{clearTimeout(Z),oe.ok?An(O,"TestPingServer: ok",!0,T):An(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Z),An(O,"TestPingServer: error",!1,T)})}function An(m,T,O,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(O)}catch{}}function xs(){this.g=new hs}function ro(m){this.i=m.Sb||null,this.h=m.ab||!1}p(ro,Yo),ro.prototype.g=function(){return new pr(this.i,this.h)};function pr(m,T){wt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(pr,wt),t=pr.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Yr(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||a).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ip(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ip(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?ia(this):Yr(this),this.readyState==3&&Ip(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ia(this))},t.Na=function(m){this.g&&(this.response=m,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Yr(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=T.next();return m.join(`\r
`)};function Yr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ap(m){let T="";return se(m,function(O,B){T+=B,T+=":",T+=O,T+=`\r
`}),T}function zu(m,T,O){e:{for(B in O){var B=!1;break e}B=!0}B||(O=Ap(O),typeof m=="string"?O!=null&&yi(O):lt(m,T,O))}function bt(m){wt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(bt,wt);var Pp=/^https?$/i,zv=["POST","PUT"];t=bt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,O,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_p.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(oe){oa(this,oe);return}if(m=O||"",O=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)O.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const oe of B.keys())O.set(oe,B.get(oe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(O.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=a.FormData&&m instanceof a.FormData,!(Array.prototype.indexOf.call(zv,T,void 0)>=0)||B||Z||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,we]of O)this.g.setRequestHeader(oe,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(oe){oa(this,oe)}};function oa(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,aa(m),oo(m)}function aa(m){m.A||(m.A=!0,St(m,"complete"),St(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,St(this,"complete"),St(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?io(this):this.Xa())},t.Xa=function(){io(this)};function io(m){if(m.h&&typeof o<"u"){if(m.v&&Ti(m)==4)setTimeout(m.Ca.bind(m),0);else if(St(m,"readystatechange"),Ti(m)==4){m.h=!1;try{const oe=m.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var B;if(B=oe===0){let we=String(m.D).match(Sp)[1]||null;!we&&a.self&&a.self.location&&(we=a.self.location.protocol.slice(0,-1)),B=!Pp.test(we?we.toLowerCase():"")}O=B}if(O)St(m,"complete"),St(m,"success");else{m.o=6;try{var Z=Ti(m)>2?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.ca()+"]",aa(m)}}finally{oo(m)}}}}function oo(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const O=m.g;m.g=null,T||St(m,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),pp(T)}};function Op(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ef(m){const T={};m=(m.g&&Ti(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(M(m[B]))continue;var O=Lu(m[B]);const Z=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const oe=T[Z]||[];T[Z]=oe,oe.push(O)}ae(T,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(m,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||T}function Wu(m){this.za=0,this.i=[],this.j=new ea,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,m),this.Za=Si("retryDelaySeedMs",1e4,m),this.Ta=Si("forwardChannelMaxRetries",2,m),this.va=Si("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Fu(m&&m.concurrentRequestLimit),this.Ba=new xs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wu.prototype,t.ka=8,t.I=1,t.connect=function(m,T,O,B){Gt(0),this.W=m,this.H=T||{},O&&B!==void 0&&(this.H.OSID=O,this.H.OAID=B),this.F=this.X,this.J=Sf(this,null,this.W),ao(this)};function Gu(m){if(Hu(m),m.I==3){var T=m.V++,O=Rr(m.J);if(lt(O,"SID",m.M),lt(O,"RID",T),lt(O,"TYPE","terminate"),Ii(m,O),T=new Cr(m,m.j,T),T.M=2,T.A=no(Rr(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(T.A.toString(),"")}catch{}!O&&a.Image&&(new Image().src=T.A,O=!0),O||(T.g=Rp(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ps(T)}Ss(m)}function mr(m){m.g&&(Ts(m),m.g.cancel(),m.g=null)}function Hu(m){mr(m),m.v&&(a.clearTimeout(m.v),m.v=null),Ku(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&a.clearTimeout(m.m),m.m=null)}function ao(m){if(!df(m.h)&&!m.m){m.m=!0;var T=m.Ea;P||I(),k||(P(),k=!0),S.add(T,m),m.D=0}}function Cp(m,T){return gs(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Zo(f(m.Ea,m,T),Yu(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Z=new Cr(this,this.j,m);let oe=this.o;if(this.U&&(oe?(oe=q(oe),ye(oe,this.U)):oe=this.U),this.u!==null||this.R||(Z.J=oe,oe=null),this.S)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var B=this.i[O];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,T>4096){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=Tf(this,Z,T),O=Rr(this.J),lt(O,"RID",m),lt(O,"CVER",22),this.G&&lt(O,"X-HTTP-Session-Id",this.G),Ii(this,O),oe&&(this.R?T="headers="+yi(Ap(oe))+"&"+T:this.u&&zu(O,this.u,oe)),Bu(this.h,Z),this.Ra&&lt(O,"TYPE","init"),this.S?(lt(O,"$req",T),lt(O,"SID","null"),Z.U=!0,Qr(Z,O,null)):Qr(Z,O,T),this.I=2}}else this.I==3&&(m?Es(this,m):this.i.length==0||df(this.h)||Es(this))};function Es(m,T){var O;T?O=T.l:O=m.V++;const B=Rr(m.J);lt(B,"SID",m.M),lt(B,"RID",O),lt(B,"AID",m.K),Ii(m,B),m.u&&m.o&&zu(B,m.u,m.o),O=new Cr(m,m.j,O,m.D+1),m.u===null&&(O.J=m.o),T&&(m.i=T.G.concat(m.i)),T=Tf(m,O,1e3),O.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Bu(m.h,O),Qr(O,B,T)}function Ii(m,T){m.H&&se(m.H,function(O,B){lt(T,B,O)}),m.l&&se({},function(O,B){lt(T,B,O)})}function Tf(m,T,O){O=Math.min(m.i.length,O);const B=m.l?f(m.l.Ka,m.l,m):null;e:{var Z=m.i;let ze=-1;for(;;){const Qt=["count="+O];ze==-1?O>0?(ze=Z[0].g,Qt.push("ofs="+ze)):ze=0:Qt.push("ofs="+ze);let pt=!0;for(let en=0;en<O;en++){var oe=Z[en].g;const yr=Z[en].map;if(oe-=ze,oe<0)ze=Math.max(0,Z[en].g-100),pt=!1;else try{oe="req"+oe+"_"||"";try{var we=yr instanceof Map?yr:Object.entries(yr);for(const[so,Pi]of we){let Oi=Pi;u(Pi)&&(Oi=Qo(Pi)),Qt.push(oe+so+"="+encodeURIComponent(Oi))}}catch(so){throw Qt.push(oe+"type="+encodeURIComponent("_badmap")),so}}catch{B&&B(yr)}}if(pt){we=Qt.join("&");break e}}we=void 0}return m=m.i.splice(0,O),T.G=m,we}function Dn(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;P||I(),k||(P(),k=!0),S.add(T,m),m.A=0}}function Ai(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Zo(f(m.Da,m),Yu(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,sa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Zo(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),mr(this),sa(this))};function Ts(m){m.B!=null&&(a.clearTimeout(m.B),m.B=null)}function sa(m){m.g=new Cr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Rr(m.na);lt(T,"RID","rpc"),lt(T,"SID",m.M),lt(T,"AID",m.K),lt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&lt(T,"TO",m.ia),lt(T,"TYPE","xmlhttp"),Ii(m,T),m.u&&m.o&&zu(T,m.u,m.o),m.O&&(m.g.H=m.O);var O=m.g;m=m.ba,O.M=1,O.A=no(Rr(T)),O.u=null,O.R=!0,ff(O,m)}t.Va=function(){this.C!=null&&(this.C=null,mr(this),Ai(this),Gt(19))};function Ku(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Qu(m,T){var O=null;if(m.g==T){Ku(m),Ts(m),m.g=null;var B=2}else if(pf(m.h,T))O=T.G,ys(m.h,T),B=1;else return;if(m.I!=0){if(T.o)if(B==1){O=T.u?T.u.length:0,T=Date.now()-T.F;var Z=m.D;B=Jo(),St(B,new lf(B,O)),ao(m)}else Dn(m);else if(Z=T.m,Z==3||Z==0&&T.X>0||!(B==1&&Cp(m,T)||B==2&&Ai(m)))switch(O&&O.length>0&&(T=m.h,T.i=T.i.concat(O)),Z){case 1:gr(m,5);break;case 4:gr(m,10);break;case 3:gr(m,6);break;default:gr(m,2)}}}function Yu(m,T){let O=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(O*=2),O*T}function gr(m,T){if(m.j.info("Error code "+T),T==2){var O=f(m.bb,m),B=m.Ua;const Z=!B;B=new vi(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vs(B,"https"),no(B),Z?xi(B.toString(),O):Ei(B.toString(),O)}else Gt(2);m.I=0,m.l&&m.l.pa(T),Ss(m),Hu(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Ss(m){if(m.I=0,m.ja=[],m.l){const T=hr(m.h);(T.length!=0||m.i.length!=0)&&(E(m.ja,T),E(m.ja,m.i),m.h.i.length=0,v(m.i),m.i.length=0),m.l.oa()}}function Sf(m,T,O){var B=O instanceof vi?Rr(O):new vi(O);if(B.g!="")T&&(B.g=T+"."+B.g),_i(B,B.u);else{var Z=a.location;B=Z.protocol,T=T?T+"."+Z.hostname:Z.hostname,Z=+Z.port;const oe=new vi(null);B&&vs(oe,B),T&&(oe.g=T),Z&&_i(oe,Z),O&&(oe.h=O),B=oe}return O=m.G,T=m.wa,O&&T&&lt(B,O,T),lt(B,"VER",m.ka),Ii(m,B),B}function Rp(m,T,O){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new bt(new ro({ab:O})):new bt(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kp(){}t=kp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xu(){}Xu.prototype.g=function(m,T){return new Pn(m,T)};function Pn(m,T){wt.call(this),this.g=new Wu(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!M(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new ua(this)}p(Pn,wt),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Gu(this.g)},Pn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.v&&(O={},O.__data__=Qo(m),m=O);T.i.push(new Uv(T.Ya++,m)),T.I==3&&ao(T)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,Pn.Z.N.call(this)};function Np(m){Mu.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const O in T){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}p(Np,Mu);function Dp(){uf.call(this),this.status=1}p(Dp,uf);function ua(m){this.g=m}p(ua,kp),ua.prototype.ra=function(){St(this.g,"a")},ua.prototype.qa=function(m){St(this.g,new Np(m))},ua.prototype.pa=function(m){St(this.g,new Dp)},ua.prototype.oa=function(){St(this.g,"b")},Xu.prototype.createWebChannel=Xu.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,gL=function(){return new Xu},mL=function(){return Jo()},pL=Kr,FE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,tg=ta,na.COMPLETE="complete",dL=na,mp.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",wt.prototype.listen=wt.prototype.J,gh=mp,bt.prototype.listenOnce=bt.prototype.K,bt.prototype.getLastError=bt.prototype.Ha,bt.prototype.getLastErrorCode=bt.prototype.ya,bt.prototype.getStatus=bt.prototype.ca,bt.prototype.getResponseJson=bt.prototype.La,bt.prototype.getResponseText=bt.prototype.la,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Fa,hL=bt}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="12.8.0";function zz(t){Fc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new j1("@firebase/firestore");function Ol(){return Wa.logLevel}function Wz(t){Wa.setLogLevel(t)}function he(t,...e){if(Wa.logLevel<=et.DEBUG){const n=e.map(H1);Wa.debug(`Firestore (${Fc}): ${t}`,...n)}}function Xt(t,...e){if(Wa.logLevel<=et.ERROR){const n=e.map(H1);Wa.error(`Firestore (${Fc}): ${t}`,...n)}}function Ar(t,...e){if(Wa.logLevel<=et.WARN){const n=e.map(H1);Wa.warn(`Firestore (${Fc}): ${t}`,...n)}}function H1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yL(t,r,n)}function yL(t,e,n){let r=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xt(r),new Error(r)}function Ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yL(e,i,r)}function Gz(t,e){t||Te(57014,e)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class Hz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Kz{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new vL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class Qz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Yz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Qz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class Jz{getToken(){return Promise.resolve(new BE(""))}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Zz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function UE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return E0(i)===E0(o)?Ue(i,o):E0(i)?1:-1}return Ue(t.length,e.length)}const e8=55296,t8=57343;function E0(t){const e=t.charCodeAt(0);return e>=e8&&e<=t8}function Ql(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function wL(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class Di{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Di.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Di.isNumericId(e),i=Di.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(n)):UE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ba.fromString(e.substring(4,e.length-2))}}class Ye extends Di{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ye(n)}static emptyPath(){return new Ye([])}}const n8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Di{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return n8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Mt([qE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ye.fromString(e))}static fromName(e){return new _e(Ye.fromString(e).popFirst(5))}static empty(){return new _e(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bL(t,e,n,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tC(t){if(!_e.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nC(t){if(_e.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Xe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ly(t);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function EL(t,e){if(e<=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!xL(t))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=-62135596800,iC=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iC);return new dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rC)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iC}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:on("string",dt._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new dt(0,0))}static max(){return new De(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;class Xl{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function zE(t){return t.fields.find((e=>e.kind===2))}function Bs(t){return t.fields.filter((e=>e.kind!==2))}function r8(t,e){let n=Ue(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=i8(t.fields[r],e.fields[r]),n!==0)return n;return Ue(t.fields.length,e.fields.length)}Xl.UNKNOWN_ID=-1;class eu{constructor(e,n){this.fieldPath=e,this.kind=n}}function i8(t,e){const n=Mt.comparator(t.fieldPath,e.fieldPath);return n!==0?n:Ue(t.kind,e.kind)}class Jl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jl(0,Pr.min())}}function TL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new Pr(i,_e.empty(),e)}function SL(t){return new Pr(t.readTime,t.key,Yl)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(De.min(),_e.empty(),Yl)}static max(){return new Pr(De.max(),_e.empty(),Yl)}}function Q1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==IL)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,o=0,a=!1;e.forEach((u=>{++i,u.next((()=>{++o,a&&o===i&&n()}),(c=>r(c)))})),a=!0,o===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((d=>{a[f]=d,++u,u===o&&r(a)}),(d=>i(d)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class $y{static open(e,n,r,i){try{return new $y(n,e.transaction(i,r))}catch(o){throw new Sh(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Sn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Sh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Y1(r.target.error);this.S.reject(new Sh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new a8(n)}}class qi{static delete(e){return he(Tr,"Removing database:",e),Ws(pV().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!xV())return!1;if(qi.F())return!0;const e=dn(),n=qi.M(e),r=0<n&&n<10,i=PL(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,qi.M(dn())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Tr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new Sh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new ce(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ce(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Sh(e,a))},i.onupgradeneeded=o=>{he(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.N.k(a,i.transaction,o.oldVersion,this.version).next((()=>{he(Tr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=$y.open(this.db,e,o?"readonly":"readwrite",r),c=i(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),Y.reject(f)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,f=c.name!=="FirebaseError"&&a<3;if(he(Tr,"Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function PL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class o8{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Ws(this.U.delete())}}class Sh extends ce{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function es(t){return t.name==="IndexedDbTransactionError"}class a8{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(Tr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ws(r)}add(e){return he(Tr,"ADD",this.store.name,e,e),Ws(this.store.add(e))}get(e){return Ws(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(Tr,"GET",this.store.name,e,n),n)))}delete(e){return he(Tr,"DELETE",this.store.name,e),Ws(this.store.delete(e))}count(){return he(Tr,"COUNT",this.store.name),Ws(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new Y(((a,u)=>{o.onerror=c=>{u(c.target.error)},o.onsuccess=c=>{a(c.target.result)}}))}{const o=this.cursor(r),a=[];return this.J(o,((u,c)=>{a.push(c)})).next((()=>a))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}X(e,n){he(Tr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((o,a,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=o=>{const a=Y1(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}J(e,n){const r=[];return new Y(((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void i();const c=new o8(u),f=n(u.primaryKey,u.value,c);if(f instanceof Y){const d=f.catch((p=>(c.done(),Y.reject(p))));r.push(d)}c.isDone?i():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ws(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Y1(r.target.error);n(i)}}))}let oC=!1;function Y1(t){const e=qi.M(dn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oC||(oC=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Ih="IndexBackfiller";class s8{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Ih,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(Ih,`Documents written: ${n}`)}catch(n){es(n)?he(Ih,"Ignoring IndexedDB error during index backfill: ",n):await Za(n)}await this.re(6e4)}))}}class u8{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return Y.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return he(Ih,`Processing collection: ${a}`),this.oe(e,a,i).next((u=>{i-=u,r.add(a)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,o))).next((u=>(he(Ih,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const a=SL(o);Q1(a,r)>0&&(r=a)})),new Pr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ir.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function Ud(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function OL(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="";function zn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aC(e)),e=l8(t.get(n),e);return aC(e)}function l8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case wg:n+="";break;default:n+=o}}return n}function aC(t){return t+wg+""}function Vi(t){const e=t.length;if(Ce(e>=2,64408,{path:t}),e===2)return Ce(t.charAt(0)===wg&&t.charAt(1)==="",56145,{path:t}),Ye.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf(wg,o);switch((a<0||a>n)&&Te(50515,{path:t}),t.charAt(a+1)){case"":const u=t.substring(o,a);let c;i.length===0?c=u:(i+=u,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Te(61167,{path:t})}o=a+2}return new Ye(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="remoteDocuments",qd="owner",_l="owner",qh="mutationQueues",c8="userId",ii="mutations",sC="batchId",Qs="userMutationsIndex",uC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){return[t,zn(e)]}function CL(t,e,n){return[t,zn(e),n]}const f8={},Zl="documentMutations",bg="remoteDocumentsV14",h8=["prefixPath","collectionGroup","readTime","documentId"],rg="documentKeyIndex",d8=["prefixPath","collectionGroup","documentId"],RL="collectionGroupIndex",p8=["collectionGroup","readTime","prefixPath","documentId"],zh="remoteDocumentGlobal",WE="remoteDocumentGlobalKey",ec="targets",kL="queryTargetsIndex",m8=["canonicalId","targetId"],tc="targetDocuments",g8=["targetId","path"],X1="documentTargetsIndex",y8=["path","targetId"],xg="targetGlobalKey",tu="targetGlobal",Wh="collectionParents",v8=["collectionId","parent"],nc="clientMetadata",_8="clientId",Fy="bundles",w8="bundleId",By="namedQueries",b8="name",J1="indexConfiguration",x8="indexId",GE="collectionGroupIndex",E8="collectionGroup",Ah="indexState",T8=["indexId","uid"],NL="sequenceNumberIndex",S8=["uid","sequenceNumber"],Ph="indexEntries",I8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DL="documentKeyIndex",A8=["indexId","uid","orderedDocumentKey"],Uy="documentOverlays",P8=["userId","collectionPath","documentId"],HE="collectionPathOverlayIndex",O8=["userId","collectionPath","largestBatchId"],ML="collectionGroupOverlayIndex",C8=["userId","collectionGroup","largestBatchId"],Z1="globals",R8="name",jL=[qh,ii,Zl,Us,ec,qd,tu,tc,nc,zh,Wh,Fy,By],k8=[...jL,Uy],VL=[qh,ii,Zl,bg,ec,qd,tu,tc,nc,zh,Wh,Fy,By,Uy],LL=VL,eS=[...LL,J1,Ah,Ph],N8=eS,$L=[...eS,Z1],D8=$L;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends AL{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function mn(t,e){const n=be(t);return qi.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FL(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rm(this.root,e,this.comparator,!0)}}class Rm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cC(this.data.getIterator())}getIteratorFrom(e){return new cC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class cC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new or([])}unionWith(e){let n=new yt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UL("Invalid base64 string: "+o):o}})(e);return new zt(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o})(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const j8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=j8.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="server_timestamp",zL="__type__",WL="__previous_value__",GL="__local_write_time__";function qy(t){return(t?.mapValue?.fields||{})[zL]?.stringValue===qL}function zy(t){const e=t.mapValue.fields[WL];return qy(e)?zy(e):e}function Gh(t){const e=ko(t.mapValue.fields[GL].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,r,i,o,a,u,c,f,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d,this.apiKey=p}}const Hh="(default)";class Ga{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}function L8(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",HL="__max__",Ma={mapValue:{fields:{__type__:{stringValue:HL}}}},nS="__vector__",rc="value",ig={nullValue:"NULL_VALUE"};function Ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qy(t)?4:KL(t)?9007199254740991:Wy(t)?10:11:Te(28295,{value:t})}function Hi(t,e){if(t===e)return!0;const n=Ha(t);if(n!==Ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gh(t).isEqual(Gh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=ko(i.timestampValue),u=ko(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return No(i.bytesValue).isEqual(No(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Lt(i.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Lt(i.integerValue)===Lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Lt(i.doubleValue),u=Lt(o.doubleValue);return a===u?Uh(a)===Uh(u):isNaN(a)&&isNaN(u)}return!1})(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(lC(a)!==lC(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!Hi(a[c],u[c])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function Kh(t,e){return(t.values||[]).find((n=>Hi(n,e)))!==void 0}function Ka(t,e){if(t===e)return 0;const n=Ha(t),r=Ha(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(o,a){const u=Lt(o.integerValue||o.doubleValue),c=Lt(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return fC(t.timestampValue,e.timestampValue);case 4:return fC(Gh(t),Gh(e));case 5:return UE(t.stringValue,e.stringValue);case 6:return(function(o,a){const u=No(o),c=No(a);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,a){const u=o.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const d=Ue(u[f],c[f]);if(d!==0)return d}return Ue(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,a){const u=Ue(Lt(o.latitude),Lt(a.latitude));return u!==0?u:Ue(Lt(o.longitude),Lt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hC(t.arrayValue,e.arrayValue);case 10:return(function(o,a){const u=o.fields||{},c=a.fields||{},f=u[rc]?.arrayValue,d=c[rc]?.arrayValue,p=Ue(f?.values?.length||0,d?.values?.length||0);return p!==0?p:hC(f,d)})(t.mapValue,e.mapValue);case 11:return(function(o,a){if(o===Ma.mapValue&&a===Ma.mapValue)return 0;if(o===Ma.mapValue)return 1;if(a===Ma.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=a.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const y=UE(c[p],d[p]);if(y!==0)return y;const v=Ka(u[c[p]],f[d[p]]);if(v!==0)return v}return Ue(c.length,d.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function fC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ko(t),r=ko(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function hC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ka(n[i],r[i]);if(o)return o}return Ue(n.length,r.length)}function ic(t){return QE(t)}function QE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return No(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=QE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${QE(n.fields[a])}`;return i+"}"})(t.mapValue):Te(61005,{value:t})}function og(t){switch(Ha(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zy(t);return e?16+og(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+og(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ts(r.fields,((o,a)=>{i+=o.length+og(a)})),i})(t.mapValue);default:throw Te(13486,{value:t})}}function uu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function YE(t){return!!t&&"integerValue"in t}function Qh(t){return!!t&&"arrayValue"in t}function dC(t){return!!t&&"nullValue"in t}function pC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ag(t){return!!t&&"mapValue"in t}function Wy(t){return(t?.mapValue?.fields||{})[tS]?.stringValue===nS}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function KL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HL}const QL={mapValue:{fields:{[tS]:{stringValue:nS},[rc]:{arrayValue:{}}}}};function $8(t){return"nullValue"in t?ig:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?uu(Ga.empty(),_e.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Wy(t)?QL:{mapValue:{}}:Te(35942,{value:t})}function F8(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?uu(Ga.empty(),_e.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?QL:"mapValue"in t?Wy(t)?{mapValue:{}}:Ma:Te(61959,{value:t})}function mC(t,e){const n=Ka(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function gC(t,e){const n=Ka(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ag(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=Oh(a):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Tn(Oh(this.value))}}function YL(t){const e=[];return ts(t.fields,((n,r)=>{const i=new Mt([n]);if(ag(r)){const o=YL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Dt(e,0,De.min(),De.min(),De.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,De.min(),De.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,De.min(),De.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.position=e,this.inclusive=n}}function yC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(a.referenceValue),n.key):r=Ka(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function B8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{}class tt extends XL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U8(e,n,r):n==="array-contains"?new W8(e,r):n==="in"?new r$(e,r):n==="not-in"?new G8(e,r):n==="array-contains-any"?new H8(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q8(e,r):new z8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ka(n,this.value)):n!==null&&Ha(this.value)===Ha(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends XL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mt(e,n)}matches(e){return oc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oc(t){return t.op==="and"}function XE(t){return t.op==="or"}function rS(t){return JL(t)&&oc(t)}function JL(t){for(const e of t.filters)if(e instanceof mt)return!1;return!0}function JE(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(rS(t))return t.filters.map((e=>JE(e))).join(",");{const e=t.filters.map((n=>JE(n))).join(",");return`${t.op}(${e})`}}function ZL(t,e){return t instanceof tt?(function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)})(t,e):t instanceof mt?(function(r,i){return i instanceof mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,a,u)=>o&&ZL(a,i.filters[u])),!0):!1})(t,e):void Te(19439)}function e$(t,e){const n=t.filters.concat(e);return mt.create(n,t.op)}function t$(t){return t instanceof tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`})(t):t instanceof mt?(function(n){return n.op.toString()+" {"+n.getFilters().map(t$).join(" ,")+"}"})(t):"Filter"}class U8 extends tt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class q8 extends tt{constructor(e,n){super(e,"in",n),this.keys=n$("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class z8 extends tt{constructor(e,n){super(e,"not-in",n),this.keys=n$("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function n$(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class W8 extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qh(n)&&Kh(n.arrayValue,this.value)}}class r$ extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kh(this.value.arrayValue,n)}}class G8 extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kh(this.value.arrayValue,n)}}class H8 extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.Te=null}}function ZE(t,e=null,n=[],r=[],i=null,o=null,a=null){return new K8(t,e,n,r,i,o,a)}function lu(t){const e=be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>JE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ic(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ic(r))).join(",")),e.Te=n}return e.Te}function zd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vC(t.startAt,e.startAt)&&vC(t.endAt,e.endAt)}function Eg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Tg(t,e){return t.filters.filter((n=>n instanceof tt&&n.field.isEqual(e)))}function _C(t,e,n){let r=ig,i=!0;for(const o of Tg(t,e)){let a=ig,u=!0;switch(o.op){case"<":case"<=":a=$8(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,u=!1;break;case"!=":case"not-in":a=ig}mC({value:r,inclusive:i},{value:a,inclusive:u})<0&&(r=a,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];mC({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function wC(t,e,n){let r=Ma,i=!0;for(const o of Tg(t,e)){let a=Ma,u=!0;switch(o.op){case">=":case">":a=F8(o.value),u=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,u=!1;break;case"!=":case"not-in":a=Ma}gC({value:r,inclusive:i},{value:a,inclusive:u})>0&&(r=a,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];gC({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function i$(t,e,n,r,i,o,a,u){return new Uo(t,e,n,r,i,o,a,u)}function Bc(t){return new Uo(t)}function bC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Q8(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function iS(t){return t.collectionGroup!==null}function Fl(t){const e=be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new yt(Mt.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Yh(o,r))})),n.has(Mt.keyField().canonicalString())||e.Ie.push(new Yh(Mt.keyField(),r))}return e.Ie}function Wn(t){const e=be(t);return e.Ee||(e.Ee=a$(e,Fl(t))),e.Ee}function o$(t){const e=be(t);return e.Re||(e.Re=a$(e,t.explicitOrderBy)),e.Re}function a$(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Yh(i.field,o)}));const n=t.endAt?new Qa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qa(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eT(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Y8(t,e){const n=t.explicitOrderBy.concat([e]);return new Uo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function X8(t,e){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function J8(t,e){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function Wd(t,e){return zd(Wn(t),Wn(e))&&t.limitType===e.limitType}function s$(t){return`${lu(Wn(t))}|lt:${t.limitType}`}function Cl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>t$(i))).join(", ")}]`),Ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ic(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ic(i))).join(",")),`Target(${r})`})(Wn(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Fl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,u,c){const f=yC(a,u,c);return a.inclusive?f<=0:f<0})(r.startAt,Fl(r),i)||r.endAt&&!(function(a,u,c){const f=yC(a,u,c);return a.inclusive?f>=0:f>0})(r.endAt,Fl(r),i))})(t,e)}function u$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l$(t){return(e,n)=>{let r=!1;for(const i of Fl(t)){const o=Z8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z8(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(o,a,u){const c=a.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Ka(c,f):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return BL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=new Pt(_e.comparator);function ar(){return eW}const c$=new Pt(_e.comparator);function yh(...t){let e=c$;for(const n of t)e=e.insert(n.key,n);return e}function f$(t){let e=c$;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Li(){return Ch()}function h$(){return Ch()}function Ch(){return new qo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tW=new Pt(_e.comparator),nW=new yt(_e.comparator);function We(...t){let e=nW;for(const n of t)e=e.add(n);return e}const rW=new yt(Ue);function oS(){return rW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function d$(t){return{integerValue:""+t}}function p$(t,e){return OL(e)?d$(e):aS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this._=void 0}}function iW(t,e,n){return t instanceof ac?(function(i,o){const a={fields:{[zL]:{stringValue:qL},[GL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qy(o)&&(o=zy(o)),o&&(a.fields[WL]=o),{mapValue:a}})(n,e):t instanceof cu?g$(t,e):t instanceof fu?y$(t,e):(function(i,o){const a=m$(i,o),u=xC(a)+xC(i.Ae);return YE(a)&&YE(i.Ae)?d$(u):aS(i.serializer,u)})(t,e)}function oW(t,e,n){return t instanceof cu?g$(t,e):t instanceof fu?y$(t,e):n}function m$(t,e){return t instanceof sc?(function(r){return YE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ac extends Gy{}class cu extends Gy{constructor(e){super(),this.elements=e}}function g$(t,e){const n=v$(e);for(const r of t.elements)n.some((i=>Hi(i,r)))||n.push(r);return{arrayValue:{values:n}}}class fu extends Gy{constructor(e){super(),this.elements=e}}function y$(t,e){let n=v$(e);for(const r of t.elements)n=n.filter((i=>!Hi(i,r)));return{arrayValue:{values:n}}}class sc extends Gy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xC(t){return Lt(t.integerValue||t.doubleValue)}function v$(t){return Qh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.field=e,this.transform=n}}function aW(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof cu&&i instanceof cu||r instanceof fu&&i instanceof fu?Ql(r.elements,i.elements,Hi):r instanceof sc&&i instanceof sc?Hi(r.Ae,i.Ae):r instanceof ac&&i instanceof ac})(t.transform,e.transform)}class sW{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hy{}function _$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qc(t.key,$t.none()):new Uc(t.key,t.data,$t.none());{const n=t.data,r=Tn.empty();let i=new yt(Mt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new zo(t.key,r,new or(i.toArray()),$t.none())}}function uW(t,e,n){t instanceof Uc?(function(i,o,a){const u=i.value.clone(),c=TC(i.fieldTransforms,o,a.transformResults);u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):t instanceof zo?(function(i,o,a){if(!sg(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=TC(i.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(w$(i)),c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Rh(t,e,n,r){return t instanceof Uc?(function(o,a,u,c){if(!sg(o.precondition,a))return u;const f=o.value.clone(),d=SC(o.fieldTransforms,c,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof zo?(function(o,a,u,c){if(!sg(o.precondition,a))return u;const f=SC(o.fieldTransforms,c,a),d=a.data;return d.setAll(w$(o)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,a,u){return sg(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u})(t,e,n)}function lW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=m$(r.transform,i||null);o!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,o))}return n||null}function EC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ql(r,i,((o,a)=>aW(o,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Hy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zo extends Hy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function w$(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function TC(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,oW(a,u,n[i]))}return r}function SC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,iW(o,a,e))}return r}class qc extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sS extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&uW(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=h$();return this.mutations.forEach((i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const c=_$(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,((n,r)=>EC(n,r)))&&Ql(this.baseMutations,e.baseMutations,((n,r)=>EC(n,r)))}}class lS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return tW})();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new lS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,it;function x$(t){switch(t){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function E$(t){if(t===void 0)return Xt("GRPC error has no .code"),ee.UNKNOWN;switch(t){case nn.OK:return ee.OK;case nn.CANCELLED:return ee.CANCELLED;case nn.UNKNOWN:return ee.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ee.INTERNAL;case nn.UNAVAILABLE:return ee.UNAVAILABLE;case nn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case nn.NOT_FOUND:return ee.NOT_FOUND;case nn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case nn.ABORTED:return ee.ABORTED;case nn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case nn.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:t})}}(it=nn||(nn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tT=null;function fW(t){if(tT)throw new Error("a TestingHooksSpi instance is already set");tT=t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=new Ba([4294967295,4294967295],0);function IC(t){const e=T$().encode(t),n=new fL;return n.update(e),new Uint8Array(n.digest())}function AC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ba([n,r],0),new Ba([i,o],0)]}class fS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(r<0)throw new vh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ba.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ba.fromNumber(r)));return i.compare(hW)===1&&(i=new Ba([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IC(e),[r,i]=AC(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new fS(o,i,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=IC(e),[r,i]=AC(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kd(De.min(),i,new Pt(Ue),ar(),We())}}class Qd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qd(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class S${constructor(e,n){this.targetId=e,this.Ce=n}}class I${constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PC{constructor(){this.ve=0,this.Fe=OC(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:o})}})),new Qd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=OC()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dW{constructor(e){this.Ge=e,this.ze=new Map,this.je=ar(),this.He=km(),this.Je=km(),this.Ze=new Pt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Eg(o))if(r===0){const a=new _e(o.path);this.et(n,a,Dt.newNoDocument(a,De.min()))}else Ce(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),c=u?this.ct(u,e,a):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}tT?.lt((function(d,p,y,v,E){const b={localCacheCount:d,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},w=p.unchangedNames;return w&&(b.bloomFilter={applied:E===0,hashCount:w?.hashCount??0,bitmapLength:w?.bits?.bitmap?.length??0,padding:w?.bits?.padding??0,mightContain:A=>v?.mightContain(A)??!1}),b})(a,e.Ce,this.Ge.ht(),u,c))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=No(r).toUint8Array()}catch(c){if(c instanceof UL)return Ar("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new fS(a,i,o)}catch(c){return Ar(c instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,a)=>{const u=this.ot(a);if(u){if(o.current&&Eg(u.target)){const c=new _e(u.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Dt.newNoDocument(c,e))}o.Be&&(n.set(a,o.ke()),o.Ke())}}));let r=We();this.Je.forEach(((o,a)=>{let u=!0;a.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,a)=>a.setReadTime(e)));const i=new Kd(e,n,this.Ze,this.je,r);return this.je=ar(),this.He=km(),this.Je=km(),this.Ze=new Pt(Ue),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new PC,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new yt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new yt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function km(){return new Pt(_e.comparator)}function OC(){return new Pt(_e.comparator)}const pW={asc:"ASCENDING",desc:"DESCENDING"},mW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gW={and:"AND",or:"OR"};class yW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nT(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function uc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vW(t,e){return uc(t,e.toTimestamp())}function Zt(t){return Ce(!!t,49232),De.fromTimestamp((function(n){const r=ko(n);return new dt(r.seconds,r.nanos)})(t))}function hS(t,e){return rT(t,e).canonicalString()}function rT(t,e){const n=(function(i){return new Ye(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function P$(t){const e=Ye.fromString(t);return Ce(V$(e),10190,{key:e.toString()}),e}function Xh(t,e){return hS(t.databaseId,e.path)}function zi(t,e){const n=P$(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(R$(n))}function O$(t,e){return hS(t.databaseId,e)}function C$(t){const e=P$(t);return e.length===4?Ye.emptyPath():R$(e)}function iT(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R$(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CC(t,e,n){return{name:Xh(t,e),fields:n.value.mapValue.fields}}function Ky(t,e,n){const r=zi(t,e.name),i=Zt(e.updateTime),o=e.createTime?Zt(e.createTime):De.min(),a=new Tn({mapValue:{fields:e.fields}}),u=Dt.newFoundDocument(r,i,o,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function _W(t,e){return"found"in e?(function(r,i){Ce(!!i.found,43571),i.found.name,i.found.updateTime;const o=zi(r,i.found.name),a=Zt(i.found.updateTime),u=i.found.createTime?Zt(i.found.createTime):De.min(),c=new Tn({mapValue:{fields:i.found.fields}});return Dt.newFoundDocument(o,a,u,c)})(t,e):"missing"in e?(function(r,i){Ce(!!i.missing,3894),Ce(!!i.readTime,22933);const o=zi(r,i.missing),a=Zt(i.readTime);return Dt.newNoDocument(o,a)})(t,e):Te(7234,{result:e})}function wW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Te(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,d){return f.useProto3Json?(Ce(d===void 0||typeof d=="string",58123),zt.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),zt.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(f){const d=f.code===void 0?ee.UNKNOWN:E$(f.code);return new ce(d,f.message||"")})(a);n=new I$(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zi(t,r.document.name),o=Zt(r.document.updateTime),a=r.document.createTime?Zt(r.document.createTime):De.min(),u=new Tn({mapValue:{fields:r.document.fields}}),c=Dt.newFoundDocument(i,o,a,u),f=r.targetIds||[],d=r.removedTargetIds||[];n=new ug(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zi(t,r.document),o=r.readTime?Zt(r.readTime):De.min(),a=Dt.newNoDocument(i,o),u=r.removedTargetIds||[];n=new ug([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zi(t,r.document),o=r.removedTargetIds||[];n=new ug([],o,i,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new cW(i,o),u=r.targetId;n=new S$(u,a)}}return n}function Jh(t,e){let n;if(e instanceof Uc)n={update:CC(t,e.key,e.value)};else if(e instanceof qc)n={delete:Xh(t,e.key)};else if(e instanceof zo)n={update:CC(t,e.key,e.data),updateMask:IW(e.fieldMask)};else{if(!(e instanceof sS))return Te(16599,{dt:e.type});n={verify:Xh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,a){const u=a.transform;if(u instanceof ac)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sc)return{fieldPath:a.field.canonicalString(),increment:u.Ae};throw Te(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:vW(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(t,e.precondition)),n}function oT(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?$t.updateTime(Zt(o.updateTime)):o.exists!==void 0?$t.exists(o.exists):$t.none()})(e.currentDocument):$t.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,u){let c=null;if("setToServerValue"in u)Ce(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),c=new ac;else if("appendMissingElements"in u){const d=u.appendMissingElements.values||[];c=new cu(d)}else if("removeAllFromArray"in u){const d=u.removeAllFromArray.values||[];c=new fu(d)}else"increment"in u?c=new sc(a,u.increment):Te(16584,{proto:u});const f=Mt.fromServerFormat(u.fieldPath);return new Hd(f,c)})(t,i))):[];if(e.update){e.update.name;const i=zi(t,e.update.name),o=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const f=c.fieldPaths||[];return new or(f.map((d=>Mt.fromServerFormat(d))))})(e.updateMask);return new zo(i,o,a,n,r)}return new Uc(i,o,n,r)}if(e.delete){const i=zi(t,e.delete);return new qc(i,n)}if(e.verify){const i=zi(t,e.verify);return new sS(i,n)}return Te(1463,{proto:e})}function bW(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map((n=>(function(i,o){let a=i.updateTime?Zt(i.updateTime):Zt(o);return a.isEqual(De.min())&&(a=Zt(o)),new sW(a,i.transformResults||[])})(n,e)))):[]}function k$(t,e){return{documents:[O$(t,e.path)]}}function Qy(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O$(t,i);const o=(function(f){if(f.length!==0)return j$(mt.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const a=(function(f){if(f.length!==0)return f.map((d=>(function(y){return{field:ka(y.field),direction:EW(y.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=nT(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function N$(t,e,n,r){const{ft:i,parent:o}=Qy(t,e),a={},u=[];let c=0;return n.forEach((f=>{const d=r?f.alias:"aggregate_"+c++;a[d]=f.alias,f.aggregateType==="count"?u.push({alias:d,count:{}}):f.aggregateType==="avg"?u.push({alias:d,avg:{field:ka(f.fieldPath)}}):f.aggregateType==="sum"&&u.push({alias:d,sum:{field:ka(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:o}}function D$(t){let e=C$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=(function(p){const y=M$(p);return y instanceof mt&&rS(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((y=>(function(E){return new Yh(Rl(E.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let y;return y=typeof p=="object"?p.value:p,Ud(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(p){const y=!!p.before,v=p.values||[];return new Qa(v,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,v=p.values||[];return new Qa(v,y)})(n.endAt)),i$(e,i,a,o,u,"F",c,f)}function xW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M$(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rl(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Rl(n.unaryFilter.field);return tt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tt.create(Rl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return mt.create(n.compositeFilter.filters.map((r=>M$(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function EW(t){return pW[t]}function TW(t){return mW[t]}function SW(t){return gW[t]}function ka(t){return{fieldPath:t.canonicalString()}}function Rl(t){return Mt.fromServerFormat(t.fieldPath)}function j$(t){return t instanceof tt?(function(n){if(n.op==="=="){if(pC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(dC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(dC(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:TW(n.op),value:n.value}}})(t):t instanceof mt?(function(n){const r=n.getFilters().map((i=>j$(i)));return r.length===1?r[0]:{compositeFilter:{op:SW(n.op),filters:r}}})(t):Te(54877,{filter:t})}function IW(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function V$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function L$(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r,i,o=De.min(),a=De.min(),u=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.yt=e}}function AW(t,e){let n;if(e.document)n=Ky(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=du(e.noDocument.readTime);n=Dt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te(56709);{const r=_e.fromSegments(e.unknownDocument.path),i=du(e.unknownDocument.version);n=Dt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new dt(i[0],i[1]);return De.fromTimestamp(o)})(e.readTime)),n}function RC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ig(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,a){return{name:Xh(o,a.key),fields:a.data.value.mapValue.fields,updateTime:uc(o,a.version.toTimestamp()),createTime:uc(o,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hu(e.version)};else{if(!e.isUnknownDocument())return Te(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:hu(e.version)}}return r}function Ig(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function du(t){const e=new dt(t.seconds,t.nanoseconds);return De.fromTimestamp(e)}function Gs(t,e){const n=(e.baseMutations||[]).map((o=>oT(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>oT(t.yt,o))),i=dt.fromMillis(e.localWriteTimeMs);return new uS(e.batchId,i,n,r)}function _h(t){const e=du(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?du(t.lastLimboFreeSnapshotVersion):De.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const a=o.documents.length;return Ce(a===1,1966,{count:a}),Wn(Bc(C$(o.documents[0])))})(t.query):(function(o){return Wn(D$(o))})(t.query),new wo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zt.fromBase64String(t.resumeToken))}function F$(t,e){const n=hu(e.snapshotVersion),r=hu(e.lastLimboFreeSnapshotVersion);let i;i=Eg(e.target)?k$(t.yt,e.target):Qy(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Yy(t){const e=D$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}function T0(t,e){return new cS(e.largestBatchId,oT(t.yt,e.overlayMutation))}function kC(t,e){const n=e.path.lastSegment();return[t,zn(e.path.popLast()),n]}function NC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:hu(r.readTime),documentKey:zn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{getBundleMetadata(e,n){return DC(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:du(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return DC(e).put((function(i){return{bundleId:i.id,createTime:hu(Zt(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return MC(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:Yy(o.bundledQuery),readTime:du(o.readTime)}})(r)}))}saveNamedQuery(e,n){return MC(e).put((function(i){return{name:i.name,readTime:hu(Zt(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function DC(t){return mn(t,Fy)}function MC(t){return mn(t,By)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Xy(e,r)}getOverlay(e,n){return Jf(e).get(kC(this.userId,n)).next((r=>r?T0(this.serializer,r):null))}getOverlays(e,n){const r=Li();return Y.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,a)=>{const u=new cS(n,a);i.push(this.bt(e,u))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(zn(a.getCollectionPath()))));const o=[];return i.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(Jf(e).X(HE,u))})),Y.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Li(),o=zn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Jf(e).H(HE,a).next((u=>{for(const c of u){const f=T0(this.serializer,c);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=Li();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Jf(e).ee({index:ML,range:u},((c,f,d)=>{const p=T0(this.serializer,f);o.size()<i||p.largestBatchId===a?(o.set(p.getKey(),p),a=p.largestBatchId):d.done()})).next((()=>o))}bt(e,n){return Jf(e).put((function(i,o,a){const[u,c,f]=kC(o,a.mutation.key);return{userId:o,collectionPath:c,documentId:f,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Jh(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Jf(t){return mn(t,Uy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{St(e){return mn(e,Z1)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Lt(e.integerValue));else if("doubleValue"in e){const r=Lt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Uh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ko(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(No(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?KL(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Wy(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Te(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=rc,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Lt(o)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),_e.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Hs.Wt=new Hs;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=255;function CW(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function jC(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const a=CW(255&r[o]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class RW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=jC(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=jC(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(bl),this.sn(255)}_n(){this.an(bl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===bl?(this.sn(bl),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===bl?(this.an(bl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kW{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class NW{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Zf{constructor(){this.cn=new RW,this.ascending=new kW(this.cn),this.descending=new NW(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new Ks(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:lg(this.Tn),directionalValue:lg(this.In),orderedDocumentKey:lg(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Ta(t,e){let n=t.hn-e.hn;return n!==0?n:(n=VC(t.Tn,e.Tn),n!==0?n:(n=VC(t.In,e.In),n!==0?n:_e.comparator(t.Pn,e.Pn)))}function VC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function lg(t){return bV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function LC(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class $C{constructor(e){this.Vn=new yt(((n,r)=>Mt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ce(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=zE(e);if(n!==void 0&&!this.pn(n))return!1;const r=Bs(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.pn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const u=this.Vn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const c=r[o];if(!this.yn(u,c)||!this.wn(this.dn[a++],c))return!1}++o}for(;o<r.length;++o){const u=r[o];if(a>=this.dn.length||!this.wn(this.dn[a++],u))return!1}return!0}bn(){if(this.fn)return null;let e=new yt(Mt.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new eu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new eu(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new eu(r.field,r.dir==="asc"?0:1)));return new Xl(Xl.UNKNOWN_ID,this.collectionId,n,Jl.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){if(Ce(t instanceof tt||t instanceof mt,20012),t instanceof tt){if(t instanceof r$){const n=t.value.arrayValue?.values?.map((r=>tt.create(t.field,"==",r)))||[];return mt.create(n,"or")}return t}const e=t.filters.map((n=>B$(n)));return mt.create(e,t.op)}function DW(t){if(t.getFilters().length===0)return[];const e=uT(B$(t));return Ce(U$(e),7391),aT(e)||sT(e)?[e]:e.getFilters()}function aT(t){return t instanceof tt}function sT(t){return t instanceof mt&&rS(t)}function U$(t){return aT(t)||sT(t)||(function(n){if(n instanceof mt&&XE(n)){for(const r of n.getFilters())if(!aT(r)&&!sT(r))return!1;return!0}return!1})(t)}function uT(t){if(Ce(t instanceof tt||t instanceof mt,34018),t instanceof tt)return t;if(t.filters.length===1)return uT(t.filters[0]);const e=t.filters.map((r=>uT(r)));let n=mt.create(e,t.op);return n=Ag(n),U$(n)?n:(Ce(n instanceof mt,64498),Ce(oc(n),40251),Ce(n.filters.length>1,57927),n.filters.reduce(((r,i)=>dS(r,i))))}function dS(t,e){let n;return Ce(t instanceof tt||t instanceof mt,38388),Ce(e instanceof tt||e instanceof mt,25473),n=t instanceof tt?e instanceof tt?(function(i,o){return mt.create([i,o],"and")})(t,e):FC(t,e):e instanceof tt?FC(e,t):(function(i,o){if(Ce(i.filters.length>0&&o.filters.length>0,48005),oc(i)&&oc(o))return e$(i,o.getFilters());const a=XE(i)?i:o,u=XE(i)?o:i,c=a.filters.map((f=>dS(f,u)));return mt.create(c,"or")})(t,e),Ag(n)}function FC(t,e){if(oc(e))return e$(e,t.getFilters());{const n=e.filters.map((r=>dS(t,r)));return mt.create(n,"or")}}function Ag(t){if(Ce(t instanceof tt||t instanceof mt,11850),t instanceof tt)return t;const e=t.getFilters();if(e.length===1)return Ag(e[0]);if(JL(t))return t;const n=e.map((i=>Ag(i))),r=[];return n.forEach((i=>{i instanceof tt?r.push(i):i instanceof mt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:mt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(){this.Sn=new pS}addToCollectionParentIndex(e,n){return this.Sn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Pr.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class pS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="IndexedDbIndexManager",Nm=new Uint8Array(0);class jW{constructor(e,n){this.databaseId=n,this.Dn=new pS,this.Cn=new qo((r=>lu(r)),((r,i)=>zd(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const o={collectionId:r,parent:zn(i)};return UC(e).put(o)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[wL(n),""],!1,!0);return UC(e).H(i).next((o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Vi(a.parent))}return r}))}addFieldIndex(e,n){const r=eh(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=El(e);return o.next((u=>{a.put(NC(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=eh(e),i=El(e),o=xl(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=eh(e),r=xl(e),i=El(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return Y.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new $C(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=xl(e);let i=!0;const o=new Map;return Y.forEach(this.vn(n),(a=>this.Fn(e,a).next((u=>{i&&(i=!!u),o.set(a,u)})))).next((()=>{if(i){let a=We();const u=[];return Y.forEach(o,((c,f)=>{he(BC,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(($=>`${$.fieldPath}:${$.kind}`)).join(",")}`})(c)} to execute ${lu(n)}`);const d=(function(R,$){const P=zE($);if(P===void 0)return null;for(const k of Tg(R,P.fieldPath))switch(k.op){case"array-contains-any":return k.value.arrayValue.values||[];case"array-contains":return[k.value]}return null})(f,c),p=(function(R,$){const P=new Map;for(const k of Bs($))for(const S of Tg(R,k.fieldPath))switch(S.op){case"==":case"in":P.set(k.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return P.set(k.fieldPath.canonicalString(),S.value),Array.from(P.values())}return null})(f,c),y=(function(R,$){const P=[];let k=!0;for(const S of Bs($)){const I=S.kind===0?_C(R,S.fieldPath,R.startAt):wC(R,S.fieldPath,R.startAt);P.push(I.value),k&&(k=I.inclusive)}return new Qa(P,k)})(f,c),v=(function(R,$){const P=[];let k=!0;for(const S of Bs($)){const I=S.kind===0?wC(R,S.fieldPath,R.endAt):_C(R,S.fieldPath,R.endAt);P.push(I.value),k&&(k=I.inclusive)}return new Qa(P,k)})(f,c),E=this.Mn(c,f,y),b=this.Mn(c,f,v),w=this.xn(c,f,p),A=this.On(c.indexId,d,E,y.inclusive,b,v.inclusive,w);return Y.forEach(A,(C=>r.Z(C,n.limit).next((R=>{R.forEach(($=>{const P=_e.fromSegments($.documentKey);a.has(P)||(a=a.add(P),u.push(P))}))}))))})).next((()=>u))}return Y.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=DW(mt.create(e.filters,"and")).map((r=>ZE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,o,a,u){const c=(n!=null?n.length:1)*Math.max(r.length,o.length),f=c/(n!=null?n.length:1),d=[];for(let p=0;p<c;++p){const y=n?this.Nn(n[p/f]):Nm,v=this.Bn(e,y,r[p%f],i),E=this.Ln(e,y,o[p%f],a),b=u.map((w=>this.Bn(e,y,w,!0)));d.push(...this.createRange(v,E,b))}return d}Bn(e,n,r,i){const o=new Ks(e,_e.empty(),n,r);return i?o:o.En()}Ln(e,n,r,i){const o=new Ks(e,_e.empty(),n,r);return i?o.En():o}Fn(e,n){const r=new $C(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let a=null;for(const u of o)r.gn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,n){let r=2;const i=this.vn(n);return Y.forEach(i,(o=>this.Fn(e,o).next((a=>{a?r!==0&&a.fields.length<(function(c){let f=new yt(Mt.comparator),d=!1;for(const p of c.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?d=!0:f=f.add(y.field));for(const p of c.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(d?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new Zf;for(const i of Bs(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.ln(i.kind);Hs.Wt.Dt(o,a)}return r.un()}Nn(e){const n=new Zf;return Hs.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new Zf;return Hs.Wt.Dt(uu(this.databaseId,n),r.ln((function(o){const a=Bs(o);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new Zf);let o=0;for(const a of Bs(e)){const u=r[o++];for(const c of i)if(this.qn(n,a.fieldPath)&&Qh(u))i=this.Un(i,a,u);else{const f=c.ln(a.kind);Hs.Wt.Dt(u,f)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const u of i){const c=new Zf;c.seed(u.un()),Hs.Wt.Dt(a,c.ln(n.kind)),o.push(c)}return o}qn(e,n){return!!e.filters.find((r=>r instanceof tt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=eh(e),i=El(e);return(n?r.H(GE,IDBKeyRange.bound(n,n)):r.H()).next((o=>{const a=[];return Y.forEach(o,(u=>i.get([u.indexId,this.uid]).next((c=>{a.push((function(d,p){const y=p?new Jl(p.sequenceNumber,new Pr(du(p.readTime),new _e(Vi(p.documentKey)),p.largestBatchId)):Jl.empty(),v=d.fields.map((([E,b])=>new eu(Mt.fromServerFormat(E),b)));return new Xl(d.indexId,d.collectionGroup,v,y)})(u,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ue(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=eh(e),o=El(e);return this.Wn(e).next((a=>i.H(GE,IDBKeyRange.bound(n,n)).next((u=>Y.forEach(u,(c=>o.put(NC(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,o)=>{const a=r.get(i.collectionGroup);return(a?Y.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Y.forEach(u,(c=>this.Qn(e,i,c).next((f=>{const d=this.Gn(o,c);return f.isEqual(d)?Y.resolve():this.zn(e,o,c,f,d)})))))))}))}jn(e,n,r,i){return xl(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return xl(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=xl(e);let o=new yt(Ta);return i.ee({index:DL,range:IDBKeyRange.only([r.indexId,this.uid,lg(this.Kn(r,n))])},((a,u)=>{o=o.add(new Ks(r.indexId,n,LC(u.arrayValue),LC(u.directionalValue)))})).next((()=>o))}Gn(e,n){let r=new yt(Ta);const i=this.kn(n,e);if(i==null)return r;const o=zE(n);if(o!=null){const a=e.data.field(o.fieldPath);if(Qh(a))for(const u of a.arrayValue.values||[])r=r.add(new Ks(n.indexId,e.key,this.Nn(u),i))}else r=r.add(new Ks(n.indexId,e.key,Nm,i));return r}zn(e,n,r,i,o){he(BC,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,f,d,p,y){const v=c.getIterator(),E=f.getIterator();let b=wl(v),w=wl(E);for(;b||w;){let A=!1,C=!1;if(b&&w){const R=d(b,w);R<0?C=!0:R>0&&(A=!0)}else b!=null?C=!0:A=!0;A?(p(w),w=wl(E)):C?(y(b),b=wl(v)):(b=wl(v),w=wl(E))}})(i,o,Ta,(u=>{a.push(this.jn(e,n,r,u))}),(u=>{a.push(this.Hn(e,n,r,u))})),Y.waitFor(a)}Wn(e){let n=1;return El(e).ee({index:NL,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,u)=>Ta(a,u))).filter(((a,u,c)=>!u||Ta(a,c[u-1])!==0));const i=[];i.push(e);for(const a of r){const u=Ta(a,e),c=Ta(a,n);if(u===0)i[0]=e.En();else if(u>0&&c<0)i.push(a),i.push(a.En());else if(c>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Jn(i[a],i[a+1]))return[];const u=i[a].An(this.uid,Nm,_e.empty()),c=i[a+1].An(this.uid,Nm,_e.empty());o.push(IDBKeyRange.bound(u,c))}return o}Jn(e,n){return Ta(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qC)}getMinOffset(e,n){return Y.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Te(44426))))).next(qC)}}function UC(t){return mn(t,Wh)}function xl(t){return mn(t,Ph)}function eh(t){return mn(t,J1)}function El(t){return mn(t,Ah)}function qC(t){Ce(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Q1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q$=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e,n){const r=t.store(ii),i=t.store(Zl),o=[],a=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:a},((d,p,y)=>(u++,y.delete())));o.push(c.next((()=>{Ce(u===1,47070,{batchId:n.batchId})})));const f=[];for(const d of n.mutations){const p=CL(e,d.key.path,n.batchId);o.push(i.delete(p)),f.push(d.key)}return Y.waitFor(o).next((()=>f))}function Pg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(q$,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Jy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Ce(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Jy(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sa(e).ee({index:Qs,range:r},((i,o,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=kl(e),a=Sa(e);return a.add({}).next((u=>{Ce(typeof u=="number",49019);const c=new uS(u,n,r,i),f=(function(v,E,b){const w=b.baseMutations.map((C=>Jh(v.yt,C))),A=b.mutations.map((C=>Jh(v.yt,C)));return{userId:E,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:w,mutations:A}})(this.serializer,this.userId,c),d=[];let p=new yt(((y,v)=>Ue(y.canonicalString(),v.canonicalString())));for(const y of i){const v=CL(this.userId,y.key.path,u);p=p.add(y.key.path.popLast()),d.push(a.put(f)),d.push(o.put(v,f8))}return p.forEach((y=>{d.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Zn[u]=c.keys()})),Y.waitFor(d).next((()=>c))}))}lookupMutationBatch(e,n){return Sa(e).get(n).next((r=>r?(Ce(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Gs(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?Y.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Sa(e).ee({index:Qs,range:i},((a,u,c)=>{u.userId===this.userId&&(Ce(u.batchId>=r,47524,{Yn:r}),o=Gs(this.serializer,u)),c.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ua;return Sa(e).ee({index:Qs,range:n,reverse:!0},((i,o,a)=>{r=o.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ua],[this.userId,Number.POSITIVE_INFINITY]);return Sa(e).H(Qs,n).next((r=>r.map((i=>Gs(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ng(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return kl(e).ee({range:i},((a,u,c)=>{const[f,d,p]=a,y=Vi(d);if(f===this.userId&&n.path.isEqual(y))return Sa(e).get(p).next((v=>{if(!v)throw Te(61480,{er:a,batchId:p});Ce(v.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:v.userId,batchId:p}),o.push(Gs(this.serializer,v))}));c.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Ue);const i=[];return n.forEach((o=>{const a=ng(this.userId,o.path),u=IDBKeyRange.lowerBound(a),c=kl(e).ee({range:u},((f,d,p)=>{const[y,v,E]=f,b=Vi(v);y===this.userId&&o.path.isEqual(b)?r=r.add(E):p.done()}));i.push(c)})),Y.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=ng(this.userId,r),a=IDBKeyRange.lowerBound(o);let u=new yt(Ue);return kl(e).ee({range:a},((c,f,d)=>{const[p,y,v]=c,E=Vi(y);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(u=u.add(v)):d.done()})).next((()=>this.tr(e,u)))}tr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(Sa(e).get(o).next((a=>{if(a===null)throw Te(35274,{batchId:o});Ce(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:o}),r.push(Gs(this.serializer,a))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return z$(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return kl(e).ee({range:r},((o,a,u)=>{if(o[0]===this.userId){const c=Vi(o[1]);i.push(c)}else u.done()})).next((()=>{Ce(i.length===0,56720,{rr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return W$(e,this.userId,n)}ir(e){return G$(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ua,lastStreamToken:""}))}}function W$(t,e,n){const r=ng(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return kl(t).ee({range:o,Y:!0},((u,c,f)=>{const[d,p,y]=u;d===e&&p===i&&(a=!0),f.done()})).next((()=>a))}function Sa(t){return mn(t,ii)}function kl(t){return mn(t,Zl)}function G$(t){return mn(t,qh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pu(0)}static ar(){return new pu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new pu(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>De.fromTimestamp(new dt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Tl(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(Ce(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return Tl(e).ee(((a,u)=>{const c=_h(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))})).next((()=>Y.waitFor(o))).next((()=>i))}forEachTarget(e,n){return Tl(e).ee(((r,i)=>{const o=_h(i);n(o)}))}ur(e){return WC(e).get(xg).next((n=>(Ce(n!==null,2888),n)))}cr(e,n){return WC(e).put(xg,n)}lr(e,n){return Tl(e).put(F$(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=lu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Tl(e).ee({range:i,index:kL},((a,u,c)=>{const f=_h(u);zd(n,f.target)&&(o=f,c.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=Na(e);return n.forEach((a=>{const u=zn(a.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,a))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=Na(e);return Y.forEach(n,(o=>{const a=zn(o.path);return Y.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=Na(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Na(e);let o=We();return i.ee({range:r,Y:!0},((a,u,c)=>{const f=Vi(a[1]),d=new _e(f);o=o.add(d)})).next((()=>o))}containsKey(e,n){const r=zn(n.path),i=IDBKeyRange.bound([r],[wL(r)],!1,!0);let o=0;return Na(e).ee({index:X1,Y:!0,range:i},(([a,u],c,f)=>{a!==0&&(o++,f.done())})).next((()=>o>0))}At(e,n){return Tl(e).get(n).next((r=>r?_h(r):null))}}function Tl(t){return mn(t,ec)}function WC(t){return mn(t,tu)}function Na(t){return mn(t,tc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="LruGarbageCollector",H$=1048576;function HC([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class LW{constructor(e){this.Pr=e,this.buffer=new yt(HC),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(GC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){es(n)?he(GC,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.Ar(3e5)}))}}class $W{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ir.ce);const r=new LW(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(zC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zC):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,a,u,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,u=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),Ol()<=et.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(u-a)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function Q$(t,e){return new $W(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n){this.db=e,this.garbageCollector=Q$(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return Dm(e,r)}removeReference(e,n,r){return Dm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Dm(e,n)}wr(e,n){return(function(i,o){let a=!1;return G$(i).te((u=>W$(i,u,o).next((c=>(c&&(a=!0),Y.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.yr(e,((a,u)=>{if(u<=n){const c=this.wr(e,a).next((f=>{if(!f)return o++,r.getEntry(e,a).next((()=>(r.removeEntry(a,De.min()),Na(e).delete((function(p){return[0,zn(p.path)]})(a)))))}));i.push(c)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Dm(e,n)}yr(e,n){const r=Na(e);let i,o=ir.ce;return r.ee({index:X1},(([a,u],{path:c,sequenceNumber:f})=>{a===0?(o!==ir.ce&&n(new _e(Vi(i)),o),o=f,i=c):o=ir.ce})).next((()=>{o!==ir.ce&&n(new _e(Vi(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dm(t,e){return Na(t).put((function(r,i){return{targetId:0,path:zn(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this.changes=new qo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ls(e).put(r)}removeEntry(e,n,r){return Ls(e).delete((function(o,a){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Ig(a),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=Dt.newInvalidDocument(n);return Ls(e).ee({index:rg,range:IDBKeyRange.only(th(n))},((i,o)=>{r=this.Sr(n,o)})).next((()=>r))}Dr(e,n){let r={size:0,document:Dt.newInvalidDocument(n)};return Ls(e).ee({index:rg,range:IDBKeyRange.only(th(n))},((i,o)=>{r={document:this.Sr(n,o),size:Pg(o)}})).next((()=>r))}getEntries(e,n){let r=ar();return this.Cr(e,n,((i,o)=>{const a=this.Sr(i,o);r=r.insert(i,a)})).next((()=>r))}vr(e,n){let r=ar(),i=new Pt(_e.comparator);return this.Cr(e,n,((o,a)=>{const u=this.Sr(o,a);r=r.insert(o,u),i=i.insert(o,Pg(a))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new yt(YC);n.forEach((c=>i=i.add(c)));const o=IDBKeyRange.bound(th(i.first()),th(i.last())),a=i.getIterator();let u=a.getNext();return Ls(e).ee({index:rg,range:o},((c,f,d)=>{const p=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&YC(u,p)<0;)r(u,null),u=a.getNext();u&&u.isEqual(p)&&(r(u,f),u=a.hasNext()?a.getNext():null),u?d.j(th(u)):d.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),Ig(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ls(e).H(IDBKeyRange.bound(u,c,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let d=ar();for(const p of f){const y=this.Sr(_e.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(Gd(n,y)||i.has(y.key))&&(d=d.insert(y.key,y))}return d}))}getAllFromCollectionGroup(e,n,r,i){let o=ar();const a=QC(n,r),u=QC(n,Pr.max());return Ls(e).ee({index:RL,range:IDBKeyRange.bound(a,u,!0)},((c,f,d)=>{const p=this.Sr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(p.key,p),o.size===i&&d.done()})).next((()=>o))}newChangeBuffer(e){return new UW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return KC(e).get(WE).next((n=>(Ce(!!n,20021),n)))}br(e,n){return KC(e).put(WE,n)}Sr(e,n){if(n){const r=AW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return Dt.newInvalidDocument(e)}}function X$(t){return new BW(t)}class UW extends Y${constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new qo((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new yt(((o,a)=>Ue(o.canonicalString(),a.canonicalString())));return this.changes.forEach(((o,a)=>{const u=this.Or.get(o);if(n.push(this.Mr.removeEntry(e,o,u.readTime)),a.isValidDocument()){const c=RC(this.Mr.serializer,a);i=i.add(o.path.popLast());const f=Pg(c);r+=f-u.size,n.push(this.Mr.addEntry(e,o,c))}else if(r-=u.size,this.trackRemovals){const c=RC(this.Mr.serializer,a.convertToNoDocument(De.min()));n.push(this.Mr.addEntry(e,o,c))}})),i.forEach((o=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Mr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((o,a)=>{this.Or.set(o,{size:a,readTime:r.get(o).readTime})})),r)))}}function KC(t){return mn(t,zh)}function Ls(t){return mn(t,bg)}function th(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QC(t,e){const n=e.documentKey.path.toArray();return[t,Ig(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function YC(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ue(n[o],r[o]),i)return i;return i=Ue(n.length,r.length),i||(i=Ue(n[n.length-2],r[r.length-2]),i||Ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rh(r.mutation,i,or.empty(),dt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const i=Li();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let a=yh();return o.forEach(((u,c)=>{a=a.insert(u,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,i){let o=ar();const a=Ch(),u=(function(){return Ch()})();return n.forEach(((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof zo)?o=o.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),Rh(d.mutation,f,d.mutation.getFieldMask(),dt.now())):a.set(f.key,or.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,d)=>a.set(f,d))),n.forEach(((f,d)=>u.set(f,new qW(d,a.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Ch();let i=new Pt(((a,u)=>a-u)),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||or.empty();d=u.applyToLocalView(f,d),r.set(c,d);const p=(i.get(u.batchId)||We()).add(c);i=i.insert(u.batchId,p)}))})).next((()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,d=c.value,p=h$();d.forEach((y=>{if(!o.has(y)){const v=_$(n.get(y),r.get(y));v!==null&&p.set(y,v),o=o.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Y.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return Q8(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Y.resolve(Li());let u=Yl,c=o;return a.next((f=>Y.forEach(f,((d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{c=c.insert(d,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,We()))).next((d=>({batchId:u,changes:f$(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let i=yh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=yh();return this.indexManager.getCollectionParents(e,o).next((u=>Y.forEach(u,(c=>{const f=(function(p,y){return new Uo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((p,y)=>{a=a.insert(p,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((a=>{o.forEach(((c,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,Dt.newInvalidDocument(d)))}));let u=yh();return a.forEach(((c,f)=>{const d=o.get(c);d!==void 0&&Rh(d.mutation,f,or.empty(),dt.now()),Gd(n,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Y.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Zt(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:Yy(i.bundledQuery),readTime:Zt(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.overlays=new Pt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return Y.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Li(),o=n.length+1,a=new _e(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pt(((f,d)=>f-d));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=o.get(f.largestBatchId);d===null&&(d=Li(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const u=Li(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>u.set(f,d))),!(u.size()>=i)););return Y.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cS(n,r));let o=this.Lr.get(n);o===void 0&&(o=We(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.kr=new yt(wn.Kr),this.qr=new yt(wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new wn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new wn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new _e(new Ye([])),r=new wn(n,e),i=new wn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),o.push(a.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new Ye([])),r=new wn(n,e),i=new wn(n,e+1);let o=We();return this.qr.forEachInRange([r,i],(a=>{o=o.add(a.key)})),o}containsKey(e){const n=new wn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new yt(wn.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new uS(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.Jr=this.Jr.add(new wn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ua:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),i=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(a=>{const u=this.Zr(a.Hr);o.push(u)})),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Ue);return n.forEach((i=>{const o=new wn(i,0),a=new wn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,a],(u=>{r=r.add(u.Hr)}))})),Y.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const a=new wn(new _e(o),0);let u=new yt(Ue);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),a),Y.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ce(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Y.forEach(n.mutations,(i=>{const o=new wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new wn(n,0),i=this.Jr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.ti=e,this.docs=(function(){return new Pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ar();const a=n.path,u=new _e(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Q1(SL(d),r)<=0||(i.has(d.key)||Gd(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te(9500)}ni(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QW(this)}getSize(e){return Y.resolve(this.size)}}class QW extends Y${constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.persistence=e,this.ri=new qo((n=>lu(n)),zd),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new mS,this.targetCount=0,this.oi=pu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Y.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.lr(n),Y.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Y.waitFor(o).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((a=>{o.push(i.markPotentiallyOrphaned(e,a))})),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this._i={},this.overlays={},this.ai=new ir(0),this.ui=!1,this.ui=!0,this.ci=new GW,this.referenceDelegate=e(this),this.li=new YW(this),this.indexManager=new MW,this.remoteDocumentCache=(function(i){return new KW(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new $$(n),this.Pi=new zW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new HW(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new XW(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return Y.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class XW extends AL{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Ri=new mS,this.Ai=null}static Vi(e){return new Zy(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(r=>{const i=_e.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,De.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Og{constructor(e,n){this.persistence=e,this.fi=new qo((r=>zn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Q$(this,n)}static Vi(e,n){return new Og(e,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Y.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((u=>{u||(r++,o.removeEntry(a,De.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=og(e.data.value)),n}wr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.serializer=e}k(e,n,r,i){const o=new $y("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(qd)})(e),(function(c){c.createObjectStore(qh,{keyPath:c8}),c.createObjectStore(ii,{keyPath:sC,autoIncrement:!0}).createIndex(Qs,uC,{unique:!0}),c.createObjectStore(Zl)})(e),XC(e),(function(c){c.createObjectStore(Us)})(e));let a=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(tc),c.deleteObjectStore(ec),c.deleteObjectStore(tu)})(e),XC(e)),a=a.next((()=>(function(c){const f=c.store(tu),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return f.put(xg,d)})(o)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,f){return f.store(ii).H().next((p=>{c.deleteObjectStore(ii),c.createObjectStore(ii,{keyPath:sC,autoIncrement:!0}).createIndex(Qs,uC,{unique:!0});const y=f.store(ii),v=p.map((E=>y.put(E)));return Y.waitFor(v)}))})(e,o)))),a=a.next((()=>{(function(c){c.createObjectStore(nc,{keyPath:_8})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.gi(o)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(zh)})(e),this.pi(o))))),r<7&&i>=7&&(a=a.next((()=>this.yi(o)))),r<8&&i>=8&&(a=a.next((()=>this.wi(e,o)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.bi(o)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(Fy,{keyPath:w8})})(e),(function(c){c.createObjectStore(By,{keyPath:b8})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const f=c.createObjectStore(Uy,{keyPath:P8});f.createIndex(HE,O8,{unique:!1}),f.createIndex(ML,C8,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const f=c.createObjectStore(bg,{keyPath:h8});f.createIndex(rg,d8),f.createIndex(RL,p8)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(Us)))),r<14&&i>=14&&(a=a.next((()=>this.Di(e,o)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(J1,{keyPath:x8,autoIncrement:!0}).createIndex(GE,E8,{unique:!1}),c.createObjectStore(Ah,{keyPath:T8}).createIndex(NL,S8,{unique:!1}),c.createObjectStore(Ph,{keyPath:I8}).createIndex(DL,A8,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(Ah).clear()})).next((()=>{n.objectStore(Ph).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(Z1,{keyPath:R8})})(e)}))),r<18&&i>=18&&bV()&&(a=a.next((()=>{n.objectStore(Ah).clear()})).next((()=>{n.objectStore(Ph).clear()}))),a}pi(e){let n=0;return e.store(Us).ee(((r,i)=>{n+=Pg(i)})).next((()=>{const r={byteSize:n};return e.store(zh).put(WE,r)}))}gi(e){const n=e.store(qh),r=e.store(ii);return n.H().next((i=>Y.forEach(i,(o=>{const a=IDBKeyRange.bound([o.userId,Ua],[o.userId,o.lastAcknowledgedBatchId]);return r.H(Qs,a).next((u=>Y.forEach(u,(c=>{Ce(c.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const f=Gs(this.serializer,c);return z$(e,o.userId,f).next((()=>{}))}))))}))))}yi(e){const n=e.store(tc),r=e.store(Us);return e.store(tu).get(xg).next((i=>{const o=[];return r.ee(((a,u)=>{const c=new Ye(a),f=(function(p){return[0,zn(p)]})(c);o.push(n.get(f).next((d=>d?Y.resolve():(p=>n.put({targetId:0,path:zn(p),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>Y.waitFor(o)))}))}wi(e,n){e.createObjectStore(Wh,{keyPath:v8});const r=n.store(Wh),i=new pS,o=a=>{if(i.add(a)){const u=a.lastSegment(),c=a.popLast();return r.put({collectionId:u,parent:zn(c)})}};return n.store(Us).ee({Y:!0},((a,u)=>{const c=new Ye(a);return o(c.popLast())})).next((()=>n.store(Zl).ee({Y:!0},(([a,u,c],f)=>{const d=Vi(u);return o(d.popLast())}))))}bi(e){const n=e.store(ec);return n.ee(((r,i)=>{const o=_h(i),a=F$(this.serializer,o);return n.put(a)}))}Si(e,n){const r=n.store(Us),i=[];return r.ee(((o,a)=>{const u=n.store(bg),c=(function(p){return p.document?new _e(Ye.fromString(p.document.name).popFirst(5)):p.noDocument?_e.fromSegments(p.noDocument.path):p.unknownDocument?_e.fromSegments(p.unknownDocument.path):Te(36783)})(a).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(u.put(f))})).next((()=>Y.waitFor(i)))}Di(e,n){const r=n.store(ii),i=X$(this.serializer),o=new gS(Zy.Vi,this.serializer.yt);return r.H().next((a=>{const u=new Map;return a.forEach((c=>{let f=u.get(c.userId)??We();Gs(this.serializer,c).keys().forEach((d=>f=f.add(d))),u.set(c.userId,f)})),Y.forEach(u,((c,f)=>{const d=new xn(f),p=Xy.wt(this.serializer,d),y=o.getIndexManager(d),v=Jy.wt(d,this.serializer,y,o.referenceDelegate);return new J$(i,v,p,y).recalculateAndSaveOverlaysForDocumentKeys(new KE(n,ir.ce),c).next()}))}))}}function XC(t){t.createObjectStore(tc,{keyPath:g8}).createIndex(X1,y8,{unique:!0}),t.createObjectStore(ec,{keyPath:"targetId"}).createIndex(kL,m8,{unique:!0}),t.createObjectStore(tu)}const Ia="IndexedDbPersistence",S0=18e5,I0=5e3,A0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Z$="main";class yS{constructor(e,n,r,i,o,a,u,c,f,d,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=o,this.window=a,this.document=u,this.Fi=f,this.Mi=d,this.xi=p,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=y=>Promise.resolve(),!yS.v())throw new ce(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FW(this,i),this.Ki=n+Z$,this.serializer=new $$(c),this.qi=new qi(this.Ki,this.xi,new JW(this.serializer)),this.ci=new OW,this.li=new VW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=X$(this.serializer),this.Pi=new PW,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&Xt(Ia,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(ee.FAILED_PRECONDITION,A0);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new ir(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Mm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(es(e))return he(Ia,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Ia,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return nh(e).get(_l).next((n=>Y.resolve(this.Xi(n))))}Yi(e){return Mm(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,S0)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=mn(n,nc);return r.H().next((i=>{const o=this.ns(i,S0),a=i.filter((u=>o.indexOf(u)===-1));return Y.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Y.resolve(!0):nh(e).get(_l).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,I0)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new ce(ee.FAILED_PRECONDITION,A0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mm(e).H().next((r=>this.ns(r,I0).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||a&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(Ia,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[qd,nc],(e=>{const n=new KE(e,ir.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Mm(e).H().next((n=>this.ns(n,S0).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return Jy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jW(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Xy.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){he(Ia,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(c){return c===18?D8:c===17?$L:c===16?N8:c===15?eS:c===14?LL:c===13?VL:c===12?k8:c===11?jL:void Te(60245)})(this.xi);let a;return this.qi.runTransaction(e,i,o,(u=>(a=new KE(u,this.ai?this.ai.next():ir.ce),n==="readwrite-primary"?this.ji(a).next((c=>!!c||this.Hi(a))).next((c=>{if(!c)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ce(ee.FAILED_PRECONDITION,IL);return r(a)})).next((c=>this.Zi(a).next((()=>c)))):this.Ps(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Ps(e){return nh(e).get(_l).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,I0)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(ee.FAILED_PRECONDITION,A0)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nh(e).put(_l,n)}static v(){return qi.v()}Ji(e){const n=nh(e);return n.get(_l).next((r=>this.Xi(r)?(he(Ia,"Releasing primary lease."),n.delete(_l)):Y.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;wV()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return he(Ia,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Xt(Ia,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nh(t){return mn(t,qd)}function Mm(t){return mn(t,nc)}function vS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=We(),i=We();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _S(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wV()?8:PL(dn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((a=>{o.result=a})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((a=>{o.result=a}))})).next((()=>{if(o.result)return;const a=new ZW;return this.ys(e,n,a).next((u=>{if(o.result=u,this.As)return this.ws(e,n,a,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ol()<=et.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ol()<=et.DEBUG&&he("QueryEngine","Query:",Cl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ol()<=et.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):Y.resolve())}gs(e,n){if(bC(n))return Y.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Sg(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const a=We(...o);return this.fs.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,u);return this.Ss(n,f,a,c.readTime)?this.gs(e,Sg(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return bC(n)||i.isEqual(De.min())?Y.resolve(null):this.fs.getDocuments(e,r).next((o=>{const a=this.bs(n,o);return this.Ss(n,a,r,i)?Y.resolve(null):(Ol()<=et.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cl(n)),this.Ds(e,a,n,TL(i,Yl)).next((u=>u)))}))}bs(e,n){let r=new yt(l$(e));return n.forEach(((i,o)=>{Gd(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Ol()<=et.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.fs.getDocumentsMatchingQuery(e,n,Pr.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((a=>{o=o.insert(a.key,a)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="LocalStore",e7=3e8;class t7{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Pt(Ue),this.Fs=new qo((o=>lu(o)),zd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J$(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function tF(t,e,n,r){return new t7(t,e,n,r)}async function nF(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const a=[],u=[];let c=We();for(const f of i){a.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of o){u.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:a,addedBatchIds:u})))}))}))}function n7(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,d){const p=f.batch,y=p.keys();let v=Y.resolve();return y.forEach((E=>{v=v.next((()=>d.getEntry(c,E))).next((b=>{const w=f.docVersions.get(E);Ce(w!==null,48541),b.version.compareTo(w)<0&&(p.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),d.addEntry(b)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=We();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function rF(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function r7(t,e){const n=be(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((d,p)=>{const y=i.get(p);if(!y)return;u.push(n.li.removeMatchingKeys(o,d.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,d.addedDocuments,p))));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(zt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),(function(b,w,A){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=e7?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,v,d)&&u.push(n.li.updateTargetData(o,v))}));let c=ar(),f=We();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))})),u.push(iF(o,a,e.documentUpdates).next((d=>{c=d.Bs,f=d.Ls}))),!r.isEqual(De.min())){const d=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(d)}return Y.waitFor(u).next((()=>a.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function iF(t,e,n){let r=We(),i=We();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let a=ar();return n.forEach(((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):he(wS,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function i7(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ua),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lc(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,Y.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new wo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function cc(t,e,n){const r=be(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!es(a))throw a;he(wS,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Cg(t,e,n){const r=be(t);let i=De.min(),o=We();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,d){const p=be(c),y=p.Fs.get(d);return y!==void 0?Y.resolve(p.vs.get(y)):p.li.getTargetData(f,d)})(r,a,Wn(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,u.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:De.min(),n?o:We()))).next((u=>(sF(r,u$(e),u),{documents:u,ks:o})))))}function oF(t,e){const n=be(t),r=be(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((a=>a?a.target:null))))}function aF(t,e){const n=be(t),r=n.Ms.get(e)||De.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.xs.getAllFromCollectionGroup(i,e,TL(r,Yl),Number.MAX_SAFE_INTEGER))).then((i=>(sF(n,e,i),i)))}function sF(t,e,n){let r=t.Ms.get(e)||De.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}async function o7(t,e,n,r){const i=be(t);let o=We(),a=ar();for(const f of n){const d=e.Ks(f.metadata.name);f.document&&(o=o.add(d));const p=e.qs(f);p.setReadTime(e.Us(f.metadata.readTime)),a=a.insert(d,p)}const u=i.xs.newChangeBuffer({trackRemovals:!0}),c=await lc(i,(function(d){return Wn(Bc(Ye.fromString(`__bundle__/docs/${d}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>iF(f,u,a).next((d=>(u.apply(f),d))).next((d=>i.li.removeMatchingKeysForTargetId(f,c.targetId).next((()=>i.li.addMatchingKeys(f,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,d.Bs,d.Ls))).next((()=>d.Bs))))))}async function a7(t,e,n=We()){const r=await lc(t,Wn(Yy(e.bundledQuery))),i=be(t);return i.persistence.runTransaction("Save named query","readwrite",(o=>{const a=Zt(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Pi.saveNamedQuery(o,e);const u=r.withResumeToken(zt.EMPTY_BYTE_STRING,a);return i.vs=i.vs.insert(u.targetId,u),i.li.updateTargetData(o,u).next((()=>i.li.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>i.li.addMatchingKeys(o,n,r.targetId))).next((()=>i.Pi.saveNamedQuery(o,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firestore_clients";function JC(t,e){return`${uF}_${t}_${e}`}const lF="firestore_mutations";function ZC(t,e,n){let r=`${lF}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const cF="firestore_targets";function P0(t,e){return`${cF}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="SharedClientState";class Rg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new ce(i.error.code,i.error.message))),a?new Rg(e,n,i.state,o):(Xt(ji,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ce(r.error.code,r.error.message))),o?new kh(e,r.state,i):(Xt(ji,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=oS();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=OL(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new kg(e,o):(Xt(ji,`Failed to parse client data for instance '${e}': ${n}`),null)}}class bS{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new bS(n.clientId,n.onlineState):(Xt(ji,`Failed to parse online state: ${e}`),null)}}class lT{constructor(){this.activeTargetIds=oS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O0{constructor(e,n,r,i,o){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new Pt(Ue),this.started=!1,this.Zs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Xs=JC(this.persistenceKey,this.zs),this.Ys=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new lT),this.eo=new RegExp(`^${uF}_${a}_([^_]*)$`),this.no=new RegExp(`^${lF}_${a}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${cF}_${a}_(\\d+)$`),this.io=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.so=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(JC(this.persistenceKey,r));if(i){const o=kg.$s(r,i);o&&(this.Js=this.Js.insert(o.clientId,o))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(P0(this.persistenceKey,e));if(i){const o=kh.$s(e,i);o&&(r=o.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(P0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return he(ji,"READ",e,n),n}setItem(e,n){he(ji,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){he(ji,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(he(ji,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(o){let a=ir.ce;if(o!=null)try{const u=JSON.parse(o);Ce(typeof u=="number",30636,{yo:o}),a=u}catch(u){Xt(ji,"Failed to read sequence number from WebStorage",u)}return a})(n.newValue);r!==ir.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new Rg(this.currentUser,e,n,r),o=ZC(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ws())}lo(e){const n=ZC(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=P0(this.persistenceKey,e),o=new kh(e,n,r);this.setItem(i,o.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return kg.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Rg.$s(new xn(o),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return kh.$s(i,n)}_o(e){return bS.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);he(ji,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),o=this.uo(r),a=[],u=[];return o.forEach((c=>{i.has(c)||a.push(c)})),i.forEach((c=>{o.has(c)||u.push(c)})),this.syncEngine.Co(a,u).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=oS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class fF{constructor(){this.vo=new lT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="ConnectivityMonitor";class tR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(eR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(eR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm=null;function cT(){return jm===null?jm=(function(){return 268435456+Math.round(2147483648*Math.random())})():jm++,"0x"+jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="RestConnection",u7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class l7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Hh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=cT(),u=this.Qo(e,n.toUriEncodedString());he(C0,`Sending RPC '${e}' ${a}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(u),d=xu(f);return this.zo(e,u,c,r,d).then((p=>(he(C0,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Ar(C0,`RPC '${e}' ${a} failed with error: `,p,"url: ",u,"request:",r),p}))}jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=u7[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection",rh=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Bl extends l7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Bl.c_){const e=mL();rh(e,pL.STAT_EVENT,(n=>{n.stat===FE.PROXY?he($n,"STAT_EVENT: detected buffering proxy"):n.stat===FE.NOPROXY&&he($n,"STAT_EVENT: detected no buffering proxy")})),Bl.c_=!0}}zo(e,n,r,i,o){const a=cT();return new Promise(((u,c)=>{const f=new hL;f.setWithCredentials(!0),f.listenOnce(dL.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case tg.NO_ERROR:const p=f.getResponseJson();he($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),u(p);break;case tg.TIMEOUT:he($n,`RPC '${e}' ${a} timed out`),c(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const y=f.getStatus();if(he($n,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v?.error;if(E&&E.status&&E.message){const b=(function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(C)>=0?C:ee.UNKNOWN})(E.status);c(new ce(b,E.message))}else c(new ce(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{he($n,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);he($n,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=cT(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");he($n,`Creating RPC '${e}' stream ${i}: ${f}`,u);const d=a.createWebChannel(f,u);this.I_(d);let p=!1,y=!1;const v=new c7({Ho:E=>{y?he($n,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(he($n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),he($n,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},Jo:()=>d.close()});return rh(d,gh.EventType.OPEN,(()=>{y||(he($n,`RPC '${e}' stream ${i} transport opened.`),v.i_())})),rh(d,gh.EventType.CLOSE,(()=>{y||(y=!0,he($n,`RPC '${e}' stream ${i} transport closed`),v.o_(),this.E_(d))})),rh(d,gh.EventType.ERROR,(E=>{y||(y=!0,Ar($n,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),v.o_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),rh(d,gh.EventType.MESSAGE,(E=>{if(!y){const b=E.data[0];Ce(!!b,16349);const w=b,A=w?.error||w[0]?.error;if(A){he($n,`RPC '${e}' stream ${i} received error:`,A);const C=A.status;let R=(function(k){const S=nn[k];if(S!==void 0)return E$(S)})(C),$=A.message;R===void 0&&(R=ee.INTERNAL,$="Unknown error status: "+C+" with message "+A.message),y=!0,v.o_(new ce(R,$)),d.close()}else he($n,`RPC '${e}' stream ${i} received:`,b),v.__(b)}})),Bl.u_(),setTimeout((()=>{v.s_()}),0),v}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gL()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){return new Bl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(){return typeof window<"u"?window:null}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new yW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bl.c_=!1;class xS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="PersistentStream";class dF{constructor(e,n,r,i,o,a,u,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(nR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(nR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h7 extends dF{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wW(this.serializer,e),r=(function(o){if(!("targetChange"in o))return De.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?Zt(a.readTime):De.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=iT(this.serializer),n.addTarget=(function(o,a){let u;const c=a.target;if(u=Eg(c)?{documents:k$(o,c)}:{query:Qy(o,c).ft},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=A$(o,a.resumeToken);const f=nT(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(De.min())>0){u.readTime=uc(o,a.snapshotVersion.toTimestamp());const f=nT(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=xW(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=iT(this.serializer),n.removeTarget=e,this.K_(n)}}class d7 extends dF{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bW(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=iT(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Jh(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{}class m7 extends p7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Wo(e,rT(n,r),i,o,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(ee.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.jo(e,rT(n,r),i,a,u,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(ee.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function g7(t,e,n,r){return new m7(t,e,n,r)}class y7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xt(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="RemoteStore";class v7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{ns(this)&&(he(mu,"Restarting streams for network reachability change."),await(async function(c){const f=be(c);f.Ea.add(4),await zc(f),f.Va.set("Unknown"),f.Ea.delete(4),await Yd(f)})(this))}))})),this.Va=new y7(r,i)}}async function Yd(t){if(ns(t))for(const e of t.Ra)await e(!0)}async function zc(t){for(const e of t.Ra)await e(!1)}function ev(t,e){const n=be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),SS(n)?TS(n):Gc(n).O_()&&ES(n,e))}function fc(t,e){const n=be(t),r=Gc(n);n.Ia.delete(e),r.O_()&&pF(n,e),n.Ia.size===0&&(r.O_()?r.L_():ns(n)&&n.Va.set("Unknown"))}function ES(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gc(t).Z_(e)}function pF(t,e){t.da.$e(e),Gc(t).X_(e)}function TS(t){t.da=new dW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gc(t).start(),t.Va.ua()}function SS(t){return ns(t)&&!Gc(t).x_()&&t.Ia.size>0}function ns(t){return be(t).Ea.size===0}function mF(t){t.da=void 0}async function _7(t){t.Va.set("Online")}async function w7(t){t.Ia.forEach(((e,n)=>{ES(t,e)}))}async function b7(t,e){mF(t),SS(t)?(t.Va.ha(e),TS(t)):t.Va.set("Unknown")}async function x7(t,e,n){if(t.Va.set("Online"),e instanceof I$&&e.state===2&&e.cause)try{await(async function(i,o){const a=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){he(mu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ng(t,r)}else if(e instanceof ug?t.da.Xe(e):e instanceof S$?t.da.st(e):t.da.tt(e),!n.isEqual(De.min()))try{const r=await rF(t.localStore);n.compareTo(r)>=0&&await(function(o,a){const u=o.da.Tt(a);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(f);d&&o.Ia.set(f,d.withResumeToken(c.resumeToken,a))}})),u.targetMismatches.forEach(((c,f)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),pF(o,c);const p=new wo(d.target,c,f,d.sequenceNumber);ES(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(mu,"Failed to raise snapshot:",r),await Ng(t,r)}}async function Ng(t,e,n){if(!es(e))throw e;t.Ea.add(1),await zc(t),t.Va.set("Offline"),n||(n=()=>rF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(mu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yd(t)}))}function gF(t,e){return e().catch((n=>Ng(t,n,e)))}async function Wc(t){const e=be(t),n=Ya(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ua;for(;E7(e);)try{const i=await i7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,T7(e,i)}catch(i){await Ng(e,i)}yF(e)&&vF(e)}function E7(t){return ns(t)&&t.Ta.length<10}function T7(t,e){t.Ta.push(e);const n=Ya(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function yF(t){return ns(t)&&!Ya(t).x_()&&t.Ta.length>0}function vF(t){Ya(t).start()}async function S7(t){Ya(t).ra()}async function I7(t){const e=Ya(t);for(const n of t.Ta)e.ea(n.mutations)}async function A7(t,e,n){const r=t.Ta.shift(),i=lS.from(r,e,n);await gF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Wc(t)}async function P7(t,e){e&&Ya(t).Y_&&await(async function(r,i){if((function(a){return x$(a)&&a!==ee.ABORTED})(i.code)){const o=r.Ta.shift();Ya(r).B_(),await gF(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Wc(r)}})(t,e),yF(t)&&vF(t)}async function rR(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),he(mu,"RemoteStore received new credentials");const r=ns(n);n.Ea.add(3),await zc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yd(n)}async function fT(t,e){const n=be(t);e?(n.Ea.delete(2),await Yd(n)):e||(n.Ea.add(2),await zc(n),n.Va.set("Unknown"))}function Gc(t){return t.ma||(t.ma=(function(n,r,i){const o=be(n);return o.sa(),new h7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:_7.bind(null,t),Yo:w7.bind(null,t),t_:b7.bind(null,t),J_:x7.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),SS(t)?TS(t):t.Va.set("Unknown")):(await t.ma.stop(),mF(t))}))),t.ma}function Ya(t){return t.fa||(t.fa=(function(n,r,i){const o=be(n);return o.sa(),new d7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:S7.bind(null,t),t_:P7.bind(null,t),ta:I7.bind(null,t),na:A7.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Wc(t)):(await t.fa.stop(),t.Ta.length>0&&(he(mu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new IS(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hc(t,e){if(Xt("AsyncQueue",`${e}: ${t}`),es(t))return new ce(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{static emptySet(e){return new nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=yh(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.ga=new Pt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gu{constructor(e,n,r,i,o,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new gu(e,n,nu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C7{constructor(){this.queries=oR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=be(n),o=i.queries;i.queries=oR(),o.forEach(((a,u)=>{for(const c of u.ba)c.onError(r)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function oR(){return new qo((t=>s$(t)),Wd)}async function AS(t,e){const n=be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new O7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Hc(a,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&OS(n)}async function PS(t,e){const n=be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ba.indexOf(e);a>=0&&(o.ba.splice(a,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R7(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.ba)u.Fa(i)&&(r=!0);a.wa=i}}r&&OS(n)}function k7(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function OS(t){t.Ca.forEach((e=>{e.next()}))}var hT,aR;(aR=hT||(hT={})).Ma="default",aR.Cache="cache";class CS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n){this.qa=e,this.byteLength=n}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e}Ks(e){return zi(this.serializer,e)}qs(e){return e.metadata.exists?Ky(this.serializer,e.document,!1):Dt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Zt(e)}}class RS{constructor(e,n){this.$a=e,this.serializer=n,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=wF(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=Ye.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new sR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ks(i.metadata.name);for(const a of i.metadata.queries){const u=(n.get(a)||We()).add(o);n.set(a,u)}}return n}async ja(e){const n=await o7(e,new sR(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await a7(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:n}}}function wF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.key=e}}class xF{constructor(e){this.key=e}}class EF{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.eu=l$(e),this.tu=new nu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new iR,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const y=i.get(d),v=Gd(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;y&&v?y.data.isEqual(v.data)?E!==b&&(r.track({type:3,doc:v}),w=!0):this.su(y,v)||(r.track({type:2,doc:v}),w=!0,(c&&this.eu(v,c)>0||f&&this.eu(v,f)<0)&&(u=!0)):!y&&v?(r.track({type:0,doc:v}),w=!0):y&&!v&&(r.track({type:1,doc:y}),w=!0,(c||f)&&(u=!0)),w&&(v?(a=a.add(v),o=b?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(v,E){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:w})}};return b(v)-b(E)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,a.length!==0||f?{snapshot:new gu(this.query,e.tu,o,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new xF(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new bF(r))})),n}cu(e){this.Za=e.ks,this.Ya=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rs="SyncEngine";class N7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D7{constructor(e){this.key=e,this.hu=!1}}class M7{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new qo((u=>s$(u)),Wd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pt(_e.comparator),this.Au=new Map,this.Vu=new mS,this.du={},this.mu=new Map,this.fu=pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j7(t,e,n=!0){const r=tv(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await TF(r,e,n,!0),i}async function V7(t,e){const n=tv(t);await TF(n,e,!0,!1)}async function TF(t,e,n,r){const i=await lc(t.localStore,Wn(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await kS(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&ev(t.remoteStore,i),u}async function kS(t,e,n,r,i){t.pu=(p,y,v)=>(async function(b,w,A,C){let R=w.view.ru(A);R.Ss&&(R=await Cg(b.localStore,w.query,!1).then((({documents:S})=>w.view.ru(S,R))));const $=C&&C.targetChanges.get(w.targetId),P=C&&C.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(R,b.isPrimaryClient,$,P);return dT(b,w.targetId,k.au),k.snapshot})(t,p,y,v);const o=await Cg(t.localStore,e,!0),a=new EF(e,o.ks),u=a.ru(o.documents),c=Qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);dT(t,n,f.au);const d=new N7(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function L7(t,e,n){const r=be(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((a=>!Wd(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fc(r.remoteStore,i.targetId),hc(r,i.targetId)})).catch(Za)):(hc(r,i.targetId),await cc(r.localStore,i.targetId,!0))}async function $7(t,e){const n=be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fc(n.remoteStore,r.targetId))}async function F7(t,e,n){const r=jS(t);try{const i=await(function(a,u){const c=be(a),f=dt.now(),d=u.reduce(((v,E)=>v.add(E.key)),We());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=ar(),b=We();return c.xs.getEntries(v,d).next((w=>{E=w,E.forEach(((A,C)=>{C.isValidDocument()||(b=b.add(A))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,E))).next((w=>{p=w;const A=[];for(const C of u){const R=lW(C,p.get(C.key).overlayedDocument);R!=null&&A.push(new zo(C.key,R,YL(R.value.mapValue),$t.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,A,u)})).next((w=>{y=w;const A=w.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(v,w.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:f$(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,u,c){let f=a.du[a.currentUser.toKey()];f||(f=new Pt(Ue)),f=f.insert(u,c),a.du[a.currentUser.toKey()]=f})(r,i.batchId,n),await Wo(r,i.changes),await Wc(r.remoteStore)}catch(i){const o=Hc(i,"Failed to persist write");n.reject(o)}}async function SF(t,e){const n=be(t);try{const r=await r7(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const a=n.Au.get(o);a&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ce(a.hu,14607):i.removedDocuments.size>0&&(Ce(a.hu,42227),a.hu=!1))})),await Wo(n,r,e)}catch(r){await Za(r)}}function uR(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,a)=>{const u=a.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(a,u){const c=be(a);c.onlineState=u;let f=!1;c.queries.forEach(((d,p)=>{for(const y of p.ba)y.va(u)&&(f=!0)})),f&&OS(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B7(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new Pt(_e.comparator);a=a.insert(o,Dt.newNoDocument(o,De.min()));const u=We().add(o),c=new Kd(De.min(),new Map,new Pt(Ue),a,u);await SF(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),MS(r)}else await cc(r.localStore,e,!1).then((()=>hc(r,e,n))).catch(Za)}async function U7(t,e){const n=be(t),r=e.batch.batchId;try{const i=await n7(n.localStore,e);DS(n,r,null),NS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wo(n,i)}catch(i){await Za(i)}}async function q7(t,e,n){const r=be(t);try{const i=await(function(a,u){const c=be(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,u).next((p=>(Ce(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);DS(r,e,n),NS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wo(r,i)}catch(i){await Za(i)}}async function z7(t,e){const n=be(t);ns(n.remoteStore)||he(rs,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const u=be(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>u.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(n.localStore);if(r===Ua)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Hc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function NS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function DS(t,e,n){const r=be(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function hc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||IF(t,r)}))}function IF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(fc(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),MS(t))}function dT(t,e,n){for(const r of n)r instanceof bF?(t.Vu.addReference(r.key,e),W7(t,r)):r instanceof xF?(he(rs,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||IF(t,r.key)):Te(19791,{wu:r})}function W7(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(he(rs,"New document in limbo: "+n),t.Eu.add(r),MS(t))}function MS(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new D7(n)),t.Ru=t.Ru.insert(n,r),ev(t.remoteStore,new wo(Wn(Bc(n.path)),r,"TargetPurposeLimboResolution",ir.ce))}}async function Wo(t,e,n){const r=be(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{a.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=_S.Es(c.targetId,f);o.push(d)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,f){const d=be(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Y.forEach(f,(y=>Y.forEach(y.Ts,(v=>d.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>Y.forEach(y.Is,(v=>d.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!es(p))throw p;he(wS,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const v=d.vs.get(y),E=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(E);d.vs=d.vs.insert(y,b)}}})(r.localStore,o))}async function G7(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){he(rs,"User change. New user:",e.toKey());const r=await nF(n.localStore,e);n.currentUser=e,(function(o,a){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new ce(ee.CANCELLED,a))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wo(n,r.Ns)}}function H7(t,e){const n=be(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let i=We();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const u=n.Tu.get(a);i=i.unionWith(u.view.nu)}return i}}async function K7(t,e){const n=be(t),r=await Cg(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&dT(n,e.targetId,i.au),i}async function Q7(t,e){const n=be(t);return aF(n.localStore,e).then((r=>Wo(n,r)))}async function Y7(t,e,n,r){const i=be(t),o=await(function(u,c){const f=be(u),d=be(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>d.Xn(p,c).next((y=>y?f.localDocuments.getDocuments(p,y):Y.resolve(null)))))})(i.localStore,e);o!==null?(n==="pending"?await Wc(i.remoteStore):n==="acknowledged"||n==="rejected"?(DS(i,e,r||null),NS(i,e),(function(u,c){be(be(u).mutationQueue).nr(c)})(i.localStore,e)):Te(6720,"Unknown batchState",{bu:n}),await Wo(i,o)):he(rs,"Cannot apply mutation batch with id: "+e)}async function X7(t,e){const n=be(t);if(tv(n),jS(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await lR(n,r.toArray());n.gu=!0,await fT(n.remoteStore,!0);for(const o of i)ev(n.remoteStore,o)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(hc(n,a),cc(n.localStore,a,!0)))),fc(n.remoteStore,a)})),await i,await lR(n,r),(function(a){const u=be(a);u.Au.forEach(((c,f)=>{fc(u.remoteStore,f)})),u.Vu.zr(),u.Au=new Map,u.Ru=new Pt(_e.comparator)})(n),n.gu=!1,await fT(n.remoteStore,!1)}}async function lR(t,e,n){const r=be(t),i=[],o=[];for(const a of e){let u;const c=r.Iu.get(a);if(c&&c.length!==0){u=await lc(r.localStore,Wn(c[0]));for(const f of c){const d=r.Tu.get(f),p=await K7(r,d);p.snapshot&&o.push(p.snapshot)}}else{const f=await oF(r.localStore,a);u=await lc(r.localStore,f),await kS(r,AF(f),a,!1,u.resumeToken)}i.push(u)}return r.Pu.J_(o),i}function AF(t){return i$(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function J7(t){return(function(n){return be(be(n).persistence).hs()})(be(t).localStore)}async function Z7(t,e,n,r){const i=be(t);if(i.gu)return void he(rs,"Ignoring unexpected query state notification.");const o=i.Iu.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await aF(i.localStore,u$(o[0])),u=Kd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",zt.EMPTY_BYTE_STRING);await Wo(i,a,u);break}case"rejected":await cc(i.localStore,e,!0),hc(i,e,r);break;default:Te(64155,n)}}async function eG(t,e,n){const r=tv(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){he(rs,"Adding an already active target "+i);continue}const o=await oF(r.localStore,i),a=await lc(r.localStore,o);await kS(r,AF(o),a.targetId,!1,a.resumeToken),ev(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await cc(r.localStore,i,!1).then((()=>{fc(r.remoteStore,i),hc(r,i)})).catch(Za)}}function tv(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B7.bind(null,e),e.Pu.J_=R7.bind(null,e.eventManager),e.Pu.yu=k7.bind(null,e.eventManager),e}function jS(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q7.bind(null,e),e}function tG(t,e,n){const r=be(t);(async function(o,a,u){try{const c=await a.getMetadata();if(await(function(v,E){const b=be(v),w=Zt(E.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",(A=>b.Pi.getBundleMetadata(A,E.id))).then((A=>!!A&&A.createTime.compareTo(w)>=0))})(o.localStore,c))return await a.close(),u._completeWith((function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}})(c)),Promise.resolve(new Set);u._updateProgress(wF(c));const f=new RS(c,a.serializer);let d=await a.Su();for(;d;){const y=await f.Ga(d);y&&u._updateProgress(y),d=await a.Su()}const p=await f.ja(o.localStore);return await Wo(o,p.Ja,void 0),await(function(v,E){const b=be(v);return b.persistence.runTransaction("Save bundle","readwrite",(w=>b.Pi.saveBundleMetadata(w,E)))})(o.localStore,c),u._completeWith(p.progress),Promise.resolve(p.Ha)}catch(c){return Ar(rs,`Loading bundle failed with ${c}`),u._failWith(c),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tF(this.persistence,new eF,e.initialUser,this.serializer)}Cu(e){return new gS(Zy.Vi,this.serializer)}Du(e){return new fF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class VS extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Og,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new K$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new gS((r=>Og.Vi(r,n)),this.serializer)}}class LS extends dc{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await jS(this.xu.syncEngine),await Wc(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return tF(this.persistence,new eF,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new K$(r,e.asyncQueue,n)}Mu(e,n){const r=new u8(n,this.persistence);return new s8(e.asyncQueue,r)}Cu(e){const n=vS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new yS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hF(),cg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new fF}}class PF extends LS{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof O0&&(this.sharedClientState.syncEngine={So:Y7.bind(null,n),Do:Z7.bind(null,n),Co:eG.bind(null,n),hs:J7.bind(null,n),bo:Q7.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await X7(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=hF();if(!O0.v(n))throw new ce(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new O0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Xa{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G7.bind(null,this.syncEngine),await fT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C7})()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=f7(e.databaseInfo);return g7(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,a,u){return new v7(r,i,o,a,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>uR(this.syncEngine,n,0)),(function(){return tR.v()?new tR:new s7})())}createSyncEngine(e,n){return(function(i,o,a,u,c,f,d){const p=new M7(i,o,a,u,c,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=be(n);he(mu,"RemoteStore shutting down."),r.Ea.add(5),await zc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xa.provider={build:()=>new Xa};function cR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Sn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Uu(r);return new _F(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),n=this.Uu(e);return new _F(JSON.parse(n),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new ce(ee.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iG=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,o){const a=be(i),u={documents:o.map((p=>Xh(a.serializer,p)))},c=await a.jo("BatchGetDocuments",a.serializer.databaseId,Ye.emptyPath(),u,o.length),f=new Map;c.forEach((p=>{const y=_W(a.serializer,p);f.set(y.key.toString(),y)}));const d=[];return o.forEach((p=>{const y=f.get(p.toString());Ce(!!y,55234,{key:p}),d.push(y)})),d})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=_e.fromPath(r);this.mutations.push(new sS(i,this.precondition(i)))})),await(async function(r,i){const o=be(r),a={writes:i.map((u=>Jh(o.serializer,u)))};await o.Wo("Commit",o.serializer.databaseId,Ye.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te(50498,{Gu:e.constructor.name});n=De.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ce(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(De.min())?$t.exists(!1):$t.updateTime(n):$t.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(De.min()))throw new ce(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $t.updateTime(n)}return $t.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new xS(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new iG(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Ud(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!x$(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="FirestoreClient";class aG{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async a=>{he(Ja,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(he(Ja,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hc(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function R0(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ja,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await nF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $S(t);he(Ja,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>rR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>rR(e.remoteStore,i))),t._onlineComponents=e}async function $S(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ja,"Using user provided OfflineComponentProvider");try{await R0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),await R0(t,new dc)}}else he(Ja,"Using default OfflineComponentProvider"),await R0(t,new VS(void 0));return t._offlineComponents}async function rv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ja,"Using user provided OnlineComponentProvider"),await fR(t,t._uninitializedComponentsProvider._online)):(he(Ja,"Using default OnlineComponentProvider"),await fR(t,new Xa))),t._onlineComponents}function OF(t){return $S(t).then((e=>e.persistence))}function Kc(t){return $S(t).then((e=>e.localStore))}function CF(t){return rv(t).then((e=>e.remoteStore))}function FS(t){return rv(t).then((e=>e.syncEngine))}function RF(t){return rv(t).then((e=>e.datastore))}async function pc(t){const e=await rv(t),n=e.eventManager;return n.onListen=j7.bind(null,e.syncEngine),n.onUnlisten=L7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$7.bind(null,e.syncEngine),n}function sG(t){return t.asyncQueue.enqueue((async()=>{const e=await OF(t),n=await CF(t);return e.setNetworkEnabled(!0),(function(i){const o=be(i);return o.Ea.delete(0),Yd(o)})(n)}))}function uG(t){return t.asyncQueue.enqueue((async()=>{const e=await OF(t),n=await CF(t);return e.setNetworkEnabled(!1),(async function(i){const o=be(i);o.Ea.add(0),await zc(o),o.Va.set("Offline")})(n)}))}function lG(t,e,n,r){const i=new nv(r),o=new CS(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>AS(await pc(t),o))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>PS(await pc(t),o)))}}function cG(t,e){const n=new Sn;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,o,a){try{const u=await(function(f,d){const p=be(f);return p.persistence.runTransaction("read document","readonly",(y=>p.localDocuments.getDocument(y,d)))})(i,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new ce(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const c=Hc(u,`Failed to get document '${o} from cache`);a.reject(c)}})(await Kc(t),e,n))),n.promise}function kF(t,e,n={}){const r=new Sn;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,f){const d=new nv({next:y=>{d.Nu(),a.enqueueAndForget((()=>PS(o,p)));const v=y.docs.has(u);!v&&y.fromCache?f.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?f.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new CS(Bc(u.path),d,{includeMetadataChanges:!0,Ka:!0});return AS(o,p)})(await pc(t),t.asyncQueue,e,n,r))),r.promise}function fG(t,e){const n=new Sn;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,o,a){try{const u=await Cg(i,o,!0),c=new EF(o,u.ks),f=c.ru(u.documents),d=c.applyChanges(f,!1);a.resolve(d.snapshot)}catch(u){const c=Hc(u,`Failed to execute query '${o} against cache`);a.reject(c)}})(await Kc(t),e,n))),n.promise}function NF(t,e,n={}){const r=new Sn;return t.asyncQueue.enqueueAndForget((async()=>(function(o,a,u,c,f){const d=new nv({next:y=>{d.Nu(),a.enqueueAndForget((()=>PS(o,p))),y.fromCache&&c.source==="server"?f.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new CS(u,d,{includeMetadataChanges:!0,Ka:!0});return AS(o,p)})(await pc(t),t.asyncQueue,e,n,r))),r.promise}function hG(t,e,n){const r=new Sn;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await RF(t);r.resolve((async function(a,u,c){const f=be(a),{request:d,gt:p,parent:y}=N$(f.serializer,o$(u),c);f.connection.Ko||delete d.parent;const v=(await f.jo("RunAggregationQuery",f.serializer.databaseId,y,d,1)).filter((b=>!!b.result));Ce(v.length===1,64727);const E=v[0].result?.aggregateFields;return Object.keys(E).reduce(((b,w)=>(b[p[w]]=E[w],b)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function dG(t,e){const n=new Sn;return t.asyncQueue.enqueueAndForget((async()=>F7(await FS(t),e,n))),n.promise}function pG(t,e){const n=new nv(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,o){be(i).Ca.add(o),o.next()})(await pc(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,o){be(i).Ca.delete(o)})(await pc(t),n)))}}function mG(t,e,n){const r=new Sn;return t.asyncQueue.enqueueAndForget((async()=>{const i=await RF(t);new oG(t.asyncQueue,i,n,e,r).ju()})),r.promise}function gG(t,e,n,r){const i=(function(a,u){let c;return c=typeof a=="string"?T$().encode(a):a,(function(d,p){return new nG(d,p)})((function(d,p){if(d instanceof Uint8Array)return cR(d,p);if(d instanceof ArrayBuffer)return cR(new Uint8Array(d),p);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),u)})(n,Su(e));t.asyncQueue.enqueueAndForget((async()=>{tG(await FS(t),i,r)}))}function yG(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const o=be(r);return o.persistence.runTransaction("Get named query","readonly",(a=>o.Pi.getNamedQuery(a,i)))})(await Kc(t),e)))}function DF(t,e){return(function(r,i){return new rG(r,i)})(t,e)}function vG(t,e){return t.asyncQueue.enqueue((async()=>(async function(r,i){const o=be(r),a=o.indexManager,u=[];return o.persistence.runTransaction("Configure indexes","readwrite",(c=>a.getFieldIndexes(c).next((f=>(function(p,y,v,E,b){p=[...p],y=[...y],p.sort(v),y.sort(v);const w=p.length,A=y.length;let C=0,R=0;for(;C<A&&R<w;){const $=v(p[R],y[C]);$<0?b(p[R++]):$>0?E(y[C++]):(C++,R++)}for(;C<A;)E(y[C++]);for(;R<w;)b(p[R++])})(f,i,r8,(d=>{u.push(a.addFieldIndex(c,d))}),(d=>{u.push(a.deleteFieldIndex(c,d))})))).next((()=>Y.waitFor(u)))))})(await Kc(t),e)))}function _G(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){be(r).Cs.As=i})(await Kc(t),e)))}function wG(t){return t.asyncQueue.enqueue((async()=>(function(n){const r=be(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(o=>i.deleteAllFieldIndexes(o)))})(await Kc(t))))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="ComponentProvider",hR=new Map;function xG(t,e,n,r,i){return new V8(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,MF(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="firestore.googleapis.com",dR=!0;class pR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jF,this.ssl=dR}else this.host=e.host,this.ssl=e.ssl??dR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H$)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _L;switch(r.type){case"firstParty":return new Yz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hR.get(n);r&&(he(bG,"Removing Datastore"),hR.delete(n),r.terminate())})(this),Promise.resolve()}}function VF(t,e,n,r={}){t=Xe(t,Xd);const i=xu(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(M1(`https://${u}`),vV("Firestore",!0)),o.host!==jF&&o.host!==u&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!di(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=xn.MOCK_USER;else{f=ZU(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xn(p)}t._authCredentials=new Hz(new vL(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pn(this.firestore,e,this._query)}}class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,gt._jsonSchema))return new gt(e,r||null,new _e(Ye.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:on("string",gt._jsonSchemaVersion),referencePath:on("string")};class fi extends pn{constructor(e,n,r){super(e,n,Bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function Nh(t,e,...n){if(t=ct(t),K1("collection","path",e),t instanceof Xd){const r=Ye.fromString(e,...n);return nC(r),new fi(t,null,r)}{if(!(t instanceof gt||t instanceof fi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return nC(r),new fi(t.firestore,null,r)}}function EG(t,e){if(t=Xe(t,Xd),K1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pn(t,null,(function(r){return new Uo(Ye.emptyPath(),r)})(e))}function Kn(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Vy.newId()),K1("doc","path",e),t instanceof Xd){const r=Ye.fromString(e,...n);return tC(r),new gt(t,null,new _e(r))}{if(!(t instanceof gt||t instanceof fi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return tC(r),new gt(t.firestore,t instanceof fi?t.converter:null,new _e(r))}}function TG(t,e){return t=ct(t),e=ct(e),(t instanceof gt||t instanceof fi)&&(e instanceof gt||e instanceof fi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function BS(t,e){return t=ct(t),e=ct(e),t instanceof pn&&e instanceof pn&&t.firestore===e.firestore&&Wd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="AsyncQueue";class gR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xS(this,"async_queue_retry"),this._c=()=>{const r=cg();r&&he(mR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Sn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!es(e))throw e;he(mR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xt("INTERNAL UNHANDLED ERROR: ",yR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=IS.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Te(47125,{Pc:yR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=-1;class _t extends Xd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gR(e),this._firestoreClient=void 0,await e}}}function IG(t,e,n){n||(n=Hh);const r=Vd(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(di(o,e))return i;throw new ce(ee.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ce(ee.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H$)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&xu(e.host)&&M1(e.host),r.initialize({options:e,instanceIdentifier:n})}function $F(t,e){const n=typeof t=="object"?t:IV(),r=typeof t=="string"?t:e||Hh,i=Vd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=XU("firestore");o&&VF(i,...o)}return i}function Bt(t){if(t._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FF(t),t._firestoreClient}function FF(t){const e=t._freezeSettings(),n=xG(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}function AG(t,e){Ar("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return BF(t,Xa.provider,{build:r=>new LS(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function PG(t){Ar("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();BF(t,Xa.provider,{build:n=>new PF(n,e.cacheSizeBytes)})}function BF(t,e,n){if((t=Xe(t,_t))._firestoreClient||t._terminated)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},FF(t)}function OG(t){if(t._initialized&&!t._terminated)throw new ce(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sn;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!qi.v())return Promise.resolve();const i=r+Z$;await qi.delete(i)})(vS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function CG(t){return(function(n){const r=new Sn;return n.asyncQueue.enqueueAndForget((async()=>z7(await FS(n),r))),r.promise})(Bt(t=Xe(t,_t)))}function RG(t){return sG(Bt(t=Xe(t,_t)))}function kG(t){return uG(Bt(t=Xe(t,_t)))}function NG(t){return f5(t.app,"firestore",t._databaseId.database),t._delete()}function pT(t,e){const n=Bt(t=Xe(t,_t)),r=new LF;return gG(n,t._databaseId,e,r),r}function UF(t,e){return yG(Bt(t=Xe(t,_t)),e).then((n=>n?new pn(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rr(zt.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rr(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,rr._jsonSchema))return rr.fromBase64String(e.bytes)}}rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:on("string",rr._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function DG(){return new Iu(qE)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:on("string",hi._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ir(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:on("string",Ir._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=/^__.*__$/;class jG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class qF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:t})}}class iv{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new iv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zF(this.dataSource)&&MG.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}createContext(e,n,r,i=!1){return new iv({dataSource:e,methodName:n,targetDoc:r,path:Mt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new VG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ov(t,e,n,r,i,o={}){const a=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);KS("Data must be an object, but it was:",a,r);const u=HF(r,a);let c,f;if(o.merge)c=new or(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const y=Do(e,p,n);if(!a.contains(y))throw new ce(ee.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);QF(d,y)||d.push(y)}c=new or(d),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new jG(new Tn(u),c,f)}class Jd extends is{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function WF(t,e,n){return new iv({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class US extends is{_toFieldTransform(e){return new Hd(e.path,new ac)}isEqual(e){return e instanceof US}}class qS extends is{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=WF(this,e,!0),r=this.Ac.map((o=>Pu(o,n))),i=new cu(r);return new Hd(e.path,i)}isEqual(e){return e instanceof qS&&di(this.Ac,e.Ac)}}class zS extends is{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=WF(this,e,!0),r=this.Ac.map((o=>Pu(o,n))),i=new fu(r);return new Hd(e.path,i)}isEqual(e){return e instanceof zS&&di(this.Ac,e.Ac)}}class WS extends is{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new sc(e.serializer,p$(e.serializer,this.Vc));return new Hd(e.path,n)}isEqual(e){return e instanceof WS&&this.Vc===e.Vc}}function GS(t,e,n,r){const i=t.createContext(1,e,n);KS("Data must be an object, but it was:",i,r);const o=[],a=Tn.empty();ts(r,((c,f)=>{const d=QS(e,c,n);f=ct(f);const p=i.childContextForFieldPath(d);if(f instanceof Jd)o.push(d);else{const y=Pu(f,p);y!=null&&(o.push(d),a.set(d,y))}}));const u=new or(o);return new qF(a,u,i.fieldTransforms)}function HS(t,e,n,r,i,o){const a=t.createContext(1,e,n),u=[Do(e,r,n)],c=[i];if(o.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(Do(e,o[y])),c.push(o[y+1]);const f=[],d=Tn.empty();for(let y=u.length-1;y>=0;--y)if(!QF(f,u[y])){const v=u[y];let E=c[y];E=ct(E);const b=a.childContextForFieldPath(v);if(E instanceof Jd)f.push(v);else{const w=Pu(E,b);w!=null&&(f.push(v),d.set(v,w))}}const p=new or(f);return new qF(d,p,a.fieldTransforms)}function GF(t,e,n,r=!1){return Pu(n,t.createContext(r?4:3,e))}function Pu(t,e){if(KF(t=ct(t)))return KS("Unsupported field value:",e,t),HF(t,e);if(t instanceof is)return(function(r,i){if(!zF(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let a=0;for(const u of r){let c=Pu(u,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dt.fromDate(r);return{timestampValue:uc(i.serializer,o)}}if(r instanceof dt){const o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,o)}}if(r instanceof hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:A$(i.serializer,r._byteString)};if(r instanceof gt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ir)return(function(a,u){const c=a instanceof Ir?a.toArray():a;return{mapValue:{fields:{[tS]:{stringValue:nS},[rc]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw u.createError("VectorValues must only contain numeric values.");return aS(u.serializer,d)}))}}}}}})(r,i);if(L$(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Ly(r)}`)})(t,e)}function HF(t,e){const n={};return BL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,((r,i)=>{const o=Pu(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function KF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof hi||t instanceof rr||t instanceof gt||t instanceof is||t instanceof Ir||L$(t))}function KS(t,e,n){if(!KF(n)||!xL(n)){const r=Ly(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Do(t,e,n){if((e=ct(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return QS(t,e);throw Dg("Field path arguments must be of type string or ",t,!1,void 0,n)}const LG=new RegExp("[~\\*/\\[\\]]");function QS(t,e,n){if(e.search(LG)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dg(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new ce(ee.INVALID_ARGUMENT,u+t+c)}function QF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{convertValue(e,n="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[rc].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new Ir(n)}convertGeoPoint(e){return new hi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gh(e));default:return null}}convertTimestamp(e){const n=ko(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Ce(V$(r),9688,{name:e});const i=new Ga(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||Xt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends YS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(){return new Jd("deleteField")}function Zd(){return new US("serverTimestamp")}function FG(...t){return new qS("arrayUnion",t)}function BG(...t){return new zS("arrayRemove",t)}function UG(t){return new WS("increment",t)}function qG(t){return new Ir(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(t){const e=Bt(Xe(t.firestore,_t)),n=e._onlineComponents?.datastore.serializer;return n===void 0?null:Qy(n,Wn(t._query)).ft}function WG(t,e){const n=FL(e,((o,a)=>new b$(a,o.aggregateType,o._internalFieldPath))),r=Bt(Xe(t.firestore,_t)),i=r._onlineComponents?.datastore.serializer;return i===void 0?null:N$(i,o$(t._query),n,!0).request}const vR="@firebase/firestore",_R="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class YF{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Tn({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Do("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GG extends Zh{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XS{}class Qc extends XS{}function JS(t,e,...n){let r=[];e instanceof XS&&r.push(e),r=r.concat(n),(function(o){const a=o.filter((c=>c instanceof Ou)).length,u=o.filter((c=>c instanceof Yc)).length;if(a>1||a>0&&u>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Yc extends Qc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yc(e,n,r)}_apply(e){const n=this._parse(e);return t4(e._query,n),new pn(e.firestore,e.converter,eT(e._query,n))}_parse(e){const n=Au(e.firestore);return(function(o,a,u,c,f,d,p){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bR(p,d);const E=[];for(const b of p)E.push(wR(c,o,b));y={arrayValue:{values:E}}}else y=wR(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bR(p,d),y=GF(u,a,p,d==="in"||d==="not-in");return tt.create(f,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function HG(t,e,n){const r=e,i=Do("where",t);return Yc._create(i,r,n)}class Ou extends XS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ou(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let a=i;const u=o.getFlattenedFilters();for(const c of u)t4(a,c),a=eT(a,c)})(e._query,n),new pn(e.firestore,e.converter,eT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KG(...t){return t.forEach((e=>n4("or",e))),Ou._create("or",t)}function QG(...t){return t.forEach((e=>n4("and",e))),Ou._create("and",t)}class av extends Qc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new av(e,n)}_apply(e){const n=(function(i,o,a){if(i.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yh(o,a)})(e._query,this._field,this._direction);return new pn(e.firestore,e.converter,Y8(e._query,n))}}function JF(t,e="asc"){const n=e,r=Do("orderBy",t);return av._create(r,n)}class ep extends Qc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ep(e,n,r)}_apply(e){return new pn(e.firestore,e.converter,Sg(e._query,this._limit,this._limitType))}}function ZF(t){return EL("limit",t),ep._create("limit",t,"F")}function YG(t){return EL("limitToLast",t),ep._create("limitToLast",t,"L")}class tp extends Qc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new tp(e,n,r)}_apply(e){const n=e4(e,this.type,this._docOrFields,this._inclusive);return new pn(e.firestore,e.converter,X8(e._query,n))}}function XG(...t){return tp._create("startAt",t,!0)}function JG(...t){return tp._create("startAfter",t,!1)}class np extends Qc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new np(e,n,r)}_apply(e){const n=e4(e,this.type,this._docOrFields,this._inclusive);return new pn(e.firestore,e.converter,J8(e._query,n))}}function ZG(...t){return np._create("endBefore",t,!1)}function eH(...t){return np._create("endAt",t,!0)}function e4(t,e,n,r){if(n[0]=ct(n[0]),n[0]instanceof Zh)return(function(o,a,u,c,f){if(!c)throw new ce(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const d=[];for(const p of Fl(o))if(p.field.isKeyField())d.push(uu(a,c.key));else{const y=c.data.field(p.field);if(qy(y))throw new ce(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const v=p.field.canonicalString();throw new ce(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(y)}return new Qa(d,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Au(t.firestore);return(function(a,u,c,f,d,p){const y=a.explicitOrderBy;if(d.length>y.length)throw new ce(ee.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<d.length;E++){const b=d[E];if(y[E].field.isKeyField()){if(typeof b!="string")throw new ce(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof b}`);if(!iS(a)&&b.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${b}' contains a slash.`);const w=a.path.child(Ye.fromString(b));if(!_e.isDocumentKey(w))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const A=new _e(w);v.push(uu(u,A))}else{const w=GF(c,f,b);v.push(w)}}return new Qa(v,p)})(t._query,t.firestore._databaseId,i,e,n,r)}}function wR(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iS(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!_e.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uu(t,new _e(r))}if(n instanceof gt)return uu(t,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ly(n)}.`)}function bR(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t4(t,e){const n=(function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function n4(t,e){if(!(e instanceof Yc||e instanceof Ou))throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function sv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ZS extends YS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){return new mc("sum",Do("sum",t))}function nH(t){return new mc("avg",Do("average",t))}function r4(){return new mc("count")}function rH(t,e){return t instanceof mc&&e instanceof mc&&t.aggregateType===e.aggregateType&&t._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function iH(t,e){return BS(t.query,e.query)&&di(t.data(),e.data())}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(t){return i4(t,{count:r4()})}function i4(t,e){const n=Xe(t.firestore,_t),r=Bt(n),i=FL(e,((o,a)=>new b$(a,o.aggregateType,o._internalFieldPath)));return hG(r,t._query,i).then((o=>(function(u,c,f){const d=new os(u);return new YF(c,d,f)})(n,t,o)))}class aH{constructor(e){this.kind="memory",this._onlineComponentProvider=Xa.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new VS(void 0)}}toJSON(){return{kind:this.kind}}}class sH{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=o4(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class uH{constructor(){this.kind="memoryEager",this._offlineComponentProvider=dc.provider}toJSON(){return{kind:this.kind}}}class lH{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new VS(e)}}toJSON(){return{kind:this.kind}}}function cH(){return new uH}function fH(t){return new lH(t?.cacheSizeBytes)}function hH(t){return new aH(t)}function dH(t){return new sH(t)}class pH{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Xa.provider,this._offlineComponentProvider={build:n=>new LS(n,e?.cacheSizeBytes,this.forceOwnership)}}}class mH{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Xa.provider,this._offlineComponentProvider={build:n=>new PF(n,e?.cacheSizeBytes)}}}function o4(t){return new pH(t?.forceOwnership)}function gH(){return new mH}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="NOT SUPPORTED";class bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ur extends Zh{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Do("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function yH(t,e,n){if(Tu(e,ur._jsonSchema)){if(e.bundle===a4)throw new ce(ee.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Su(t._databaseId),i=DF(e.bundle,r),o=i.t(),a=new RS(i.getMetadata(),r);for(const d of o)a.o(d);const u=a.documents;if(u.length!==1)throw new ce(ee.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${u.length} documents.`);const c=Ky(r,u[0].document),f=new _e(Ye.fromString(e.bundleName));return new ur(t,new ZS(t),f,c,new bo(!1,!1),n||null)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:on("string",ur._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Dh extends ur{data(e={}){return super.data(e)}}class lr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Dh(this._firestore,this._userDataWriter,r.key,r,new bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((u=>{const c=new Dh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bo(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new Dh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bo(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),d=a.indexOf(u.doc.key)),{type:_H(u.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vH(t,e,n){if(Tu(e,lr._jsonSchema)){if(e.bundle===a4)throw new ce(ee.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Su(t._databaseId),i=DF(e.bundle,r),o=i.t(),a=new RS(i.getMetadata(),r);for(const y of o)a.o(y);if(a.queries.length!==1)throw new ce(ee.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${a.queries.length} queries.`);const u=Yy(a.queries[0].bundledQuery),c=a.documents;let f=new nu;c.map((y=>{const v=Ky(r,y.document);f=f.add(v)}));const d=gu.fromInitialDocuments(u,f,We(),!1,!1),p=new pn(t,n||null,u);return new lr(t,new ZS(t),p,d)}}function _H(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}function wH(t,e){return t instanceof ur&&e instanceof ur?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lr&&e instanceof lr&&t._firestore===e._firestore&&BS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr._jsonSchemaVersion="firestore/querySnapshot/1.0",lr._jsonSchema={type:on("string",lr._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};const bH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Au(e)}set(e,n,r){this._verifyNotCommitted();const i=ja(e,this._firestore),o=sv(i.converter,n,r),a=ov(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,$t.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=ja(e,this._firestore);let a;return a=typeof(n=ct(n))=="string"||n instanceof Iu?HS(this._dataReader,"WriteBatch.update",o._key,n,r,i):GS(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,$t.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ja(e,this._firestore);return this._mutations=this._mutations.concat(new qc(n._key,$t.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ja(t,e){if((t=ct(t)).firestore!==e)throw new ce(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Au(e)}get(e){const n=ja(e,this._firestore),r=new ZS(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Te(24041);const o=i[0];if(o.isFoundDocument())return new Zh(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Zh(this._firestore,r,n._key,null,n.converter);throw Te(18433,{doc:o})}))}set(e,n,r){const i=ja(e,this._firestore),o=sv(i.converter,n,r),a=ov(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const o=ja(e,this._firestore);let a;return a=typeof(n=ct(n))=="string"||n instanceof Iu?HS(this._dataReader,"Transaction.update",o._key,n,r,i):GS(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,a),this}delete(e){const n=ja(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4 extends xH{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ja(e,this._firestore),r=new os(this._firestore);return super.get(e).then((i=>new ur(this._firestore,r,n._key,i._document,new bo(!1,!1),n.converter)))}}function EH(t,e,n){t=Xe(t,_t);const r={...bH,...n};(function(a){if(a.maxAttempts<1)throw new ce(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=Bt(t);return mG(i,(o=>e(new u4(t,o))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){t=Xe(t,gt);const e=Xe(t.firestore,_t),n=Bt(e);return kF(n,t._key).then((r=>eI(e,t,r)))}function TH(t){t=Xe(t,gt);const e=Xe(t.firestore,_t),n=Bt(e),r=new os(e);return cG(n,t._key).then((i=>new ur(e,r,t._key,i,new bo(i!==null&&i.hasLocalMutations,!0),t.converter)))}function SH(t){t=Xe(t,gt);const e=Xe(t.firestore,_t),n=Bt(e);return kF(n,t._key,{source:"server"}).then((r=>eI(e,t,r)))}function IH(t){t=Xe(t,pn);const e=Xe(t.firestore,_t),n=Bt(e),r=new os(e);return XF(t._query),NF(n,t._query).then((i=>new lr(e,r,t,i)))}function AH(t){t=Xe(t,pn);const e=Xe(t.firestore,_t),n=Bt(e),r=new os(e);return fG(n,t._query).then((i=>new lr(e,r,t,i)))}function PH(t){t=Xe(t,pn);const e=Xe(t.firestore,_t),n=Bt(e),r=new os(e);return NF(n,t._query,{source:"server"}).then((i=>new lr(e,r,t,i)))}function $i(t,e,n){t=Xe(t,gt);const r=Xe(t.firestore,_t),i=sv(t.converter,e,n),o=Au(r);return Xc(r,[ov(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$t.none())])}function OH(t,e,n,...r){t=Xe(t,gt);const i=Xe(t.firestore,_t),o=Au(i);let a;return a=typeof(e=ct(e))=="string"||e instanceof Iu?HS(o,"updateDoc",t._key,e,n,r):GS(o,"updateDoc",t._key,e),Xc(i,[a.toMutation(t._key,$t.exists(!0))])}function CH(t){return Xc(Xe(t.firestore,_t),[new qc(t._key,$t.none())])}function c4(t,e){const n=Xe(t.firestore,_t),r=Kn(t),i=sv(t.converter,e),o=Au(t.firestore);return Xc(n,[ov(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$t.exists(!1))]).then((()=>r))}function Mo(t,...e){t=ct(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ul(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ul(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,a,u;if(t instanceof gt)a=Xe(t.firestore,_t),u=Bc(t._key.path),o={next:f=>{e[r]&&e[r](eI(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Xe(t,pn);a=Xe(f.firestore,_t),u=f._query;const d=new os(a);o={next:p=>{e[r]&&e[r](new lr(a,d,f,p))},error:e[r+1],complete:e[r+2]},XF(t._query)}const c=Bt(a);return lG(c,u,i,o)}function RH(t,e,...n){const r=ct(t),i=(function(c){const f={bundle:"",bundleName:"",bundleSource:""},d=["bundle","bundleName","bundleSource"];for(const p of d){if(!(p in c)){f.error=`snapshotJson missing required field: ${p}`;break}const y=c[p];if(typeof y!="string"){f.error=`snapshotJson field '${p}' must be a string.`;break}if(y.length===0){f.error=`snapshotJson field '${p}' cannot be an empty string.`;break}p==="bundle"?f.bundle=y:p==="bundleName"?f.bundleName=y:p==="bundleSource"&&(f.bundleSource=y)}return f})(e);if(i.error)throw new ce(ee.INVALID_ARGUMENT,i.error);let o,a=0;if(typeof n[a]!="object"||Ul(n[a])||(o=n[a++]),i.bundleSource==="QuerySnapshot"){let u=null;if(typeof n[a]=="object"&&Ul(n[a])){const c=n[a++];u={next:c.next,error:c.error,complete:c.complete}}else u={next:n[a++],error:n[a++],complete:n[a++]};return(function(f,d,p,y,v){let E,b=!1;return pT(f,d.bundle).then((()=>UF(f,d.bundleName))).then((A=>{A&&!b&&(v&&A.withConverter(v),E=Mo(A,p||{},y))})).catch((A=>(y.error&&y.error(A),()=>{}))),()=>{b||(b=!0,E&&E())}})(r,i,o,u,n[a])}if(i.bundleSource==="DocumentSnapshot"){let u=null;if(typeof n[a]=="object"&&Ul(n[a])){const c=n[a++];u={next:c.next,error:c.error,complete:c.complete}}else u={next:n[a++],error:n[a++],complete:n[a++]};return(function(f,d,p,y,v){let E,b=!1;return pT(f,d.bundle).then((()=>{if(!b){const A=new gt(f,v||null,_e.fromPath(d.bundleName));E=Mo(A,p||{},y)}})).catch((A=>(y.error&&y.error(A),()=>{}))),()=>{b||(b=!0,E&&E())}})(r,i,o,u,n[a])}throw new ce(ee.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function kH(t,e){t=Xe(t,_t);const n=Bt(t),r=Ul(e)?e:{next:e};return pG(n,r)}function Xc(t,e){const n=Bt(t);return dG(n,e)}function eI(t,e,n){const r=n.docs.get(e._key),i=new os(t);return new ur(t,i,e._key,r,new bo(n.hasPendingWrites,n.fromCache),e.converter)}function NH(t){return t=Xe(t,_t),Bt(t),new s4(t,(e=>Xc(t,e)))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t,e){t=Xe(t,_t);const n=Bt(t);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return Ar("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(o){const a=typeof o=="string"?(function(f){try{return JSON.parse(f)}catch(d){throw new ce(ee.INVALID_ARGUMENT,"Failed to parse JSON: "+d?.message)}})(o):o,u=[];if(Array.isArray(a.indexes))for(const c of a.indexes){const f=xR(c,"collectionGroup"),d=[];if(Array.isArray(c.fields))for(const p of c.fields){const y=xR(p,"fieldPath"),v=QS("setIndexConfiguration",y);p.arrayConfig==="CONTAINS"?d.push(new eu(v,2)):p.order==="ASCENDING"?d.push(new eu(v,0)):p.order==="DESCENDING"&&d.push(new eu(v,1))}u.push(new Xl(Xl.UNKNOWN_ID,f,d,Jl.empty()))}return u})(e);return vG(n,r)}function xR(t,e){if(typeof t[e]!="string")throw new ce(ee.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function MH(t){t=Xe(t,_t);const e=ER.get(t);if(e)return e;if(Bt(t)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new f4(t);return ER.set(t,r),r}function jH(t){h4(t,!0)}function VH(t){h4(t,!1)}function LH(t){const e=Bt(t._firestore);wG(e).then((n=>he("deleting all persistent cache indexes succeeded"))).catch((n=>Ar("deleting all persistent cache indexes failed",n)))}function h4(t,e){const n=Bt(t._firestore);_G(n,e).then((r=>he(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>Ar(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const ER=new WeakMap;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return tI.instance.onExistenceFilterMismatch(e)}}class tI{constructor(){this.i=new Map}static get instance(){return Vm||(Vm=new tI,fW(Vm)),Vm}u(e){this.i.forEach((n=>n(e)))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.i;return r.set(n,e),()=>r.delete(n)}}let Vm=null;(function(e,n=!0){zz(Lc),Hl(new ou("firestore",((r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new _t(new Kz(r.getProvider("auth-internal")),new Xz(a,r.getProvider("app-check-internal")),L8(a,i),a);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Fa(vR,_R,e),Fa(vR,_R,"esm2020")})();const FH=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:YS,AggregateField:mc,AggregateQuerySnapshot:YF,Bytes:rr,CACHE_SIZE_UNLIMITED:SG,CollectionReference:fi,DocumentReference:gt,DocumentSnapshot:ur,FieldPath:Iu,FieldValue:is,Firestore:_t,FirestoreError:ce,GeoPoint:hi,LoadBundleTask:LF,PersistentCacheIndexManager:f4,Query:pn,QueryCompositeFilterConstraint:Ou,QueryConstraint:Qc,QueryDocumentSnapshot:Dh,QueryEndAtConstraint:np,QueryFieldFilterConstraint:Yc,QueryLimitConstraint:ep,QueryOrderByConstraint:av,QuerySnapshot:lr,QueryStartAtConstraint:tp,SnapshotMetadata:bo,Timestamp:dt,Transaction:u4,VectorValue:Ir,WriteBatch:s4,_AutoId:Vy,_ByteString:zt,_DatabaseId:Ga,_DocumentKey:_e,_EmptyAppCheckTokenProvider:Jz,_EmptyAuthCredentialsProvider:_L,_FieldPath:Mt,_TestingHooks:$H,_cast:Xe,_debugAssert:Gz,_internalAggregationQueryToProtoRunAggregationQueryRequest:WG,_internalQueryToProtoQueryTarget:zG,_isBase64Available:M8,_logWarn:Ar,_validateIsNotUsedTogether:bL,addDoc:c4,aggregateFieldEqual:rH,aggregateQuerySnapshotEqual:iH,and:QG,arrayRemove:BG,arrayUnion:FG,average:nH,clearIndexedDbPersistence:OG,collection:Nh,collectionGroup:EG,connectFirestoreEmulator:VF,count:r4,deleteAllPersistentCacheIndexes:LH,deleteDoc:CH,deleteField:$G,disableNetwork:kG,disablePersistentCacheIndexAutoCreation:VH,doc:Kn,documentId:DG,documentSnapshotFromJSON:yH,enableIndexedDbPersistence:AG,enableMultiTabIndexedDbPersistence:PG,enableNetwork:RG,enablePersistentCacheIndexAutoCreation:jH,endAt:eH,endBefore:ZG,ensureFirestoreConfigured:Bt,executeWrite:Xc,getAggregateFromServer:i4,getCountFromServer:oH,getDoc:l4,getDocFromCache:TH,getDocFromServer:SH,getDocs:IH,getDocsFromCache:AH,getDocsFromServer:PH,getFirestore:$F,getPersistentCacheIndexManager:MH,increment:UG,initializeFirestore:IG,limit:ZF,limitToLast:YG,loadBundle:pT,memoryEagerGarbageCollector:cH,memoryLocalCache:hH,memoryLruGarbageCollector:fH,namedQuery:UF,onSnapshot:Mo,onSnapshotResume:RH,onSnapshotsInSync:kH,or:KG,orderBy:JF,persistentLocalCache:dH,persistentMultipleTabManager:gH,persistentSingleTabManager:o4,query:JS,queryEqual:BS,querySnapshotFromJSON:vH,refEqual:TG,runTransaction:EH,serverTimestamp:Zd,setDoc:$i,setIndexConfiguration:DH,setLogLevel:Wz,snapshotEqual:wH,startAfter:JG,startAt:XG,sum:tH,terminate:NG,updateDoc:OH,vector:qG,waitForPendingWrites:CG,where:HG,writeBatch:NH},Symbol.toStringTag,{value:"Module"})),BH={apiKey:"AIzaSyDH0caANeolPVlxtT22o3HNaU9zOuTQEak",authDomain:"fitnesschatbot-mvp.firebaseapp.com",projectId:"fitnesschatbot-mvp",storageBucket:"fitnesschatbot-mvp.firebasestorage.app",messagingSenderId:"106454326943",appId:"1:106454326943:web:51ffdc4d63d06a73684caa"},d4=SV(BH),Io=Fz(d4),En=$F(d4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TR=t=>{const e=qH(t);return e.charAt(0).toUpperCase()+e.slice(1)},p4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=ne.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...u},c)=>ne.createElement("svg",{ref:c,...zH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p4("lucide",i),...u},[...a.map(([f,d])=>ne.createElement(f,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=ne.forwardRef(({className:r,...i},o)=>ne.createElement(WH,{ref:o,iconNode:e,className:p4(`lucide-${UH(TR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TR(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],HH=Ot("activity",GH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QH=Ot("arrow-left",KH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],XH=Ot("book-open",YH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ZH=Ot("bot",JH);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tK=Ot("calendar",eK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rK=Ot("chevron-left",nK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],m4=Ot("clock",iK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],g4=Ot("dumbbell",oK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],y4=Ot("ellipsis-vertical",aK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],nI=Ot("flame",sK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],lK=Ot("list",uK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],fK=Ot("log-out",cK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],dK=Ot("message-circle",hK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],mK=Ot("pause",pK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],yK=Ot("pin",gK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],_K=Ot("play",vK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],v4=Ot("plus",wK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],_4=Ot("repeat",bK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EK=Ot("rotate-ccw",xK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],SK=Ot("search",TK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AK=Ot("send",IK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],SR=Ot("target",PK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],CK=Ot("trash-2",OK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],IR=Ot("trending-up",RK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],w4=Ot("user",kK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DK=Ot("x",NK);async function MK(t){await $i(Kn(En,"users",t.uid),{uid:t.uid,email:t.email,name:t.displayName,createdAt:Zd()})}function jK(){const[t,e]=ne.useState(!0),[n,r]=ne.useState(""),[i,o]=ne.useState(""),[a,u]=ne.useState(""),[c,f]=ne.useState(""),[d,p]=ne.useState(!1),y=async v=>{if(v.preventDefault(),!i||!a||!t&&!n){alert("Please fill all fields");return}if(!t&&a.length<9){alert("Password must be at least 9 characters");return}if(!t&&a!==c){alert("Passwords do not match");return}try{if(p(!0),t){if(!(await T9(Io,i,a)).user.emailVerified){alert(" "),await z1(Io);return}alert("Login successful")}else{const E=await E9(Io,i,a);await I9(E.user,{displayName:n}),await ZV(E.user),await MK(E.user),alert("!  "),e(!0),f("")}}catch(E){E.code==="auth/email-already-in-use"?alert(""):E.code==="auth/wrong-password"?alert(""):alert(E.message)}finally{p(!1)}};return j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 p-4",children:j.jsxs("div",{className:"glass-effect rounded-3xl shadow-2xl w-full max-w-md p-8 border border-white/20",children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-3xl mb-4 shadow-lg",children:j.jsx(w4,{className:"w-10 h-10 text-white"})}),j.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"FitPro"}),j.jsx("p",{className:"text-gray-600",children:"Your personal fitness companion"})]}),j.jsxs("div",{className:"flex gap-2 mb-6",children:[j.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-3 rounded-xl ${t?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md":"bg-white/60 hover:bg-white/80"}`,children:"Login"}),j.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-3 rounded-xl ${t?"bg-white/60 hover:bg-white/80":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md"}`,children:"Sign Up"})]}),j.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!t&&j.jsx("input",{type:"text",placeholder:"Name",value:n,onChange:v=>r(v.target.value),className:"w-full py-3 px-4 border rounded-xl",required:!0}),j.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:v=>o(v.target.value),className:"w-full py-3 px-4 border rounded-xl",required:!0}),j.jsx("input",{type:"password",placeholder:t?"Password":"Password (Enter at least 9 characters)",value:a,onChange:v=>u(v.target.value),className:"w-full py-3 px-4 border rounded-xl",minLength:t?void 0:9,required:!0}),!t&&j.jsx("input",{type:"password",placeholder:"Confirm Password",value:c,onChange:v=>f(v.target.value),className:"w-full py-3 px-4 border rounded-xl",required:!0}),j.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold shadow-lg hover:opacity-90 disabled:opacity-50 transition-all mt-4",children:d?"Processing...":t?"Login":"Sign Up"})]})]})})}const uv=ne.createContext({user:null,loading:!0});function VK({children:t}){const[e,n]=ne.useState(null),[r,i]=ne.useState(!0);return ne.useEffect(()=>{const o=eL(Io,async a=>{n(a),i(!1)});return()=>o()},[]),j.jsx(uv.Provider,{value:{user:e,loading:r},children:t})}function LK({availableExercises:t,onStartExercise:e,onViewDetail:n}){const{user:r}=ne.useContext(uv),[i,o]=ne.useState([]),[a,u]=ne.useState(null),[c,f]=ne.useState(null),[d,p]=ne.useState(null);ne.useEffect(()=>{if(!r)return;const A=Mo(Kn(En,"userPlans",r.uid),C=>{if(C.exists()){const R=C.data();o(R.plans||[]),u(R.activePlanId||null)}});return()=>A()},[r]);const y=async()=>{if(!r)return;const A=prompt("Enter name for your new Big Plan:");if(!A)return;const C={id:`plan_${Date.now()}`,name:A,difficulty:"Beginner",days:[]};await $i(Kn(En,"userPlans",r.uid),{plans:[...i,C]},{merge:!0})},v=async A=>{r&&(await $i(Kn(En,"userPlans",r.uid),{activePlanId:A},{merge:!0}),f(null))},E=async A=>{if(!r)return;const C=i.map(R=>R.id===A?{...R,isPinned:!R.isPinned}:R);await $i(Kn(En,"userPlans",r.uid),{plans:C},{merge:!0}),f(null)},b=async A=>{if(!r||!confirm("Delete this entire Big Plan?"))return;const C=i.filter($=>$.id!==A),R=a===A?null:a;await $i(Kn(En,"userPlans",r.uid),{plans:C,activePlanId:R},{merge:!0}),f(null)},w=A=>[...A].sort((C,R)=>{const $=C.id===a,P=R.id===a;return $&&!P?-1:!$&&P?1:C.isPinned&&!R.isPinned?-1:!C.isPinned&&R.isPinned?1:0});return j.jsxs("div",{className:"p-6",children:[j.jsxs("div",{className:"flex justify-between items-center mb-8",children:[j.jsxs("div",{children:[j.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"My Workout Collections"}),j.jsx("p",{className:"text-gray-600",children:"Create a container and set it as Active to let AI generate workouts"})]}),j.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 shadow-lg",children:[j.jsx(v4,{className:"w-5 h-5"}),"New Plan"]})]}),j.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:w(i).map(A=>{const C=a===A.id,R=A.isPinned;let $="";return C?$="#3b82f6":R&&($="#facc15"),j.jsx("div",{className:`relative bg-white rounded-2xl shadow-lg border-2 transition-all ${C?"ring-4 ring-blue-100 z-10":""}`,style:$?{borderColor:$}:{},children:j.jsxs("div",{className:"p-6",children:[j.jsxs("div",{className:"flex justify-between items-start mb-4",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-xl font-bold",children:A.name}),C&&j.jsxs("div",{className:"text-xs text-blue-600 font-bold flex items-center gap-1 mt-1",children:[j.jsx(SR,{className:"w-3 h-3"}),"Active for AI"]})]}),j.jsxs("div",{className:"relative",children:[j.jsx("button",{onClick:()=>f(c===A.id?null:A.id),className:"p-2 hover:bg-gray-100 rounded-lg",children:j.jsx(y4,{className:"w-5 h-5 text-gray-500"})}),c===A.id&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(null)}),j.jsx("div",{className:"absolute right-0 top-full mt-0.5 z-50",children:j.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-56 p-2 border border-gray-100 flex flex-col",children:[j.jsxs("button",{onClick:()=>v(A.id),className:"w-full flex items-center gap-3 p-2 hover:bg-gray-100 rounded-lg text-blue-700 transition-colors",children:[j.jsx(SR,{className:"w-4 h-4"}),j.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),j.jsxs("button",{onClick:()=>E(A.id),className:"w-full flex items-center gap-3 p-2 hover:bg-gray-100 rounded-lg text-yellow-700 transition-colors",children:[j.jsx(yK,{className:"w-4 h-4"}),j.jsx("span",{className:"text-sm font-medium",children:R?"Unpin":"Pin"})]}),j.jsxs("button",{onClick:()=>b(A.id),className:"w-full flex items-center gap-3 p-2 hover:bg-red-50 rounded-lg text-red-600 transition-colors",children:[j.jsx(CK,{className:"w-4 h-4"}),j.jsx("span",{className:"text-sm font-medium",children:"Delete"})]})]})})]})]})]}),j.jsx("p",{className:"text-sm text-gray-500 mb-3",children:A.days.length>0?`${A.days.length} Days of workouts`:"Empty Plan - Set Active to fill with AI"}),j.jsx("button",{onClick:()=>n?.(A.id),className:`\r
                    px-4 py-2 \r
                    bg-indigo-50 \r
                    text-indigo-700 \r
                    rounded-lg \r
                    font-medium \r
                    shadow-md\r
                    hover:bg-indigo-100 \r
                    hover:shadow-lg\r
                    active:shadow-sm\r
                    active:translate-y-0.5\r
                    transition\r
                  `,children:"View Detail"}),d===A.id&&A.days.map((P,k)=>j.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 rounded-xl border",children:[j.jsx("p",{className:"font-bold text-sm mb-2",children:P.day}),P.exercises.map((S,I)=>j.jsxs("div",{onClick:()=>e?.(S,A.name),className:"text-xs flex justify-between border-b py-2 last:border-0 cursor-pointer hover:bg-indigo-100 px-1 rounded transition-colors",children:[j.jsxs("div",{className:"flex flex-col",children:[j.jsx("span",{className:"font-bold",children:S.Title||S.name}),j.jsx("span",{className:"text-[10px] text-gray-500",children:S.BodyPart||S.bodyPart})]}),j.jsxs("span",{className:"font-medium text-indigo-600",children:[S.sets,"x",S.reps]})]},I))]},k))]})},A.id)})})]})}const $K="modulepreload",FK=function(t){return"/MVP_Fitness_ChatBot_V1.2/"+t},AR={},BK=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");i=a(n.map(f=>{if(f=FK(f),f in AR)return;AR[f]=!0;const d=f.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":$K,d||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),d)return new Promise((v,E)=>{y.addEventListener("load",v),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},UK="https://mvp-fitness-chatbot-v1.onrender.com/api/ai/chat",qK="https://mvp-fitness-chatbot-v1.onrender.com/api/ai/plan",mT={clean:t=>(t||"").toLowerCase().replace(/[^a-z0-9]/g,"").trim(),isMatch:(t,e)=>mT.clean(t)===mT.clean(e)};function zK({userName:t,availableExercises:e}){const{user:n,loading:r}=ne.useContext(uv),[i,o]=ne.useState([]),[a,u]=ne.useState([]),[c,f]=ne.useState(""),[d,p]=ne.useState(!0),y=d?i:a,v=d?o:u,[E,b]=ne.useState(null),[w,A]=ne.useState([]),[C,R]=ne.useState(0),[$,P]=ne.useState({age:"",weight:"",height:"",goal:"",injury:"",time:"",daysPerWeek:"",pref:""}),k=[`
What is your age?`,"What is your weight (kg)?","What is your height (cm)?","What is your fitness goal (e.g., lose weight, build muscle)?","Do you have any injuries? (Type 'none' if not)","How many minutes per day can you exercise?","How many workout days per week?","Additional Preference?"],S=ne.useRef(null);ne.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[y]),ne.useEffect(()=>{if(!n)return;(async()=>{const M=await l4(Kn(En,"chats",n.uid));if(M.exists()){const G=M.data();G.chatMessages&&o(G.chatMessages.map(K=>({...K,timestamp:new Date(K.timestamp)}))),G.planMessages&&u(G.planMessages.map(K=>({...K,timestamp:new Date(K.timestamp)})))}else o([{id:Date.now().toString(),text:`Hi ${t}!  I'm your AI fitness assistant.`,senderRole:"bot",senderName:"FitPro AI",timestamp:new Date}])})()},[n]),ne.useEffect(()=>{if(!n)return;const D=Mo(Kn(En,"userPlans",n.uid),async M=>{const G=M.data();if(!M.exists()||!G?.plans||G.plans.length===0){const re={id:`plan_${Date.now()}`,name:"MyPlan",difficulty:"Beginner",days:[]};await $i(Kn(En,"userPlans",n.uid),{plans:[re],activePlanId:re.id},{merge:!0});return}A(G.plans||[]);const K=G.plans.find(re=>re.id===G.activePlanId);b(K||null)});return()=>D()},[n]),ne.useEffect(()=>{let D="";d?D="Switched to Chat Mode.":E.days&&E.days.length>0?(D='Your plan is already created please switch to a blank plan!".',setTimeout(()=>{p(!0)},5e3)):E?E.days&&E.days.length>0?(D='Your plan is already created please switch to a blank plan!".',setTimeout(()=>{p(!0)},5e3)):D=`Plan Mode: Filling "${E.name}". ${k[0]}`:D=" Set an active plan first.",N(D)},[d]);const I=D=>{v(M=>{const G=[...M,{id:Date.now().toString(),text:D,senderRole:"bot",senderId:"bot",senderName:"FitPro AI",timestamp:new Date}];return F(d?G:i,d?a:G),G})},N=D=>{v(M=>[...M,{id:Date.now().toString(),text:D,senderRole:"system",senderId:"system",senderName:"System",timestamp:new Date}])},F=async(D,M)=>{n&&await $i(Kn(En,"chats",n.uid),{chatMessages:D.map(G=>({...G,timestamp:G.timestamp.getTime()})),planMessages:M.map(G=>({...G,timestamp:G.timestamp.getTime()})),updatedAt:Zd()},{merge:!0})},V=async()=>{if(r||!n||!c.trim())return;const D=c.trim();if(!d&&E&&E.days.length===0){let K=!0,re="";switch(C){case 0:const ue=parseInt(D);(isNaN(ue)||ue<10||ue>100)&&(K=!1,re="Please enter a valid age (10-100).");break;case 1:case 2:const X=parseFloat(D);(isNaN(X)||X<35||X>275)&&(K=!1,re="Please enter a valid (35 - 275).");break;case 3:case 7:D.length<3&&(K=!1,re="Please be a bit more descriptive.");break;case 5:const se=parseInt(D);(isNaN(se)||se<5||se>300)&&(K=!1,re="Please enter minutes between 5 and 300.");break;case 6:const ae=parseInt(D);(isNaN(ae)||ae<1||ae>7)&&(K=!1,re="Please enter days per week between 1 and 7.");break}if(!K){I(` ${re}`);return}}const M={id:crypto.randomUUID(),text:D,senderRole:"user",senderId:n.uid,senderName:n.displayName||"User",timestamp:new Date},G=[...y,M];v(G),f(""),F(d?G:i,d?a:G);try{if(d){const re=await(await fetch(UK,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:G.map(ue=>({role:ue.senderRole==="user"?"user":"assistant",content:ue.text}))})})).json();I(re.reply)}else if(E&&E.days.length===0){const re={...$,[["age","weight","height","goal","injury","time","daysPerWeek","pref"][C]]:D};if(P(re),C<k.length-1)I(k[C+1]),R(C+1);else{I("Generating your custom plan using our exercise database... ");const X=await(await fetch(qK,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)})).json(),se=X.plan.days.flatMap(Ee=>Ee.exercises.map(Me=>Me.name||Me.Title)),ae=Array.from(new Set(se)),{collection:q,query:Q,where:ye,getDocs:Se}=await BK(async()=>{const{collection:Ee,query:Me,where:fe,getDocs:Ze}=await Promise.resolve().then(()=>FH);return{collection:Ee,query:Me,where:fe,getDocs:Ze}},void 0),Ne=Q(q(En,"exercises"),ye("Title","in",ae)),He=(await Se(Ne)).docs.map(Ee=>({id:Ee.id,...Ee.data()})),$e=X.plan.days.map(Ee=>({...Ee,exercises:Ee.exercises.map(Me=>{const fe=Me.name||Me.Title,Ze=He.find(Ge=>mT.isMatch(Ge.Title,fe));return Ze?{...Ze,sets:Me.sets,reps:Me.reps}:Me})})),me=w.map(Ee=>Ee.id===E.id?{...Ee,days:$e}:Ee);await $i(Kn(En,"userPlans",n.uid),{plans:me},{merge:!0}),I(`Success! "${E.name}" is now updated with full exercise details and videos.`),R(0)}}}catch{I("I'm sorry, I'm having trouble connecting to the server. Please try again.")}};return j.jsxs("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-white rounded-2xl shadow-xl overflow-hidden",children:[j.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex items-center gap-3 shrink-0",children:[j.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:j.jsx(ZH,{className:"w-7 h-7 text-indigo-600"})}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-bold",children:"FitPro AI Coach"}),j.jsx("p",{className:"text-sm text-indigo-100",children:"Your personalized fitness assistant"})]}),j.jsxs("div",{style:{marginLeft:"auto",textAlign:"center"},children:[j.jsx("p",{className:"text-xs mb-1",children:d?"Chat Mode":"Plan Mode"}),j.jsx("div",{style:{width:80,height:40,backgroundColor:"white",borderRadius:20,padding:5},children:j.jsx("button",{style:{width:"100%",height:"100%",background:"transparent",border:"none",cursor:"pointer"},onClick:()=>p(D=>!D),children:j.jsx("div",{style:{width:30,height:30,borderRadius:15,backgroundColor:d?"#4f46e5":"#9333ea",transform:d?"translateX(40px)":"translateX(0px)",transition:"transform 0.25s ease"}})})})]})]}),j.jsxs("div",{className:`flex-1 overflow-y-auto p-6 space-y-4 ${d?"bg-gray-50":"bg-indigo-50"}`,children:[y.map((D,M)=>j.jsx("div",{className:`flex ${D.senderRole==="user"?"justify-end":"justify-start"}`,children:j.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${D.senderRole==="user"?(d?"bg-indigo-600":"bg-blue-600")+" text-white":"bg-white shadow-md"}`,children:[D.senderRole==="bot"&&j.jsx("p",{className:"text-xs text-gray-400 mb-1",children:D.senderName}),j.jsx("p",{className:"text-sm whitespace-pre-line",children:D.text}),j.jsx("p",{className:"text-[10px] mt-2 opacity-50",children:D.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},`${D.id}-${M}`)),j.jsx("div",{ref:S})]}),j.jsx("div",{className:"p-4 bg-white border-t shrink-0",children:j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{value:c,onChange:D=>f(D.target.value),onKeyDown:D=>D.key==="Enter"&&V(),placeholder:d?"Ask me anything...":"Update your plan...",className:"flex-1 px-4 py-3 border rounded-full focus:ring-2 focus:ring-indigo-500"}),j.jsx("button",{onClick:V,className:"w-12 h-12 bg-indigo-600 text-white rounded-full flex items-center justify-center",children:j.jsx(AK,{className:"w-5 h-5"})})]})})]})}function b4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b4(t))&&(r&&(r+=" "),r+=e);return r}var k0,PR;function cr(){if(PR)return k0;PR=1;var t=Array.isArray;return k0=t,k0}var N0,OR;function x4(){if(OR)return N0;OR=1;var t=typeof Am=="object"&&Am&&Am.Object===Object&&Am;return N0=t,N0}var D0,CR;function Yi(){if(CR)return D0;CR=1;var t=x4(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return D0=n,D0}var M0,RR;function rp(){if(RR)return M0;RR=1;var t=Yi(),e=t.Symbol;return M0=e,M0}var j0,kR;function WK(){if(kR)return j0;kR=1;var t=rp(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var u=n.call(a,i),c=a[i];try{a[i]=void 0;var f=!0}catch{}var d=r.call(a);return f&&(u?a[i]=c:delete a[i]),d}return j0=o,j0}var V0,NR;function GK(){if(NR)return V0;NR=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return V0=n,V0}var L0,DR;function Go(){if(DR)return L0;DR=1;var t=rp(),e=WK(),n=GK(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):n(u)}return L0=a,L0}var $0,MR;function Ho(){if(MR)return $0;MR=1;function t(e){return e!=null&&typeof e=="object"}return $0=t,$0}var F0,jR;function Jc(){if(jR)return F0;jR=1;var t=Go(),e=Ho(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return F0=r,F0}var B0,VR;function rI(){if(VR)return B0;VR=1;var t=cr(),e=Jc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return B0=i,B0}var U0,LR;function as(){if(LR)return U0;LR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return U0=t,U0}var q0,$R;function iI(){if($R)return q0;$R=1;var t=Go(),e=as(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==o}return q0=a,q0}var z0,FR;function HK(){if(FR)return z0;FR=1;var t=Yi(),e=t["__core-js_shared__"];return z0=e,z0}var W0,BR;function KK(){if(BR)return W0;BR=1;var t=HK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return W0=n,W0}var G0,UR;function E4(){if(UR)return G0;UR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return G0=n,G0}var H0,qR;function QK(){if(qR)return H0;qR=1;var t=iI(),e=KK(),n=as(),r=E4(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,c=a.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var v=t(y)?d:o;return v.test(r(y))}return H0=p,H0}var K0,zR;function YK(){if(zR)return K0;zR=1;function t(e,n){return e?.[n]}return K0=t,K0}var Q0,WR;function Cu(){if(WR)return Q0;WR=1;var t=QK(),e=YK();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Q0=n,Q0}var Y0,GR;function lv(){if(GR)return Y0;GR=1;var t=Cu(),e=t(Object,"create");return Y0=e,Y0}var X0,HR;function XK(){if(HR)return X0;HR=1;var t=lv();function e(){this.__data__=t?t(null):{},this.size=0}return X0=e,X0}var J0,KR;function JK(){if(KR)return J0;KR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return J0=t,J0}var Z0,QR;function ZK(){if(QR)return Z0;QR=1;var t=lv(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var u=a[o];return u===e?void 0:u}return r.call(a,o)?a[o]:void 0}return Z0=i,Z0}var ew,YR;function eQ(){if(YR)return ew;YR=1;var t=lv(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return ew=r,ew}var tw,XR;function tQ(){if(XR)return tw;XR=1;var t=lv(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return tw=n,tw}var nw,JR;function nQ(){if(JR)return nw;JR=1;var t=XK(),e=JK(),n=ZK(),r=eQ(),i=tQ();function o(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var f=a[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,nw=o,nw}var rw,ZR;function rQ(){if(ZR)return rw;ZR=1;function t(){this.__data__=[],this.size=0}return rw=t,rw}var iw,ek;function oI(){if(ek)return iw;ek=1;function t(e,n){return e===n||e!==e&&n!==n}return iw=t,iw}var ow,tk;function cv(){if(tk)return ow;tk=1;var t=oI();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return ow=e,ow}var aw,nk;function iQ(){if(nk)return aw;nk=1;var t=cv(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var u=o.length-1;return a==u?o.pop():n.call(o,a,1),--this.size,!0}return aw=r,aw}var sw,rk;function oQ(){if(rk)return sw;rk=1;var t=cv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return sw=e,sw}var uw,ik;function aQ(){if(ik)return uw;ik=1;var t=cv();function e(n){return t(this.__data__,n)>-1}return uw=e,uw}var lw,ok;function sQ(){if(ok)return lw;ok=1;var t=cv();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return lw=e,lw}var cw,ak;function fv(){if(ak)return cw;ak=1;var t=rQ(),e=iQ(),n=oQ(),r=aQ(),i=sQ();function o(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var f=a[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,cw=o,cw}var fw,sk;function aI(){if(sk)return fw;sk=1;var t=Cu(),e=Yi(),n=t(e,"Map");return fw=n,fw}var hw,uk;function uQ(){if(uk)return hw;uk=1;var t=nQ(),e=fv(),n=aI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return hw=r,hw}var dw,lk;function lQ(){if(lk)return dw;lk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return dw=t,dw}var pw,ck;function hv(){if(ck)return pw;ck=1;var t=lQ();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return pw=e,pw}var mw,fk;function cQ(){if(fk)return mw;fk=1;var t=hv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return mw=e,mw}var gw,hk;function fQ(){if(hk)return gw;hk=1;var t=hv();function e(n){return t(this,n).get(n)}return gw=e,gw}var yw,dk;function hQ(){if(dk)return yw;dk=1;var t=hv();function e(n){return t(this,n).has(n)}return yw=e,yw}var vw,pk;function dQ(){if(pk)return vw;pk=1;var t=hv();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return vw=e,vw}var _w,mk;function sI(){if(mk)return _w;mk=1;var t=uQ(),e=cQ(),n=fQ(),r=hQ(),i=dQ();function o(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var f=a[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_w=o,_w}var ww,gk;function T4(){if(gk)return ww;gk=1;var t=sI(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,u=i?i.apply(this,a):a[0],c=o.cache;if(c.has(u))return c.get(u);var f=r.apply(this,a);return o.cache=c.set(u,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,ww=n,ww}var bw,yk;function pQ(){if(yk)return bw;yk=1;var t=T4(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return bw=n,bw}var xw,vk;function mQ(){if(vk)return xw;vk=1;var t=pQ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,u,c,f){o.push(c?f.replace(n,"$1"):u||a)}),o});return xw=r,xw}var Ew,_k;function uI(){if(_k)return Ew;_k=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Ew=t,Ew}var Tw,wk;function gQ(){if(wk)return Tw;wk=1;var t=rp(),e=uI(),n=cr(),r=Jc(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(u){if(typeof u=="string")return u;if(n(u))return e(u,a)+"";if(r(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Tw=a,Tw}var Sw,bk;function S4(){if(bk)return Sw;bk=1;var t=gQ();function e(n){return n==null?"":t(n)}return Sw=e,Sw}var Iw,xk;function I4(){if(xk)return Iw;xk=1;var t=cr(),e=rI(),n=mQ(),r=S4();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return Iw=i,Iw}var Aw,Ek;function dv(){if(Ek)return Aw;Ek=1;var t=Jc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Aw=e,Aw}var Pw,Tk;function lI(){if(Tk)return Pw;Tk=1;var t=I4(),e=dv();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return Pw=n,Pw}var Ow,Sk;function A4(){if(Sk)return Ow;Sk=1;var t=lI();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Ow=e,Ow}var yQ=A4();const qr=Et(yQ);var Cw,Ik;function vQ(){if(Ik)return Cw;Ik=1;function t(e){return e==null}return Cw=t,Cw}var _Q=vQ();const Je=Et(_Q);var Rw,Ak;function wQ(){if(Ak)return Rw;Ak=1;var t=Go(),e=cr(),n=Ho(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return Rw=i,Rw}var bQ=wQ();const yu=Et(bQ);var xQ=iI();const Ke=Et(xQ);var EQ=as();const Zc=Et(EQ);var kw={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function TQ(){if(Pk)return ft;Pk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function b(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case f:case d:return w;default:switch(w=w&&w.$$typeof,w){case u:case a:case c:case y:case p:case o:return w;default:return A}}case e:return A}}}return ft.ContextConsumer=a,ft.ContextProvider=o,ft.Element=t,ft.ForwardRef=c,ft.Fragment=n,ft.Lazy=y,ft.Memo=p,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=f,ft.SuspenseList=d,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(w){return b(w)===a},ft.isContextProvider=function(w){return b(w)===o},ft.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},ft.isForwardRef=function(w){return b(w)===c},ft.isFragment=function(w){return b(w)===n},ft.isLazy=function(w){return b(w)===y},ft.isMemo=function(w){return b(w)===p},ft.isPortal=function(w){return b(w)===e},ft.isProfiler=function(w){return b(w)===i},ft.isStrictMode=function(w){return b(w)===r},ft.isSuspense=function(w){return b(w)===f},ft.isSuspenseList=function(w){return b(w)===d},ft.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===d||w===v||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===p||w.$$typeof===o||w.$$typeof===a||w.$$typeof===c||w.$$typeof===E||w.getModuleId!==void 0)},ft.typeOf=b,ft}var Ok;function SQ(){return Ok||(Ok=1,kw.exports=TQ()),kw.exports}var IQ=SQ(),Nw,Ck;function P4(){if(Ck)return Nw;Ck=1;var t=Go(),e=Ho(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Nw=r,Nw}var Dw,Rk;function AQ(){if(Rk)return Dw;Rk=1;var t=P4();function e(n){return t(n)&&n!=+n}return Dw=e,Dw}var PQ=AQ();const ip=Et(PQ);var OQ=P4();const CQ=Et(OQ);var ci=function(e){return e===0?0:e>0?1:-1},Ys=function(e){return yu(e)&&e.indexOf("%")===e.length-1},xe=function(e){return CQ(e)&&!ip(e)},RQ=function(e){return Je(e)},hn=function(e){return xe(e)||yu(e)},kQ=0,op=function(e){var n=++kQ;return"".concat(e||"").concat(n)},vu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!yu(e))return r;var o;if(Ys(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ip(o)&&(o=r),i&&o>n&&(o=n),o},Da=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},NQ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},si=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Mg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qr(r,e))===n})}var DQ=function(e,n){return xe(e)&&xe(n)?e-n:yu(e)&&yu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ql(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function gT(t){"@babel/helpers - typeof";return gT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gT(t)}var MQ=["viewBox","children"],jQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kk=["points","pathLength"],Mw={svg:MQ,polygon:kk,polyline:kk},cI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ne.isValidElement(e)&&(r=e.props),!Zc(r))return null;var i={};return Object.keys(r).forEach(function(o){cI.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},VQ=function(e,n,r){return function(i){return e(n,r,i),null}},Vg=function(e,n,r){if(!Zc(e)||gT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];cI.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=VQ(a,n,r))}),i},LQ=["children"],$Q=["children"];function Nk(t,e){if(t==null)return{};var n=FQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yT(t){"@babel/helpers - typeof";return yT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yT(t)}var Dk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ao=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Mk=null,jw=null,fI=function t(e){if(e===Mk&&Array.isArray(jw))return jw;var n=[];return ne.Children.forEach(e,function(r){Je(r)||(IQ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),jw=n,Mk=e,n};function zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ao(i)}):r=[Ao(e)],fI(t).forEach(function(i){var o=qr(i,"type.displayName")||qr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Er(t,e){var n=zr(t,e);return n&&n[0]}var jk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!xe(r)||r<=0||!xe(i)||i<=0)},BQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],UQ=function(e){return e&&e.type&&yu(e.type)&&BQ.indexOf(e.type)>=0},qQ=function(e){return e&&yT(e)==="object"&&"clipDot"in e},zQ=function(e,n,r,i){var o,a=(o=Mw?.[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ke(e)&&(i&&a.includes(n)||jQ.includes(n))||r&&cI.includes(n)},rt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ne.isValidElement(e)&&(i=e.props),!Zc(i))return null;var o={};return Object.keys(i).forEach(function(a){var u;zQ((u=i)===null||u===void 0?void 0:u[a],a,n,r)&&(o[a]=i[a])}),o},vT=function t(e,n){if(e===n)return!0;var r=ne.Children.count(e);if(r!==ne.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Vk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Vk(o,a))return!1}return!0},Vk=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,o=Nk(r,LQ),a=n.props||{},u=a.children,c=Nk(a,$Q);return i&&u?ql(o,c)&&vT(i,u):!i&&!u?ql(o,c):!1}return!1},Lk=function(e,n){var r=[],i={};return fI(e).forEach(function(o,a){if(UQ(o))r.push(o);else if(o){var u=Ao(o.type),c=n[u]||{},f=c.handler,d=c.once;if(f&&(!d||!i[u])){var p=f(o,u,a);r.push(p),i[u]=!0}}}),r},WQ=function(e){var n=e&&e.type;return n&&Dk[n]?Dk[n]:null},GQ=function(e,n){return fI(n).indexOf(e)},HQ=["children","width","height","viewBox","className","style","title","desc"];function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(this,arguments)}function KQ(t,e){if(t==null)return{};var n=QQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wT(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,u=t.title,c=t.desc,f=KQ(t,HQ),d=i||{width:n,height:r,x:0,y:0},p=at("recharts-surface",o);return H.createElement("svg",_T({},rt(f,!0,"svg"),{className:p,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,u),H.createElement("desc",null,c),e)}var YQ=["children","className"];function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(this,arguments)}function XQ(t,e){if(t==null)return{};var n=JQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jt=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=XQ(t,YQ),o=at("recharts-layer",r);return H.createElement("g",bT({className:o},rt(i,!0),{ref:e}),n)}),Po=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},Vw,$k;function ZQ(){if($k)return Vw;$k=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}return Vw=t,Vw}var Lw,Fk;function eY(){if(Fk)return Lw;Fk=1;var t=ZQ();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return Lw=e,Lw}var $w,Bk;function O4(){if(Bk)return $w;Bk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",u=RegExp("["+a+t+i+o+"]");function c(f){return u.test(f)}return $w=c,$w}var Fw,Uk;function tY(){if(Uk)return Fw;Uk=1;function t(e){return e.split("")}return Fw=t,Fw}var Bw,qk;function nY(){if(qk)return Bw;qk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",E=f+"?",b="["+o+"]?",w="(?:"+v+"(?:"+[d,p,y].join("|")+")"+b+E+")*",A=b+E+w,C="(?:"+[d+u+"?",u,p,y,a].join("|")+")",R=RegExp(c+"(?="+c+")|"+C+A,"g");function $(P){return P.match(R)||[]}return Bw=$,Bw}var Uw,zk;function rY(){if(zk)return Uw;zk=1;var t=tY(),e=O4(),n=nY();function r(i){return e(i)?n(i):t(i)}return Uw=r,Uw}var qw,Wk;function iY(){if(Wk)return qw;Wk=1;var t=eY(),e=O4(),n=rY(),r=S4();function i(o){return function(a){a=r(a);var u=e(a)?n(a):void 0,c=u?u[0]:a.charAt(0),f=u?t(u,1).join(""):a.slice(1);return c[o]()+f}}return qw=i,qw}var zw,Gk;function oY(){if(Gk)return zw;Gk=1;var t=iY(),e=t("toUpperCase");return zw=e,zw}var aY=oY();const pv=Et(aY);function At(t){return function(){return t}}const C4=Math.cos,Lg=Math.sin,mi=Math.sqrt,$g=Math.PI,mv=2*$g,xT=Math.PI,ET=2*xT,qs=1e-6,sY=ET-qs;function R4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return R4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?R4:uY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,f=i-n,d=a-e,p=u-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>qs)if(!(Math.abs(p*c-f*d)>qs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-a,E=i-u,b=c*c+f*f,w=v*v+E*E,A=Math.sqrt(b),C=Math.sqrt(y),R=o*Math.tan((xT-Math.acos((b+y-w)/(2*A*C)))/2),$=R/C,P=R/A;Math.abs($-1)>qs&&this._append`L${e+$*d},${n+$*p}`,this._append`A${o},${o},0,0,${+(p*v>d*E)},${this._x1=e+P*c},${this._y1=n+P*f}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,d=n+c,p=1^a,y=a?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>qs||Math.abs(this._y1-d)>qs)&&this._append`L${f},${d}`,r&&(y<0&&(y=y%ET+ET),y>sY?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:y>qs&&this._append`A${r},${r},0,${+(y>=xT)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lY(e)}function dI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function k4(t){this._context=t}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gv(t){return new k4(t)}function N4(t){return t[0]}function D4(t){return t[1]}function M4(t,e){var n=At(!0),r=null,i=gv,o=null,a=hI(u);t=typeof t=="function"?t:t===void 0?N4:At(t),e=typeof e=="function"?e:e===void 0?D4:At(e);function u(c){var f,d=(c=dI(c)).length,p,y=!1,v;for(r==null&&(o=i(v=a())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(p,f,c),+e(p,f,c));if(v)return o=null,v+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Lm(t,e,n){var r=null,i=At(!0),o=null,a=gv,u=null,c=hI(f);t=typeof t=="function"?t:t===void 0?N4:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?D4:At(+n);function f(p){var y,v,E,b=(p=dI(p)).length,w,A=!1,C,R=new Array(b),$=new Array(b);for(o==null&&(u=a(C=c())),y=0;y<=b;++y){if(!(y<b&&i(w=p[y],y,p))===A)if(A=!A)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=y-1;E>=v;--E)u.point(R[E],$[E]);u.lineEnd(),u.areaEnd()}A&&(R[y]=+t(w,y,p),$[y]=+e(w,y,p),u.point(r?+r(w,y,p):R[y],n?+n(w,y,p):$[y]))}if(C)return u=null,C+""||null}function d(){return M4().defined(i).curve(a).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:At(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:At(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:At(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:At(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:At(!!p),f):i},f.curve=function(p){return arguments.length?(a=p,o!=null&&(u=a(o)),f):a},f.context=function(p){return arguments.length?(p==null?o=u=null:u=a(o=p),f):o},f}class j4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function cY(t){return new j4(t,!0)}function fY(t){return new j4(t,!1)}const pI={draw(t,e){const n=mi(e/$g);t.moveTo(n,0),t.arc(0,0,n,0,mv)}},hY={draw(t,e){const n=mi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},V4=mi(1/3),dY=V4*2,pY={draw(t,e){const n=mi(e/dY),r=n*V4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mY={draw(t,e){const n=mi(e),r=-n/2;t.rect(r,r,n,n)}},gY=.8908130915292852,L4=Lg($g/10)/Lg(7*$g/10),yY=Lg(mv/10)*L4,vY=-C4(mv/10)*L4,_Y={draw(t,e){const n=mi(e*gY),r=yY*n,i=vY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=mv*o/5,u=C4(a),c=Lg(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Ww=mi(3),wY={draw(t,e){const n=-mi(e/(Ww*3));t.moveTo(0,n*2),t.lineTo(-Ww*n,-n),t.lineTo(Ww*n,-n),t.closePath()}},Lr=-.5,$r=mi(3)/2,TT=1/mi(12),bY=(TT/2+1)*3,xY={draw(t,e){const n=mi(e/bY),r=n/2,i=n*TT,o=r,a=n*TT+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(Lr*r-$r*i,$r*r+Lr*i),t.lineTo(Lr*o-$r*a,$r*o+Lr*a),t.lineTo(Lr*u-$r*c,$r*u+Lr*c),t.lineTo(Lr*r+$r*i,Lr*i-$r*r),t.lineTo(Lr*o+$r*a,Lr*a-$r*o),t.lineTo(Lr*u+$r*c,Lr*c-$r*u),t.closePath()}};function EY(t,e){let n=null,r=hI(i);t=typeof t=="function"?t:At(t||pI),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:At(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:At(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Fg(){}function Bg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $4(t){this._context=t}$4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TY(t){return new $4(t)}function F4(t){this._context=t}F4.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SY(t){return new F4(t)}function B4(t){this._context=t}B4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IY(t){return new B4(t)}function U4(t){this._context=t}U4.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AY(t){return new U4(t)}function Hk(t){return t<0?-1:1}function Kk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Hk(o)+Hk(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Qk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Ug(t){this._context=t}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gw(this,this._t0,Qk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gw(this,Qk(this,n=Kk(this,t,e)),n);break;default:Gw(this,this._t0,n=Kk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function q4(t){this._context=new z4(t)}(q4.prototype=Object.create(Ug.prototype)).point=function(t,e){Ug.prototype.point.call(this,e,t)};function z4(t){this._context=t}z4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function PY(t){return new Ug(t)}function OY(t){return new q4(t)}function W4(t){this._context=t}W4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Yk(t),i=Yk(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Yk(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function CY(t){return new W4(t)}function yv(t,e){this._context=t,this._t=e}yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function RY(t){return new yv(t,.5)}function kY(t){return new yv(t,0)}function NY(t){return new yv(t,1)}function gc(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ST(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function DY(t,e){return t[e]}function MY(t){const e=[];return e.key=t,e}function jY(){var t=At([]),e=ST,n=gc,r=DY;function i(o){var a=Array.from(t.apply(this,arguments),MY),u,c=a.length,f=-1,d;for(const p of o)for(u=0,++f;u<c;++u)(a[u][f]=[0,+r(p,a[u].key,f,o)]).data=p;for(u=0,d=dI(e(a));u<c;++u)a[d[u]].index=u;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:At(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:At(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ST:typeof o=="function"?o:At(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??gc,i):n},i}function VY(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}gc(t,e)}}function LY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}gc(t,e)}}function $Y(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,f=0;u<a;++u){for(var d=t[e[u]],p=d[r][1]||0,y=d[r-1][1]||0,v=(p-y)/2,E=0;E<u;++E){var b=t[e[E]],w=b[r][1]||0,A=b[r-1][1]||0;v+=w-A}c+=p,f+=v*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,gc(t,e)}}function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var FY=["type","size","sizeType"];function IT(){return IT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IT.apply(this,arguments)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return e=UY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UY(t){var e=qY(t,"string");return ed(e)=="symbol"?e:e+""}function qY(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zY(t,e){if(t==null)return{};var n=WY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var G4={symbolCircle:pI,symbolCross:hY,symbolDiamond:pY,symbolSquare:mY,symbolStar:_Y,symbolTriangle:wY,symbolWye:xY},GY=Math.PI/180,HY=function(e){var n="symbol".concat(pv(e));return G4[n]||pI},KY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*GY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QY=function(e,n){G4["symbol".concat(pv(e))]=n},mI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,u=a===void 0?"area":a,c=zY(e,FY),f=Jk(Jk({},c),{},{type:r,size:o,sizeType:u}),d=function(){var w=HY(r),A=EY().type(w).size(KY(o,u,r));return A()},p=f.className,y=f.cx,v=f.cy,E=rt(f,!0);return y===+y&&v===+v&&o===+o?H.createElement("path",IT({},E,{className:at("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(v,")"),d:d()})):null};mI.registerSymbol=QY;function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function AT(){return AT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AT.apply(this,arguments)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){td(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K4(r.key),r)}}function ZY(t,e,n){return e&&JY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eX(t,e,n){return e=qg(e),tX(t,H4()?Reflect.construct(e,n||[],qg(t).constructor):e.apply(t,n))}function tX(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nX(t)}function nX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function rX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PT(t,e)}function PT(t,e){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PT(t,e)}function td(t,e,n){return e=K4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K4(t){var e=iX(t,"string");return yc(e)=="symbol"?e:e+""}function iX(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fr=32,gI=(function(t){function e(){return XY(this,e),eX(this,e,arguments)}return rX(e,t),ZY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Fr/2,a=Fr/6,u=Fr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Fr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Fr,"M").concat(2*u,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var f=YY({},r);return delete f.legendIcon,H.cloneElement(r.legendIcon,f)}return H.createElement(mI,{fill:c,cx:o,cy:o,size:Fr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,d={x:0,y:0,width:Fr,height:Fr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,E){var b=v.formatter||c,w=at(td(td({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",v.inactive));if(v.type==="none")return null;var A=Ke(v.value)?null:v.value;Po(!Ke(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?f:v.color;return H.createElement("li",AT({className:w,style:p,key:"legend-item-".concat(E)},Vg(r.props,v,E)),H.createElement(wT,{width:a,height:a,viewBox:d,style:y},r.renderIcon(v)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},b?b(A,v,E):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(ne.PureComponent);td(gI,"displayName","Legend");td(gI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hw,eN;function oX(){if(eN)return Hw;eN=1;var t=fv();function e(){this.__data__=new t,this.size=0}return Hw=e,Hw}var Kw,tN;function aX(){if(tN)return Kw;tN=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Kw=t,Kw}var Qw,nN;function sX(){if(nN)return Qw;nN=1;function t(e){return this.__data__.get(e)}return Qw=t,Qw}var Yw,rN;function uX(){if(rN)return Yw;rN=1;function t(e){return this.__data__.has(e)}return Yw=t,Yw}var Xw,iN;function lX(){if(iN)return Xw;iN=1;var t=fv(),e=aI(),n=sI(),r=200;function i(o,a){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([o,a]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(o,a),this.size=u.size,this}return Xw=i,Xw}var Jw,oN;function Q4(){if(oN)return Jw;oN=1;var t=fv(),e=oX(),n=aX(),r=sX(),i=uX(),o=lX();function a(u){var c=this.__data__=new t(u);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,Jw=a,Jw}var Zw,aN;function cX(){if(aN)return Zw;aN=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Zw=e,Zw}var eb,sN;function fX(){if(sN)return eb;sN=1;function t(e){return this.__data__.has(e)}return eb=t,eb}var tb,uN;function Y4(){if(uN)return tb;uN=1;var t=sI(),e=cX(),n=fX();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,tb=r,tb}var nb,lN;function X4(){if(lN)return nb;lN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return nb=t,nb}var rb,cN;function J4(){if(cN)return rb;cN=1;function t(e,n){return e.has(n)}return rb=t,rb}var ib,fN;function Z4(){if(fN)return ib;fN=1;var t=Y4(),e=X4(),n=J4(),r=1,i=2;function o(a,u,c,f,d,p){var y=c&r,v=a.length,E=u.length;if(v!=E&&!(y&&E>v))return!1;var b=p.get(a),w=p.get(u);if(b&&w)return b==u&&w==a;var A=-1,C=!0,R=c&i?new t:void 0;for(p.set(a,u),p.set(u,a);++A<v;){var $=a[A],P=u[A];if(f)var k=y?f(P,$,A,u,a,p):f($,P,A,a,u,p);if(k!==void 0){if(k)continue;C=!1;break}if(R){if(!e(u,function(S,I){if(!n(R,I)&&($===S||d($,S,c,f,p)))return R.push(I)})){C=!1;break}}else if(!($===P||d($,P,c,f,p))){C=!1;break}}return p.delete(a),p.delete(u),C}return ib=o,ib}var ob,hN;function hX(){if(hN)return ob;hN=1;var t=Yi(),e=t.Uint8Array;return ob=e,ob}var ab,dN;function dX(){if(dN)return ab;dN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return ab=t,ab}var sb,pN;function yI(){if(pN)return sb;pN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return sb=t,sb}var ub,mN;function pX(){if(mN)return ub;mN=1;var t=rp(),e=hX(),n=oI(),r=Z4(),i=dX(),o=yI(),a=1,u=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",y="[object Number]",v="[object RegExp]",E="[object Set]",b="[object String]",w="[object Symbol]",A="[object ArrayBuffer]",C="[object DataView]",R=t?t.prototype:void 0,$=R?R.valueOf:void 0;function P(k,S,I,N,F,V,D){switch(I){case C:if(k.byteLength!=S.byteLength||k.byteOffset!=S.byteOffset)return!1;k=k.buffer,S=S.buffer;case A:return!(k.byteLength!=S.byteLength||!V(new e(k),new e(S)));case c:case f:case y:return n(+k,+S);case d:return k.name==S.name&&k.message==S.message;case v:case b:return k==S+"";case p:var M=i;case E:var G=N&a;if(M||(M=o),k.size!=S.size&&!G)return!1;var K=D.get(k);if(K)return K==S;N|=u,D.set(k,S);var re=r(M(k),M(S),N,F,V,D);return D.delete(k),re;case w:if($)return $.call(k)==$.call(S)}return!1}return ub=P,ub}var lb,gN;function e6(){if(gN)return lb;gN=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return lb=t,lb}var cb,yN;function mX(){if(yN)return cb;yN=1;var t=e6(),e=cr();function n(r,i,o){var a=i(r);return e(r)?a:t(a,o(r))}return cb=n,cb}var fb,vN;function gX(){if(vN)return fb;vN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var u=e[r];n(u,r,e)&&(a[o++]=u)}return a}return fb=t,fb}var hb,_N;function yX(){if(_N)return hb;_N=1;function t(){return[]}return hb=t,hb}var db,wN;function vX(){if(wN)return db;wN=1;var t=gX(),e=yX(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(u){return r.call(a,u)}))}:e;return db=o,db}var pb,bN;function _X(){if(bN)return pb;bN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return pb=t,pb}var mb,xN;function wX(){if(xN)return mb;xN=1;var t=Go(),e=Ho(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return mb=r,mb}var gb,EN;function vI(){if(EN)return gb;EN=1;var t=wX(),e=Ho(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return gb=o,gb}var wh={exports:{}},yb,TN;function bX(){if(TN)return yb;TN=1;function t(){return!1}return yb=t,yb}wh.exports;var SN;function t6(){return SN||(SN=1,(function(t,e){var n=Yi(),r=bX(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,u=a?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f})(wh,wh.exports)),wh.exports}var vb,IN;function _I(){if(IN)return vb;IN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return vb=n,vb}var _b,AN;function wI(){if(AN)return _b;AN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return _b=e,_b}var wb,PN;function xX(){if(PN)return wb;PN=1;var t=Go(),e=wI(),n=Ho(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",y="[object RegExp]",v="[object Set]",E="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",A="[object DataView]",C="[object Float32Array]",R="[object Float64Array]",$="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",F="[object Uint32Array]",V={};V[C]=V[R]=V[$]=V[P]=V[k]=V[S]=V[I]=V[N]=V[F]=!0,V[r]=V[i]=V[w]=V[o]=V[A]=V[a]=V[u]=V[c]=V[f]=V[d]=V[p]=V[y]=V[v]=V[E]=V[b]=!1;function D(M){return n(M)&&e(M.length)&&!!V[t(M)]}return wb=D,wb}var bb,ON;function n6(){if(ON)return bb;ON=1;function t(e){return function(n){return e(n)}}return bb=t,bb}var bh={exports:{}};bh.exports;var CN;function EX(){return CN||(CN=1,(function(t,e){var n=x4(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}})();t.exports=u})(bh,bh.exports)),bh.exports}var xb,RN;function r6(){if(RN)return xb;RN=1;var t=xX(),e=n6(),n=EX(),r=n&&n.isTypedArray,i=r?e(r):t;return xb=i,xb}var Eb,kN;function TX(){if(kN)return Eb;kN=1;var t=_X(),e=vI(),n=cr(),r=t6(),i=_I(),o=r6(),a=Object.prototype,u=a.hasOwnProperty;function c(f,d){var p=n(f),y=!p&&e(f),v=!p&&!y&&r(f),E=!p&&!y&&!v&&o(f),b=p||y||v||E,w=b?t(f.length,String):[],A=w.length;for(var C in f)(d||u.call(f,C))&&!(b&&(C=="length"||v&&(C=="offset"||C=="parent")||E&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,A)))&&w.push(C);return w}return Eb=c,Eb}var Tb,NN;function SX(){if(NN)return Tb;NN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Tb=e,Tb}var Sb,DN;function i6(){if(DN)return Sb;DN=1;function t(e,n){return function(r){return e(n(r))}}return Sb=t,Sb}var Ib,MN;function IX(){if(MN)return Ib;MN=1;var t=i6(),e=t(Object.keys,Object);return Ib=e,Ib}var Ab,jN;function AX(){if(jN)return Ab;jN=1;var t=SX(),e=IX(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&a.push(u);return a}return Ab=i,Ab}var Pb,VN;function ap(){if(VN)return Pb;VN=1;var t=iI(),e=wI();function n(r){return r!=null&&e(r.length)&&!t(r)}return Pb=n,Pb}var Ob,LN;function vv(){if(LN)return Ob;LN=1;var t=TX(),e=AX(),n=ap();function r(i){return n(i)?t(i):e(i)}return Ob=r,Ob}var Cb,$N;function PX(){if($N)return Cb;$N=1;var t=mX(),e=vX(),n=vv();function r(i){return t(i,n,e)}return Cb=r,Cb}var Rb,FN;function OX(){if(FN)return Rb;FN=1;var t=PX(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,u,c,f,d){var p=u&e,y=t(o),v=y.length,E=t(a),b=E.length;if(v!=b&&!p)return!1;for(var w=v;w--;){var A=y[w];if(!(p?A in a:r.call(a,A)))return!1}var C=d.get(o),R=d.get(a);if(C&&R)return C==a&&R==o;var $=!0;d.set(o,a),d.set(a,o);for(var P=p;++w<v;){A=y[w];var k=o[A],S=a[A];if(c)var I=p?c(S,k,A,a,o,d):c(k,S,A,o,a,d);if(!(I===void 0?k===S||f(k,S,u,c,d):I)){$=!1;break}P||(P=A=="constructor")}if($&&!P){var N=o.constructor,F=a.constructor;N!=F&&"constructor"in o&&"constructor"in a&&!(typeof N=="function"&&N instanceof N&&typeof F=="function"&&F instanceof F)&&($=!1)}return d.delete(o),d.delete(a),$}return Rb=i,Rb}var kb,BN;function CX(){if(BN)return kb;BN=1;var t=Cu(),e=Yi(),n=t(e,"DataView");return kb=n,kb}var Nb,UN;function RX(){if(UN)return Nb;UN=1;var t=Cu(),e=Yi(),n=t(e,"Promise");return Nb=n,Nb}var Db,qN;function o6(){if(qN)return Db;qN=1;var t=Cu(),e=Yi(),n=t(e,"Set");return Db=n,Db}var Mb,zN;function kX(){if(zN)return Mb;zN=1;var t=Cu(),e=Yi(),n=t(e,"WeakMap");return Mb=n,Mb}var jb,WN;function NX(){if(WN)return jb;WN=1;var t=CX(),e=aI(),n=RX(),r=o6(),i=kX(),o=Go(),a=E4(),u="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",v=a(t),E=a(e),b=a(n),w=a(r),A=a(i),C=o;return(t&&C(new t(new ArrayBuffer(1)))!=y||e&&C(new e)!=u||n&&C(n.resolve())!=f||r&&C(new r)!=d||i&&C(new i)!=p)&&(C=function(R){var $=o(R),P=$==c?R.constructor:void 0,k=P?a(P):"";if(k)switch(k){case v:return y;case E:return u;case b:return f;case w:return d;case A:return p}return $}),jb=C,jb}var Vb,GN;function DX(){if(GN)return Vb;GN=1;var t=Q4(),e=Z4(),n=pX(),r=OX(),i=NX(),o=cr(),a=t6(),u=r6(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function E(b,w,A,C,R,$){var P=o(b),k=o(w),S=P?d:i(b),I=k?d:i(w);S=S==f?p:S,I=I==f?p:I;var N=S==p,F=I==p,V=S==I;if(V&&a(b)){if(!a(w))return!1;P=!0,N=!1}if(V&&!N)return $||($=new t),P||u(b)?e(b,w,A,C,R,$):n(b,w,S,A,C,R,$);if(!(A&c)){var D=N&&v.call(b,"__wrapped__"),M=F&&v.call(w,"__wrapped__");if(D||M){var G=D?b.value():b,K=M?w.value():w;return $||($=new t),R(G,K,A,C,$)}}return V?($||($=new t),r(b,w,A,C,R,$)):!1}return Vb=E,Vb}var Lb,HN;function bI(){if(HN)return Lb;HN=1;var t=DX(),e=Ho();function n(r,i,o,a,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,a,n,u)}return Lb=n,Lb}var $b,KN;function MX(){if(KN)return $b;KN=1;var t=Q4(),e=bI(),n=1,r=2;function i(o,a,u,c){var f=u.length,d=f,p=!c;if(o==null)return!d;for(o=Object(o);f--;){var y=u[f];if(p&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++f<d;){y=u[f];var v=y[0],E=o[v],b=y[1];if(p&&y[2]){if(E===void 0&&!(v in o))return!1}else{var w=new t;if(c)var A=c(E,b,v,o,a,w);if(!(A===void 0?e(b,E,n|r,c,w):A))return!1}}return!0}return $b=i,$b}var Fb,QN;function a6(){if(QN)return Fb;QN=1;var t=as();function e(n){return n===n&&!t(n)}return Fb=e,Fb}var Bb,YN;function jX(){if(YN)return Bb;YN=1;var t=a6(),e=vv();function n(r){for(var i=e(r),o=i.length;o--;){var a=i[o],u=r[a];i[o]=[a,u,t(u)]}return i}return Bb=n,Bb}var Ub,XN;function s6(){if(XN)return Ub;XN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Ub=t,Ub}var qb,JN;function VX(){if(JN)return qb;JN=1;var t=MX(),e=jX(),n=s6();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return qb=r,qb}var zb,ZN;function LX(){if(ZN)return zb;ZN=1;function t(e,n){return e!=null&&n in Object(e)}return zb=t,zb}var Wb,eD;function $X(){if(eD)return Wb;eD=1;var t=I4(),e=vI(),n=cr(),r=_I(),i=wI(),o=dv();function a(u,c,f){c=t(c,u);for(var d=-1,p=c.length,y=!1;++d<p;){var v=o(c[d]);if(!(y=u!=null&&f(u,v)))break;u=u[v]}return y||++d!=p?y:(p=u==null?0:u.length,!!p&&i(p)&&r(v,p)&&(n(u)||e(u)))}return Wb=a,Wb}var Gb,tD;function FX(){if(tD)return Gb;tD=1;var t=LX(),e=$X();function n(r,i){return r!=null&&e(r,i,t)}return Gb=n,Gb}var Hb,nD;function BX(){if(nD)return Hb;nD=1;var t=bI(),e=A4(),n=FX(),r=rI(),i=a6(),o=s6(),a=dv(),u=1,c=2;function f(d,p){return r(d)&&i(p)?o(a(d),p):function(y){var v=e(y,d);return v===void 0&&v===p?n(y,d):t(p,v,u|c)}}return Hb=f,Hb}var Kb,rD;function ef(){if(rD)return Kb;rD=1;function t(e){return e}return Kb=t,Kb}var Qb,iD;function UX(){if(iD)return Qb;iD=1;function t(e){return function(n){return n?.[e]}}return Qb=t,Qb}var Yb,oD;function qX(){if(oD)return Yb;oD=1;var t=lI();function e(n){return function(r){return t(r,n)}}return Yb=e,Yb}var Xb,aD;function zX(){if(aD)return Xb;aD=1;var t=UX(),e=qX(),n=rI(),r=dv();function i(o){return n(o)?t(r(o)):e(o)}return Xb=i,Xb}var Jb,sD;function ss(){if(sD)return Jb;sD=1;var t=VX(),e=BX(),n=ef(),r=cr(),i=zX();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return Jb=o,Jb}var Zb,uD;function u6(){if(uD)return Zb;uD=1;function t(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return-1}return Zb=t,Zb}var ex,lD;function WX(){if(lD)return ex;lD=1;function t(e){return e!==e}return ex=t,ex}var tx,cD;function GX(){if(cD)return tx;cD=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return tx=t,tx}var nx,fD;function HX(){if(fD)return nx;fD=1;var t=u6(),e=WX(),n=GX();function r(i,o,a){return o===o?n(i,o,a):t(i,e,a)}return nx=r,nx}var rx,hD;function KX(){if(hD)return rx;hD=1;var t=HX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return rx=e,rx}var ix,dD;function QX(){if(dD)return ix;dD=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return ix=t,ix}var ox,pD;function YX(){if(pD)return ox;pD=1;function t(){}return ox=t,ox}var ax,mD;function XX(){if(mD)return ax;mD=1;var t=o6(),e=YX(),n=yI(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return ax=i,ax}var sx,gD;function JX(){if(gD)return sx;gD=1;var t=Y4(),e=KX(),n=QX(),r=J4(),i=XX(),o=yI(),a=200;function u(c,f,d){var p=-1,y=e,v=c.length,E=!0,b=[],w=b;if(d)E=!1,y=n;else if(v>=a){var A=f?null:i(c);if(A)return o(A);E=!1,y=r,w=new t}else w=f?[]:b;e:for(;++p<v;){var C=c[p],R=f?f(C):C;if(C=d||C!==0?C:0,E&&R===R){for(var $=w.length;$--;)if(w[$]===R)continue e;f&&w.push(R),b.push(C)}else y(w,R,d)||(w!==b&&w.push(R),b.push(C))}return b}return sx=u,sx}var ux,yD;function ZX(){if(yD)return ux;yD=1;var t=ss(),e=JX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return ux=n,ux}var eJ=ZX();const vD=Et(eJ);function l6(t,e,n){return e===!0?vD(t,n):Ke(e)?vD(t,e):t}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}var tJ=["ref"];function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){_v(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f6(r.key),r)}}function rJ(t,e,n){return e&&wD(t.prototype,e),n&&wD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iJ(t,e,n){return e=zg(e),oJ(t,c6()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function oJ(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aJ(t)}function aJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function sJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OT(t,e)}function OT(t,e){return OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OT(t,e)}function _v(t,e,n){return e=f6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f6(t){var e=uJ(t,"string");return vc(e)=="symbol"?e:e+""}function uJ(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lJ(t,e){if(t==null)return{};var n=cJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fJ(t){return t.value}function hJ(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=lJ(e,tJ);return H.createElement(gI,n)}var bD=1,zl=(function(t){function e(){var n;nJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iJ(this,e,[].concat(i)),_v(n,"lastBoundingBox",{width:-1,height:-1}),n}return sJ(e,t),rJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bD||Math.abs(i.height-this.lastBoundingBox.height)>bD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,d=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();p={left:((f||0)-v.width)/2}}else p=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var E=this.getBBoxSnapshot();y={top:((d||0)-E.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yo(yo({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,d=i.payload,p=yo(yo({position:"absolute",width:a||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){r.wrapperNode=v}},hJ(o,yo(yo({},this.props),{},{payload:l6(d,f,fJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=yo(yo({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&xe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(ne.PureComponent);_v(zl,"displayName","Legend");_v(zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lx,xD;function dJ(){if(xD)return lx;xD=1;var t=rp(),e=vI(),n=cr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return lx=i,lx}var cx,ED;function h6(){if(ED)return cx;ED=1;var t=e6(),e=dJ();function n(r,i,o,a,u){var c=-1,f=r.length;for(o||(o=e),u||(u=[]);++c<f;){var d=r[c];i>0&&o(d)?i>1?n(d,i-1,o,a,u):t(u,d):a||(u[u.length]=d)}return u}return cx=n,cx}var fx,TD;function pJ(){if(TD)return fx;TD=1;function t(e){return function(n,r,i){for(var o=-1,a=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++o];if(r(a[f],f,a)===!1)break}return n}}return fx=t,fx}var hx,SD;function mJ(){if(SD)return hx;SD=1;var t=pJ(),e=t();return hx=e,hx}var dx,ID;function d6(){if(ID)return dx;ID=1;var t=mJ(),e=vv();function n(r,i){return r&&t(r,i,e)}return dx=n,dx}var px,AD;function gJ(){if(AD)return px;AD=1;var t=ap();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var a=i.length,u=r?a:-1,c=Object(i);(r?u--:++u<a)&&o(c[u],u,c)!==!1;);return i}}return px=e,px}var mx,PD;function xI(){if(PD)return mx;PD=1;var t=d6(),e=gJ(),n=e(t);return mx=n,mx}var gx,OD;function p6(){if(OD)return gx;OD=1;var t=xI(),e=ap();function n(r,i){var o=-1,a=e(r)?Array(r.length):[];return t(r,function(u,c,f){a[++o]=i(u,c,f)}),a}return gx=n,gx}var yx,CD;function yJ(){if(CD)return yx;CD=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return yx=t,yx}var vx,RD;function vJ(){if(RD)return vx;RD=1;var t=Jc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,u=t(n),c=r!==void 0,f=r===null,d=r===r,p=t(r);if(!f&&!p&&!u&&n>r||u&&c&&d&&!f&&!p||o&&c&&d||!i&&d||!a)return 1;if(!o&&!u&&!p&&n<r||p&&i&&a&&!o&&!u||f&&i&&a||!c&&a||!d)return-1}return 0}return vx=e,vx}var _x,kD;function _J(){if(kD)return _x;kD=1;var t=vJ();function e(n,r,i){for(var o=-1,a=n.criteria,u=r.criteria,c=a.length,f=i.length;++o<c;){var d=t(a[o],u[o]);if(d){if(o>=f)return d;var p=i[o];return d*(p=="desc"?-1:1)}}return n.index-r.index}return _x=e,_x}var wx,ND;function wJ(){if(ND)return wx;ND=1;var t=uI(),e=lI(),n=ss(),r=p6(),i=yJ(),o=n6(),a=_J(),u=ef(),c=cr();function f(d,p,y){p.length?p=t(p,function(b){return c(b)?function(w){return e(w,b.length===1?b[0]:b)}:b}):p=[u];var v=-1;p=t(p,o(n));var E=r(d,function(b,w,A){var C=t(p,function(R){return R(b)});return{criteria:C,index:++v,value:b}});return i(E,function(b,w){return a(b,w,y)})}return wx=f,wx}var bx,DD;function bJ(){if(DD)return bx;DD=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return bx=t,bx}var xx,MD;function xJ(){if(MD)return xx;MD=1;var t=bJ(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,u=-1,c=e(a.length-i,0),f=Array(c);++u<c;)f[u]=a[i+u];u=-1;for(var d=Array(i+1);++u<i;)d[u]=a[u];return d[i]=o(f),t(r,this,d)}}return xx=n,xx}var Ex,jD;function EJ(){if(jD)return Ex;jD=1;function t(e){return function(){return e}}return Ex=t,Ex}var Tx,VD;function m6(){if(VD)return Tx;VD=1;var t=Cu(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Tx=e,Tx}var Sx,LD;function TJ(){if(LD)return Sx;LD=1;var t=EJ(),e=m6(),n=ef(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return Sx=r,Sx}var Ix,$D;function SJ(){if($D)return Ix;$D=1;var t=800,e=16,n=Date.now;function r(i){var o=0,a=0;return function(){var u=n(),c=e-(u-a);if(a=u,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Ix=r,Ix}var Ax,FD;function IJ(){if(FD)return Ax;FD=1;var t=TJ(),e=SJ(),n=e(t);return Ax=n,Ax}var Px,BD;function AJ(){if(BD)return Px;BD=1;var t=ef(),e=xJ(),n=IJ();function r(i,o){return n(e(i,o,t),i+"")}return Px=r,Px}var Ox,UD;function wv(){if(UD)return Ox;UD=1;var t=oI(),e=ap(),n=_I(),r=as();function i(o,a,u){if(!r(u))return!1;var c=typeof a;return(c=="number"?e(u)&&n(a,u.length):c=="string"&&a in u)?t(u[a],o):!1}return Ox=i,Ox}var Cx,qD;function PJ(){if(qD)return Cx;qD=1;var t=h6(),e=wJ(),n=AJ(),r=wv(),i=n(function(o,a){if(o==null)return[];var u=a.length;return u>1&&r(o,a[0],a[1])?a=[]:u>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return Cx=i,Cx}var OJ=PJ();const EI=Et(OJ);function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT.apply(this,arguments)}function CJ(t,e){return DJ(t)||NJ(t,e)||kJ(t,e)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function DJ(t){if(Array.isArray(t))return t}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=VJ(t,"string");return nd(e)=="symbol"?e:e+""}function VJ(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LJ(t){return Array.isArray(t)&&hn(t[0])&&hn(t[1])?t.join(" ~ "):t}var $J=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,u=a===void 0?{}:a,c=e.labelStyle,f=c===void 0?{}:c,d=e.payload,p=e.formatter,y=e.itemSorter,v=e.wrapperClassName,E=e.labelClassName,b=e.label,w=e.labelFormatter,A=e.accessibilityLayer,C=A===void 0?!1:A,R=function(){if(d&&d.length){var D={padding:0,margin:0},M=(y?EI(d,y):d).map(function(G,K){if(G.type==="none")return null;var re=Rx({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),ue=G.formatter||p||LJ,X=G.value,se=G.name,ae=X,q=se;if(ue&&ae!=null&&q!=null){var Q=ue(X,se,G,K,d);if(Array.isArray(Q)){var ye=CJ(Q,2);ae=ye[0],q=ye[1]}else ae=Q}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:re},hn(q)?H.createElement("span",{className:"recharts-tooltip-item-name"},q):null,hn(q)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ae),H.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},$=Rx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),P=Rx({margin:0},f),k=!Je(b),S=k?b:"",I=at("recharts-default-tooltip",v),N=at("recharts-tooltip-label",E);k&&w&&d!==void 0&&d!==null&&(S=w(b,d));var F=C?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",CT({className:I,style:$},F),H.createElement("p",{className:N,style:P},H.isValidElement(S)?S:"".concat(S)),R())};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function $m(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=BJ(t,"string");return rd(e)=="symbol"?e:e+""}function BJ(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ih="recharts-tooltip-wrapper",UJ={visibility:"hidden"};function qJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(ih,$m($m($m($m({},"".concat(ih,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(ih,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(ih,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(ih,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function GD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&xe(o[r]))return o[r];var d=n[r]-u-i,p=n[r]+i;if(e[r])return a[r]?d:p;if(a[r]){var y=d,v=c[r];return y<v?Math.max(p,c[r]):Math.max(d,c[r])}var E=p+u,b=c[r]+f;return E>b?Math.max(d,c[r]):Math.max(p,c[r])}function zJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function WJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,d,p;return a.height>0&&a.width>0&&n?(d=GD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=GD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=zJ({translateX:d,translateY:p,useTranslate3d:u})):f=UJ,{cssProperties:f,cssClasses:qJ({translateX:d,translateY:p,coordinate:n})}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){kT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y6(r.key),r)}}function KJ(t,e,n){return e&&HJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QJ(t,e,n){return e=Wg(e),YJ(t,g6()?Reflect.construct(e,n||[],Wg(t).constructor):e.apply(t,n))}function YJ(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XJ(t)}function XJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(t)}function JJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RT(t,e)}function RT(t,e){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RT(t,e)}function kT(t,e,n){return e=y6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6(t){var e=ZJ(t,"string");return _c(e)=="symbol"?e:e+""}function ZJ(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QD=1,eZ=(function(t){function e(){var n;GJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=QJ(this,e,[].concat(i)),kT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kT(n,"handleKeyDown",function(a){if(a.key==="Escape"){var u,c,f,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),n}return JJ(e,t),KJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QD||Math.abs(r.height-this.state.lastBoundingBox.height)>QD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,d=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,v=i.offset,E=i.position,b=i.reverseDirection,w=i.useTranslate3d,A=i.viewBox,C=i.wrapperStyle,R=WJ({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:v,position:E,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:A}),$=R.cssClasses,P=R.cssProperties,k=KD(KD({transition:y&&o?"transform ".concat(u,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},C);return H.createElement("div",{tabIndex:-1,className:$,style:k,ref:function(I){r.wrapperNode=I}},f)}}])})(ne.PureComponent),tZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tf={isSsr:tZ()};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){TI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_6(r.key),r)}}function iZ(t,e,n){return e&&rZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oZ(t,e,n){return e=Gg(e),aZ(t,v6()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function aZ(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sZ(t)}function sZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v6=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function uZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NT(t,e)}function TI(t,e,n){return e=_6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6(t){var e=lZ(t,"string");return wc(e)=="symbol"?e:e+""}function lZ(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cZ(t){return t.dataKey}function fZ(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement($J,e)}var Mi=(function(t){function e(){return nZ(this,e),oZ(this,e,arguments)}return uZ(e,t),iZ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,d=i.coordinate,p=i.filterNull,y=i.isAnimationActive,v=i.offset,E=i.payload,b=i.payloadUniqBy,w=i.position,A=i.reverseDirection,C=i.useTranslate3d,R=i.viewBox,$=i.wrapperStyle,P=E??[];p&&P.length&&(P=l6(E.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),b,cZ));var k=P.length>0;return H.createElement(eZ,{allowEscapeViewBox:a,animationDuration:u,animationEasing:c,isAnimationActive:y,active:o,coordinate:d,hasPayload:k,offset:v,position:w,reverseDirection:A,useTranslate3d:C,viewBox:R,wrapperStyle:$},fZ(f,XD(XD({},this.props),{},{payload:P})))}}])})(ne.PureComponent);TI(Mi,"displayName","Tooltip");TI(Mi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kx,JD;function hZ(){if(JD)return kx;JD=1;var t=Yi(),e=function(){return t.Date.now()};return kx=e,kx}var Nx,ZD;function dZ(){if(ZD)return Nx;ZD=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Nx=e,Nx}var Dx,e2;function pZ(){if(e2)return Dx;e2=1;var t=dZ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Dx=n,Dx}var Mx,t2;function w6(){if(t2)return Mx;t2=1;var t=pZ(),e=as(),n=Jc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||a.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return Mx=c,Mx}var jx,n2;function mZ(){if(n2)return jx;n2=1;var t=as(),e=hZ(),n=w6(),r="Expected a function",i=Math.max,o=Math.min;function a(u,c,f){var d,p,y,v,E,b,w=0,A=!1,C=!1,R=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(A=!!f.leading,C="maxWait"in f,y=C?i(n(f.maxWait)||0,c):y,R="trailing"in f?!!f.trailing:R);function $(M){var G=d,K=p;return d=p=void 0,w=M,v=u.apply(K,G),v}function P(M){return w=M,E=setTimeout(I,c),A?$(M):v}function k(M){var G=M-b,K=M-w,re=c-G;return C?o(re,y-K):re}function S(M){var G=M-b,K=M-w;return b===void 0||G>=c||G<0||C&&K>=y}function I(){var M=e();if(S(M))return N(M);E=setTimeout(I,k(M))}function N(M){return E=void 0,R&&d?$(M):(d=p=void 0,v)}function F(){E!==void 0&&clearTimeout(E),w=0,d=b=p=E=void 0}function V(){return E===void 0?v:N(e())}function D(){var M=e(),G=S(M);if(d=arguments,p=this,b=M,G){if(E===void 0)return P(b);if(C)return clearTimeout(E),E=setTimeout(I,c),$(b)}return E===void 0&&(E=setTimeout(I,c)),v}return D.cancel=F,D.flush=V,D}return jx=a,jx}var Vx,r2;function gZ(){if(r2)return Vx;r2=1;var t=mZ(),e=as(),n="Expected a function";function r(i,o,a){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(u="leading"in a?!!a.leading:u,c="trailing"in a?!!a.trailing:c),t(i,o,{leading:u,maxWait:o,trailing:c})}return Vx=r,Vx}var yZ=gZ();const b6=Et(yZ);function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){vZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vZ(t,e,n){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=wZ(t,"string");return id(e)=="symbol"?e:e+""}function wZ(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bZ(t,e){return SZ(t)||TZ(t,e)||EZ(t,e)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function SZ(t){if(Array.isArray(t))return t}var IZ=ne.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,d=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,v=t.children,E=t.debounce,b=E===void 0?0:E,w=t.id,A=t.className,C=t.onResize,R=t.style,$=R===void 0?{}:R,P=ne.useRef(null),k=ne.useRef();k.current=C,ne.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var S=ne.useState({containerWidth:i.width,containerHeight:i.height}),I=bZ(S,2),N=I[0],F=I[1],V=ne.useCallback(function(M,G){F(function(K){var re=Math.round(M),ue=Math.round(G);return K.containerWidth===re&&K.containerHeight===ue?K:{containerWidth:re,containerHeight:ue}})},[]);ne.useEffect(function(){var M=function(se){var ae,q=se[0].contentRect,Q=q.width,ye=q.height;V(Q,ye),(ae=k.current)===null||ae===void 0||ae.call(k,Q,ye)};b>0&&(M=b6(M,b,{trailing:!0,leading:!1}));var G=new ResizeObserver(M),K=P.current.getBoundingClientRect(),re=K.width,ue=K.height;return V(re,ue),G.observe(P.current),function(){G.disconnect()}},[V,b]);var D=ne.useMemo(function(){var M=N.containerWidth,G=N.containerHeight;if(M<0||G<0)return null;Po(Ys(a)||Ys(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),Po(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Ys(a)?M:a,re=Ys(c)?G:c;n&&n>0&&(K?re=K/n:re&&(K=re*n),y&&re>y&&(re=y)),Po(K>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,re,a,c,d,p,n);var ue=!Array.isArray(v)&&Ao(v.type).endsWith("Chart");return H.Children.map(v,function(X){return H.isValidElement(X)?ne.cloneElement(X,Fm({width:K,height:re},ue?{style:Fm({height:"100%",width:"100%",maxHeight:re,maxWidth:K},X.props.style)}:{})):X})},[n,v,c,y,p,d,N,a]);return H.createElement("div",{id:w?"".concat(w):void 0,className:at("recharts-responsive-container",A),style:Fm(Fm({},$),{},{width:a,height:c,minWidth:d,minHeight:p,maxHeight:y}),ref:P},D)}),x6=function(e){return null};x6.displayName="Cell";function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){AZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AZ(t,e,n){return e=PZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=OZ(t,"string");return od(e)=="symbol"?e:e+""}function OZ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sl={widthCache:{},cacheCount:0},CZ=2e3,RZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s2="recharts_measurement_span";function kZ(t){var e=DT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Mh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||tf.isSsr)return{width:0,height:0};var r=kZ(n),i=JSON.stringify({text:e,copyStyle:r});if(Sl.widthCache[i])return Sl.widthCache[i];try{var o=document.getElementById(s2);o||(o=document.createElement("span"),o.setAttribute("id",s2),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=DT(DT({},RZ),r);Object.assign(o.style,a),o.textContent="".concat(e);var u=o.getBoundingClientRect(),c={width:u.width,height:u.height};return Sl.widthCache[i]=c,++Sl.cacheCount>CZ&&(Sl.cacheCount=0,Sl.widthCache={}),c}catch{return{width:0,height:0}}},NZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Hg(t,e){return VZ(t)||jZ(t,e)||MZ(t,e)||DZ()}function DZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(t,e){if(t){if(typeof t=="string")return u2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u2(t,e)}}function u2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function VZ(t){if(Array.isArray(t))return t}function LZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FZ(r.key),r)}}function $Z(t,e,n){return e&&l2(t.prototype,e),n&&l2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FZ(t){var e=BZ(t,"string");return ad(e)=="symbol"?e:e+""}function BZ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,E6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zZ=Object.keys(E6),Dl="NaN";function WZ(t,e){return t*E6[e]}var Bm=(function(){function t(e,n){LZ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!UZ.test(n)&&(this.num=NaN,this.unit=""),zZ.includes(n)&&(this.num=WZ(e,n),this.unit="px")}return $Z(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=qZ.exec(n))!==null&&r!==void 0?r:[],o=Hg(i,3),a=o[1],u=o[2];return new t(parseFloat(a),u??"")}}])})();function T6(t){if(t.includes(Dl))return Dl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=c2.exec(e))!==null&&n!==void 0?n:[],i=Hg(r,4),o=i[1],a=i[2],u=i[3],c=Bm.parse(o??""),f=Bm.parse(u??""),d=a==="*"?c.multiply(f):c.divide(f);if(d.isNaN())return Dl;e=e.replace(c2,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=f2.exec(e))!==null&&p!==void 0?p:[],v=Hg(y,4),E=v[1],b=v[2],w=v[3],A=Bm.parse(E??""),C=Bm.parse(w??""),R=b==="+"?A.add(C):A.subtract(C);if(R.isNaN())return Dl;e=e.replace(f2,R.toString())}return e}var h2=/\(([^()]*)\)/;function GZ(t){for(var e=t;e.includes("(");){var n=h2.exec(e),r=Hg(n,2),i=r[1];e=e.replace(h2,T6(i))}return e}function HZ(t){var e=t.replace(/\s+/g,"");return e=GZ(e),e=T6(e),e}function KZ(t){try{return HZ(t)}catch{return Dl}}function Lx(t){var e=KZ(t.slice(5,-1));return e===Dl?"":e}var QZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],YZ=["dx","dy","angle","className","breakAll"];function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MT.apply(this,arguments)}function d2(t,e){if(t==null)return{};var n=XZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p2(t,e){return tee(t)||eee(t,e)||ZZ(t,e)||JZ()}function JZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function tee(t){if(Array.isArray(t))return t}var S6=/[ \f\n\r\t\v\u2028\u2029]+/,I6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Je(n)||(r?o=n.toString().split(""):o=n.toString().split(S6));var a=o.map(function(c){return{word:c,width:Mh(c,i).width}}),u=r?0:Mh("",i).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},nee=function(e,n,r,i,o){var a=e.maxLines,u=e.children,c=e.style,f=e.breakAll,d=xe(a),p=u,y=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(re,ue){var X=ue.word,se=ue.width,ae=re[re.length-1];if(ae&&(i==null||o||ae.width+se+r<Number(i)))ae.words.push(X),ae.width+=se+r;else{var q={words:[X],width:se};re.push(q)}return re},[])},v=y(n),E=function(K){return K.reduce(function(re,ue){return re.width>ue.width?re:ue})};if(!d)return v;for(var b="",w=function(K){var re=p.slice(0,K),ue=I6({breakAll:f,style:c,children:re+b}).wordsWithComputedWidth,X=y(ue),se=X.length>a||E(X).width>Number(i);return[se,X]},A=0,C=p.length-1,R=0,$;A<=C&&R<=p.length-1;){var P=Math.floor((A+C)/2),k=P-1,S=w(k),I=p2(S,2),N=I[0],F=I[1],V=w(P),D=p2(V,1),M=D[0];if(!N&&!M&&(A=P+1),N&&M&&(C=P-1),!N&&M){$=F;break}R++}return $||v},g2=function(e){var n=Je(e)?[]:e.toString().split(S6);return[{words:n}]},ree=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,u=e.maxLines;if((n||r)&&!tf.isSsr){var c,f,d=I6({breakAll:a,children:i,style:o});if(d){var p=d.wordsWithComputedWidth,y=d.spaceWidth;c=p,f=y}else return g2(i);return nee({breakAll:a,children:i,maxLines:u,style:o},c,f,n,r)}return g2(i)},y2="#808080",Kg=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,u=a===void 0?"1em":a,c=e.capHeight,f=c===void 0?"0.71em":c,d=e.scaleToFit,p=d===void 0?!1:d,y=e.textAnchor,v=y===void 0?"start":y,E=e.verticalAnchor,b=E===void 0?"end":E,w=e.fill,A=w===void 0?y2:w,C=d2(e,QZ),R=ne.useMemo(function(){return ree({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),$=C.dx,P=C.dy,k=C.angle,S=C.className,I=C.breakAll,N=d2(C,YZ);if(!hn(r)||!hn(o))return null;var F=r+(xe($)?$:0),V=o+(xe(P)?P:0),D;switch(b){case"start":D=Lx("calc(".concat(f,")"));break;case"middle":D=Lx("calc(".concat((R.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:D=Lx("calc(".concat(R.length-1," * -").concat(u,")"));break}var M=[];if(p){var G=R[0].width,K=C.width;M.push("scale(".concat((xe(K)?K/G:1)/G,")"))}return k&&M.push("rotate(".concat(k,", ").concat(F,", ").concat(V,")")),M.length&&(N.transform=M.join(" ")),H.createElement("text",MT({},rt(N,!0),{x:F,y:V,className:at("recharts-text",S),textAnchor:v,fill:A.includes("url")?y2:A}),R.map(function(re,ue){var X=re.words.join(I?"":" ");return H.createElement("tspan",{x:F,dy:ue===0?D:u,key:"".concat(X,"-").concat(ue)},X)}))};function qa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SI(t){let e,n,r;t.length!==2?(e=qa,n=(u,c)=>qa(t(u),c),r=(u,c)=>t(u)-c):(e=t===qa||t===iee?t:oee,n=t,r=t);function i(u,c,f=0,d=u.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<0?f=p+1:d=p}while(f<d)}return f}function o(u,c,f=0,d=u.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function a(u,c,f=0,d=u.length){const p=i(u,c,f,d-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:a,right:o}}function oee(){return 0}function A6(t){return t===null?NaN:+t}function*aee(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const see=SI(qa),sp=see.right;SI(A6).center;class v2 extends Map{constructor(e,n=cee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_2(this,e))}has(e){return super.has(_2(this,e))}set(e,n){return super.set(uee(this,e),n)}delete(e){return super.delete(lee(this,e))}}function _2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uee({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fee(t=qa){if(t===qa)return P6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function P6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hee=Math.sqrt(50),dee=Math.sqrt(10),pee=Math.sqrt(2);function Qg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=hee?10:o>=dee?5:o>=pee?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Qg(t,e,n*2):[u,c,f]}function jT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Qg(e,t,n):Qg(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function VT(t,e,n){return e=+e,t=+t,n=+n,Qg(t,e,n)[2]}function LT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?VT(e,t,n):VT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function w2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function b2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function O6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?P6:fee(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),v=Math.max(n,Math.floor(e-f*p/c+y)),E=Math.min(r,Math.floor(e+(c-f)*p/c+y));O6(t,e,v,E,i)}const o=t[e];let a=n,u=r;for(oh(t,n,e),i(t[r],o)>0&&oh(t,n,r);a<u;){for(oh(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?oh(t,n,u):(++u,oh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function oh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function mee(t,e,n){if(t=Float64Array.from(aee(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return b2(t);if(e>=1)return w2(t);var r,i=(r-1)*e,o=Math.floor(i),a=w2(O6(t,o).subarray(0,o+1)),u=b2(t.subarray(o+1));return a+(u-a)*(i-o)}}function gee(t,e,n=A6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function yee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ko(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $T=Symbol("implicit");function II(){var t=new v2,e=[],n=[],r=$T;function i(o){let a=t.get(o);if(a===void 0){if(r!==$T)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new v2;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return II(e,n).unknown(r)},Gr.apply(i,arguments),i}function sd(){var t=II().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var y=e().length,v=i<r,E=v?i:r,b=v?r:i;o=(b-E)/Math.max(1,y-c+f*2),u&&(o=Math.floor(o)),E+=(b-E-o*(y-c))*d,a=o*(1-c),u&&(E=Math.round(E),a=Math.round(a));var w=yee(y).map(function(A){return E+o*A});return n(v?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return sd(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(d)},Gr.apply(p(),arguments)}function C6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return C6(e())},t}function jh(){return C6(sd.apply(null,arguments).paddingInner(1))}function AI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function R6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function up(){}var ud=.7,Yg=1/ud,Wl="\\s*([+-]?\\d+)\\s*",ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vee=/^#([0-9a-f]{3,8})$/,_ee=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),wee=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),bee=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${ld}\\)$`),xee=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${ld}\\)$`),Eee=new RegExp(`^hsl\\(${ld},${Wi},${Wi}\\)$`),Tee=new RegExp(`^hsla\\(${ld},${Wi},${Wi},${ld}\\)$`),x2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AI(up,cd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:E2,formatHex:E2,formatHex8:See,formatHsl:Iee,formatRgb:T2,toString:T2});function E2(){return this.rgb().formatHex()}function See(){return this.rgb().formatHex8()}function Iee(){return k6(this).formatHsl()}function T2(){return this.rgb().formatRgb()}function cd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?S2(e):n===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Um(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Um(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_ee.exec(t))?new sr(e[1],e[2],e[3],1):(e=wee.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bee.exec(t))?Um(e[1],e[2],e[3],e[4]):(e=xee.exec(t))?Um(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Eee.exec(t))?P2(e[1],e[2]/100,e[3]/100,1):(e=Tee.exec(t))?P2(e[1],e[2]/100,e[3]/100,e[4]):x2.hasOwnProperty(t)?S2(x2[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function S2(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function Um(t,e,n,r){return r<=0&&(t=e=n=NaN),new sr(t,e,n,r)}function Aee(t){return t instanceof up||(t=cd(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function FT(t,e,n,r){return arguments.length===1?Aee(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}AI(sr,FT,R6(up,{brighter(t){return t=t==null?Yg:Math.pow(Yg,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ud:Math.pow(ud,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(ru(this.r),ru(this.g),ru(this.b),Xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I2,formatHex:I2,formatHex8:Pee,formatRgb:A2,toString:A2}));function I2(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}`}function Pee(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}${Xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function A2(){const t=Xg(this.opacity);return`${t===1?"rgb(":"rgba("}${ru(this.r)}, ${ru(this.g)}, ${ru(this.b)}${t===1?")":`, ${t})`}`}function Xg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ru(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xs(t){return t=ru(t),(t<16?"0":"")+t.toString(16)}function P2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ui(t,e,n,r)}function k6(t){if(t instanceof ui)return new ui(t.h,t.s,t.l,t.opacity);if(t instanceof up||(t=cd(t)),!t)return new ui;if(t instanceof ui)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new ui(a,u,c,t.opacity)}function Oee(t,e,n,r){return arguments.length===1?k6(t):new ui(t,e,n,r??1)}function ui(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}AI(ui,Oee,R6(up,{brighter(t){return t=t==null?Yg:Math.pow(Yg,t),new ui(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ud:Math.pow(ud,t),new ui(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sr($x(t>=240?t-240:t+120,i,r),$x(t,i,r),$x(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ui(O2(this.h),qm(this.s),qm(this.l),Xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xg(this.opacity);return`${t===1?"hsl(":"hsla("}${O2(this.h)}, ${qm(this.s)*100}%, ${qm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O2(t){return t=(t||0)%360,t<0?t+360:t}function qm(t){return Math.max(0,Math.min(1,t||0))}function $x(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const PI=t=>()=>t;function Cee(t,e){return function(n){return t+n*e}}function Ree(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kee(t){return(t=+t)==1?N6:function(e,n){return n-e?Ree(e,n,t):PI(isNaN(e)?n:e)}}function N6(t,e){var n=e-t;return n?Cee(t,n):PI(isNaN(t)?e:t)}const C2=(function t(e){var n=kee(e);function r(i,o){var a=n((i=FT(i)).r,(o=FT(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=N6(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=u(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function Nee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Dee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=nf(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function jee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var BT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fx=new RegExp(BT.source,"g");function Lee(t){return function(){return t}}function $ee(t){return function(e){return t(e)+""}}function Fee(t,e){var n=BT.lastIndex=Fx.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=BT.exec(t))&&(i=Fx.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Jg(r,i)})),n=Fx.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?$ee(c[0].x):Lee(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)u[(p=c[d]).i]=p.x(f);return u.join("")})}function nf(t,e){var n=typeof e,r;return e==null||n==="boolean"?PI(e):(n==="number"?Jg:n==="string"?(r=cd(e))?(e=r,C2):Fee:e instanceof cd?C2:e instanceof Date?jee:Dee(e)?Nee:Array.isArray(e)?Mee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vee:Jg)(t,e)}function OI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bee(t,e){e===void 0&&(e=t,t=nf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function Uee(t){return function(){return t}}function Zg(t){return+t}var R2=[0,1];function Qn(t){return t}function UT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Uee(isNaN(e)?NaN:.5)}function qee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zee(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=UT(i,r),o=n(a,o)):(r=UT(r,i),o=n(o,a)),function(u){return o(r(u))}}function Wee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=UT(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=sp(t,u,1,r)-1;return o[c](i[c](u))}}function lp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bv(){var t=R2,e=R2,n=nf,r,i,o,a=Qn,u,c,f;function d(){var y=Math.min(t.length,e.length);return a!==Qn&&(a=qee(t[0],t[y-1])),u=y>2?Wee:zee,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?o:(c||(c=u(t.map(r),e,n)))(r(a(y)))}return p.invert=function(y){return a(i((f||(f=u(e,t.map(r),Jg)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Zg),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=OI,d()},p.clamp=function(y){return arguments.length?(a=y?!0:Qn,d()):a!==Qn},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,v){return r=y,i=v,d()}}function CI(){return bv()(Qn,Qn)}function Gee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ey(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bc(t){return t=ey(Math.abs(t)),t?t[1]:NaN}function Hee(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Kee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fd(t){if(!(e=Qee.exec(t)))throw new Error("invalid format: "+t);var e;return new RI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fd.prototype=RI.prototype;function RI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ty;function Xee(t,e){var n=ey(t,e);if(!n)return ty=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(ty=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ey(t,Math.max(0,e+o-1))[0]}function k2(t,e){var n=ey(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>k2(t*100,e),r:k2,s:Xee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function D2(t){return t}var M2=Array.prototype.map,j2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jee(t){var e=t.grouping===void 0||t.thousands===void 0?D2:Hee(M2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?D2:Kee(M2.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,y){p=fd(p);var v=p.fill,E=p.align,b=p.sign,w=p.symbol,A=p.zero,C=p.width,R=p.comma,$=p.precision,P=p.trim,k=p.type;k==="n"?(R=!0,k="g"):N2[k]||($===void 0&&($=12),P=!0,k="g"),(A||v==="0"&&E==="=")&&(A=!0,v="0",E="=");var S=(y&&y.prefix!==void 0?y.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),I=(w==="$"?r:/[%p]/.test(k)?a:"")+(y&&y.suffix!==void 0?y.suffix:""),N=N2[k],F=/[defgprs%]/.test(k);$=$===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function V(D){var M=S,G=I,K,re,ue;if(k==="c")G=N(D)+G,D="";else{D=+D;var X=D<0||1/D<0;if(D=isNaN(D)?c:N(Math.abs(D),$),P&&(D=Yee(D)),X&&+D==0&&b!=="+"&&(X=!1),M=(X?b==="("?b:u:b==="-"||b==="("?"":b)+M,G=(k==="s"&&!isNaN(D)&&ty!==void 0?j2[8+ty/3]:"")+G+(X&&b==="("?")":""),F){for(K=-1,re=D.length;++K<re;)if(ue=D.charCodeAt(K),48>ue||ue>57){G=(ue===46?i+D.slice(K+1):D.slice(K))+G,D=D.slice(0,K);break}}}R&&!A&&(D=e(D,1/0));var se=M.length+D.length+G.length,ae=se<C?new Array(C-se+1).join(v):"";switch(R&&A&&(D=e(ae+D,ae.length?C-G.length:1/0),ae=""),E){case"<":D=M+D+G+ae;break;case"=":D=M+ae+D+G;break;case"^":D=ae.slice(0,se=ae.length>>1)+M+D+G+ae.slice(se);break;default:D=ae+M+D+G;break}return o(D)}return V.toString=function(){return p+""},V}function d(p,y){var v=Math.max(-8,Math.min(8,Math.floor(bc(y)/3)))*3,E=Math.pow(10,-v),b=f((p=fd(p),p.type="f",p),{suffix:j2[8+v/3]});return function(w){return b(E*w)}}return{format:f,formatPrefix:d}}var zm,kI,D6;Zee({thousands:",",grouping:[3],currency:["$",""]});function Zee(t){return zm=Jee(t),kI=zm.format,D6=zm.formatPrefix,zm}function ete(t){return Math.max(0,-bc(Math.abs(t)))}function tte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(e)/3)))*3-bc(Math.abs(t)))}function nte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bc(e)-bc(t))+1}function M6(t,e,n,r){var i=LT(t,e,n),o;switch(r=fd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=tte(i,a))&&(r.precision=o),D6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=nte(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ete(i))&&(r.precision=o-(r.type==="%")*2);break}}return kI(r)}function us(t){var e=t.domain;return t.ticks=function(n){var r=e();return jT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return M6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,f,d=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);d-- >0;){if(f=VT(a,u,n),f===c)return r[i]=a,r[o]=u,e(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function ny(){var t=CI();return t.copy=function(){return lp(t,ny())},Gr.apply(t,arguments),us(t)}function j6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Zg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return j6(t).unknown(e)},t=arguments.length?Array.from(t,Zg):[0,1],us(n)}function V6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function V2(t){return Math.log(t)}function L2(t){return Math.exp(t)}function rte(t){return-Math.log(-t)}function ite(t){return-Math.exp(-t)}function ote(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ate(t){return t===10?ote:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ste(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $2(t){return(e,n)=>-t(-e,n)}function NI(t){const e=t(V2,L2),n=e.domain;let r=10,i,o;function a(){return i=ste(r),o=ate(r),n()[0]<0?(i=$2(i),o=$2(o),t(rte,ite)):t(V2,L2),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let y=i(f),v=i(d),E,b;const w=u==null?10:+u;let A=[];if(!(r%1)&&v-y<w){if(y=Math.floor(y),v=Math.ceil(v),f>0){for(;y<=v;++y)for(E=1;E<r;++E)if(b=y<0?E/o(-y):E*o(y),!(b<f)){if(b>d)break;A.push(b)}}else for(;y<=v;++y)for(E=r-1;E>=1;--E)if(b=y>0?E/o(-y):E*o(y),!(b<f)){if(b>d)break;A.push(b)}A.length*2<w&&(A=jT(f,d,w))}else A=jT(y,v,Math.min(v-y,w)).map(o);return p?A.reverse():A},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fd(c)).precision==null&&(c.trim=!0),c=kI(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/o(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},e.nice=()=>n(V6(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function L6(){const t=NI(bv()).domain([1,10]);return t.copy=()=>lp(t,L6()).base(t.base()),Gr.apply(t,arguments),t}function F2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function B2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function DI(t){var e=1,n=t(F2(e),B2(e));return n.constant=function(r){return arguments.length?t(F2(e=+r),B2(e)):e},us(n)}function $6(){var t=DI(bv());return t.copy=function(){return lp(t,$6()).constant(t.constant())},Gr.apply(t,arguments)}function U2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ute(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lte(t){return t<0?-t*t:t*t}function MI(t){var e=t(Qn,Qn),n=1;function r(){return n===1?t(Qn,Qn):n===.5?t(ute,lte):t(U2(n),U2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},us(e)}function jI(){var t=MI(bv());return t.copy=function(){return lp(t,jI()).exponent(t.exponent())},Gr.apply(t,arguments),t}function cte(){return jI.apply(null,arguments).exponent(.5)}function q2(t){return Math.sign(t)*t*t}function fte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function F6(){var t=CI(),e=[0,1],n=!1,r;function i(o){var a=fte(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(q2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Zg)).map(q2)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return F6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Gr.apply(i,arguments),us(i)}function B6(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=gee(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[sp(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(qa),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return B6().domain(t).range(e).unknown(r)},Gr.apply(o,arguments)}function U6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[sp(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return U6().domain([t,e]).range(i).unknown(o)},Gr.apply(us(a),arguments)}function q6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[sp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return q6().domain(t).range(e).unknown(n)},Gr.apply(i,arguments)}const Bx=new Date,Ux=new Date;function gn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<a);return c},i.filter=o=>gn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Bx.setTime(+o),Ux.setTime(+a),t(Bx),t(Ux),Math.floor(n(Bx,Ux))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ry=gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ry.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ry);ry.range;const xo=1e3,Ur=xo*60,Eo=Ur*60,jo=Eo*24,VI=jo*7,z2=jo*30,qx=jo*365,Js=gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getUTCSeconds());Js.range;const LI=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xo)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getMinutes());LI.range;const $I=gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getUTCMinutes());$I.range;const FI=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xo-t.getMinutes()*Ur)},(t,e)=>{t.setTime(+t+e*Eo)},(t,e)=>(e-t)/Eo,t=>t.getHours());FI.range;const BI=gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Eo)},(t,e)=>(e-t)/Eo,t=>t.getUTCHours());BI.range;const cp=gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/jo,t=>t.getDate()-1);cp.range;const xv=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jo,t=>t.getUTCDate()-1);xv.range;const z6=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jo,t=>Math.floor(t/jo));z6.range;function Ru(t){return gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/VI)}const Ev=Ru(0),iy=Ru(1),hte=Ru(2),dte=Ru(3),xc=Ru(4),pte=Ru(5),mte=Ru(6);Ev.range;iy.range;hte.range;dte.range;xc.range;pte.range;mte.range;function ku(t){return gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/VI)}const Tv=ku(0),oy=ku(1),gte=ku(2),yte=ku(3),Ec=ku(4),vte=ku(5),_te=ku(6);Tv.range;oy.range;gte.range;yte.range;Ec.range;vte.range;_te.range;const UI=gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UI.range;const qI=gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qI.range;const Vo=gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vo.range;const Lo=gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Lo.range;function W6(t,e,n,r,i,o){const a=[[Js,1,xo],[Js,5,5*xo],[Js,15,15*xo],[Js,30,30*xo],[o,1,Ur],[o,5,5*Ur],[o,15,15*Ur],[o,30,30*Ur],[i,1,Eo],[i,3,3*Eo],[i,6,6*Eo],[i,12,12*Eo],[r,1,jo],[r,2,2*jo],[n,1,VI],[e,1,z2],[e,3,3*z2],[t,1,qx]];function u(f,d,p){const y=d<f;y&&([f,d]=[d,f]);const v=p&&typeof p.range=="function"?p:c(f,d,p),E=v?v.range(f,+d+1):[];return y?E.reverse():E}function c(f,d,p){const y=Math.abs(d-f)/p,v=SI(([,,w])=>w).right(a,y);if(v===a.length)return t.every(LT(f/qx,d/qx,p));if(v===0)return ry.every(Math.max(LT(f,d,p),1));const[E,b]=a[y/a[v-1][2]<a[v][2]/y?v-1:v];return E.every(b)}return[u,c]}const[wte,bte]=W6(Lo,qI,Tv,z6,BI,$I),[xte,Ete]=W6(Vo,UI,Ev,cp,FI,LI);function zx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Wx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ah(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Tte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=sh(i),d=uh(i),p=sh(o),y=uh(o),v=sh(a),E=uh(a),b=sh(u),w=uh(u),A=sh(c),C=uh(c),R={a:ue,A:X,b:se,B:ae,c:null,d:Y2,e:Y2,f:Hte,g:rne,G:one,H:zte,I:Wte,j:Gte,L:G6,m:Kte,M:Qte,p:q,q:Q,Q:Z2,s:eM,S:Yte,u:Xte,U:Jte,V:Zte,w:ene,W:tne,x:null,X:null,y:nne,Y:ine,Z:ane,"%":J2},$={a:ye,A:Se,b:Ne,B:Le,c:null,d:X2,e:X2,f:cne,g:wne,G:xne,H:sne,I:une,j:lne,L:K6,m:fne,M:hne,p:He,q:$e,Q:Z2,s:eM,S:dne,u:pne,U:mne,V:gne,w:yne,W:vne,x:null,X:null,y:_ne,Y:bne,Z:Ene,"%":J2},P={a:F,A:V,b:D,B:M,c:G,d:K2,e:K2,f:Fte,g:H2,G:G2,H:Q2,I:Q2,j:jte,L:$te,m:Mte,M:Vte,p:N,q:Dte,Q:Ute,s:qte,S:Lte,u:Ote,U:Cte,V:Rte,w:Pte,W:kte,x:K,X:re,y:H2,Y:G2,Z:Nte,"%":Bte};R.x=k(n,R),R.X=k(r,R),R.c=k(e,R),$.x=k(n,$),$.X=k(r,$),$.c=k(e,$);function k(me,Ee){return function(Me){var fe=[],Ze=-1,Ge=0,jt=me.length,Tt,Wt,Yn;for(Me instanceof Date||(Me=new Date(+Me));++Ze<jt;)me.charCodeAt(Ze)===37&&(fe.push(me.slice(Ge,Ze)),(Wt=W2[Tt=me.charAt(++Ze)])!=null?Tt=me.charAt(++Ze):Wt=Tt==="e"?" ":"0",(Yn=Ee[Tt])&&(Tt=Yn(Me,Wt)),fe.push(Tt),Ge=Ze+1);return fe.push(me.slice(Ge,Ze)),fe.join("")}}function S(me,Ee){return function(Me){var fe=ah(1900,void 0,1),Ze=I(fe,me,Me+="",0),Ge,jt;if(Ze!=Me.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ee&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ge=Wx(ah(fe.y,0,1)),jt=Ge.getUTCDay(),Ge=jt>4||jt===0?oy.ceil(Ge):oy(Ge),Ge=xv.offset(Ge,(fe.V-1)*7),fe.y=Ge.getUTCFullYear(),fe.m=Ge.getUTCMonth(),fe.d=Ge.getUTCDate()+(fe.w+6)%7):(Ge=zx(ah(fe.y,0,1)),jt=Ge.getDay(),Ge=jt>4||jt===0?iy.ceil(Ge):iy(Ge),Ge=cp.offset(Ge,(fe.V-1)*7),fe.y=Ge.getFullYear(),fe.m=Ge.getMonth(),fe.d=Ge.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),jt="Z"in fe?Wx(ah(fe.y,0,1)).getUTCDay():zx(ah(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(jt+5)%7:fe.w+fe.U*7-(jt+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,Wx(fe)):zx(fe)}}function I(me,Ee,Me,fe){for(var Ze=0,Ge=Ee.length,jt=Me.length,Tt,Wt;Ze<Ge;){if(fe>=jt)return-1;if(Tt=Ee.charCodeAt(Ze++),Tt===37){if(Tt=Ee.charAt(Ze++),Wt=P[Tt in W2?Ee.charAt(Ze++):Tt],!Wt||(fe=Wt(me,Me,fe))<0)return-1}else if(Tt!=Me.charCodeAt(fe++))return-1}return fe}function N(me,Ee,Me){var fe=f.exec(Ee.slice(Me));return fe?(me.p=d.get(fe[0].toLowerCase()),Me+fe[0].length):-1}function F(me,Ee,Me){var fe=v.exec(Ee.slice(Me));return fe?(me.w=E.get(fe[0].toLowerCase()),Me+fe[0].length):-1}function V(me,Ee,Me){var fe=p.exec(Ee.slice(Me));return fe?(me.w=y.get(fe[0].toLowerCase()),Me+fe[0].length):-1}function D(me,Ee,Me){var fe=A.exec(Ee.slice(Me));return fe?(me.m=C.get(fe[0].toLowerCase()),Me+fe[0].length):-1}function M(me,Ee,Me){var fe=b.exec(Ee.slice(Me));return fe?(me.m=w.get(fe[0].toLowerCase()),Me+fe[0].length):-1}function G(me,Ee,Me){return I(me,e,Ee,Me)}function K(me,Ee,Me){return I(me,n,Ee,Me)}function re(me,Ee,Me){return I(me,r,Ee,Me)}function ue(me){return a[me.getDay()]}function X(me){return o[me.getDay()]}function se(me){return c[me.getMonth()]}function ae(me){return u[me.getMonth()]}function q(me){return i[+(me.getHours()>=12)]}function Q(me){return 1+~~(me.getMonth()/3)}function ye(me){return a[me.getUTCDay()]}function Se(me){return o[me.getUTCDay()]}function Ne(me){return c[me.getUTCMonth()]}function Le(me){return u[me.getUTCMonth()]}function He(me){return i[+(me.getUTCHours()>=12)]}function $e(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ee=k(me+="",R);return Ee.toString=function(){return me},Ee},parse:function(me){var Ee=S(me+="",!1);return Ee.toString=function(){return me},Ee},utcFormat:function(me){var Ee=k(me+="",$);return Ee.toString=function(){return me},Ee},utcParse:function(me){var Ee=S(me+="",!0);return Ee.toString=function(){return me},Ee}}}var W2={"-":"",_:" ",0:"0"},In=/^\s*\d+/,Ste=/^%/,Ite=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ate(t){return t.replace(Ite,"\\$&")}function sh(t){return new RegExp("^(?:"+t.map(Ate).join("|")+")","i")}function uh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Pte(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ote(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cte(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rte(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function kte(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function G2(t,e,n){var r=In.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function H2(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Dte(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Mte(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function K2(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jte(t,e,n){var r=In.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Q2(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Vte(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lte(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $te(t,e,n){var r=In.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Fte(t,e,n){var r=In.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bte(t,e,n){var r=Ste.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ute(t,e,n){var r=In.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qte(t,e,n){var r=In.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Y2(t,e){return ut(t.getDate(),e,2)}function zte(t,e){return ut(t.getHours(),e,2)}function Wte(t,e){return ut(t.getHours()%12||12,e,2)}function Gte(t,e){return ut(1+cp.count(Vo(t),t),e,3)}function G6(t,e){return ut(t.getMilliseconds(),e,3)}function Hte(t,e){return G6(t,e)+"000"}function Kte(t,e){return ut(t.getMonth()+1,e,2)}function Qte(t,e){return ut(t.getMinutes(),e,2)}function Yte(t,e){return ut(t.getSeconds(),e,2)}function Xte(t){var e=t.getDay();return e===0?7:e}function Jte(t,e){return ut(Ev.count(Vo(t)-1,t),e,2)}function H6(t){var e=t.getDay();return e>=4||e===0?xc(t):xc.ceil(t)}function Zte(t,e){return t=H6(t),ut(xc.count(Vo(t),t)+(Vo(t).getDay()===4),e,2)}function ene(t){return t.getDay()}function tne(t,e){return ut(iy.count(Vo(t)-1,t),e,2)}function nne(t,e){return ut(t.getFullYear()%100,e,2)}function rne(t,e){return t=H6(t),ut(t.getFullYear()%100,e,2)}function ine(t,e){return ut(t.getFullYear()%1e4,e,4)}function one(t,e){var n=t.getDay();return t=n>=4||n===0?xc(t):xc.ceil(t),ut(t.getFullYear()%1e4,e,4)}function ane(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function X2(t,e){return ut(t.getUTCDate(),e,2)}function sne(t,e){return ut(t.getUTCHours(),e,2)}function une(t,e){return ut(t.getUTCHours()%12||12,e,2)}function lne(t,e){return ut(1+xv.count(Lo(t),t),e,3)}function K6(t,e){return ut(t.getUTCMilliseconds(),e,3)}function cne(t,e){return K6(t,e)+"000"}function fne(t,e){return ut(t.getUTCMonth()+1,e,2)}function hne(t,e){return ut(t.getUTCMinutes(),e,2)}function dne(t,e){return ut(t.getUTCSeconds(),e,2)}function pne(t){var e=t.getUTCDay();return e===0?7:e}function mne(t,e){return ut(Tv.count(Lo(t)-1,t),e,2)}function Q6(t){var e=t.getUTCDay();return e>=4||e===0?Ec(t):Ec.ceil(t)}function gne(t,e){return t=Q6(t),ut(Ec.count(Lo(t),t)+(Lo(t).getUTCDay()===4),e,2)}function yne(t){return t.getUTCDay()}function vne(t,e){return ut(oy.count(Lo(t)-1,t),e,2)}function _ne(t,e){return ut(t.getUTCFullYear()%100,e,2)}function wne(t,e){return t=Q6(t),ut(t.getUTCFullYear()%100,e,2)}function bne(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function xne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ec(t):Ec.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function Ene(){return"+0000"}function J2(){return"%"}function Z2(t){return+t}function eM(t){return Math.floor(+t/1e3)}var Il,Y6,X6;Tne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tne(t){return Il=Tte(t),Y6=Il.format,Il.parse,X6=Il.utcFormat,Il.utcParse,Il}function Sne(t){return new Date(t)}function Ine(t){return t instanceof Date?+t:+new Date(+t)}function zI(t,e,n,r,i,o,a,u,c,f){var d=CI(),p=d.invert,y=d.domain,v=f(".%L"),E=f(":%S"),b=f("%I:%M"),w=f("%I %p"),A=f("%a %d"),C=f("%b %d"),R=f("%B"),$=f("%Y");function P(k){return(c(k)<k?v:u(k)<k?E:a(k)<k?b:o(k)<k?w:r(k)<k?i(k)<k?A:C:n(k)<k?R:$)(k)}return d.invert=function(k){return new Date(p(k))},d.domain=function(k){return arguments.length?y(Array.from(k,Ine)):y().map(Sne)},d.ticks=function(k){var S=y();return t(S[0],S[S.length-1],k??10)},d.tickFormat=function(k,S){return S==null?P:f(S)},d.nice=function(k){var S=y();return(!k||typeof k.range!="function")&&(k=e(S[0],S[S.length-1],k??10)),k?y(V6(S,k)):d},d.copy=function(){return lp(d,zI(t,e,n,r,i,o,a,u,c,f))},d}function Ane(){return Gr.apply(zI(xte,Ete,Vo,UI,Ev,cp,FI,LI,Js,Y6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pne(){return Gr.apply(zI(wte,bte,Lo,qI,Tv,xv,BI,$I,Js,X6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sv(){var t=0,e=1,n,r,i,o,a=Qn,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(a=p,f):a};function d(p){return function(y){var v,E;return arguments.length?([v,E]=y,a=p(v,E),f):[a(0),a(1)]}}return f.range=d(nf),f.rangeRound=d(OI),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function ls(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function J6(){var t=us(Sv()(Qn));return t.copy=function(){return ls(t,J6())},Ko.apply(t,arguments)}function Z6(){var t=NI(Sv()).domain([1,10]);return t.copy=function(){return ls(t,Z6()).base(t.base())},Ko.apply(t,arguments)}function e3(){var t=DI(Sv());return t.copy=function(){return ls(t,e3()).constant(t.constant())},Ko.apply(t,arguments)}function WI(){var t=MI(Sv());return t.copy=function(){return ls(t,WI()).exponent(t.exponent())},Ko.apply(t,arguments)}function One(){return WI.apply(null,arguments).exponent(.5)}function t3(){var t=[],e=Qn;function n(r){if(r!=null&&!isNaN(r=+r))return e((sp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>mee(t,o/r))},n.copy=function(){return t3(e).domain(t)},Ko.apply(n,arguments)}function Iv(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,f=Qn,d,p=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+d(b))-o)*(r*b<r*o?u:c),f(p?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),o=d(e=+e),a=d(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,v):[t,e,n]},v.clamp=function(b){return arguments.length?(p=!!b,v):p},v.interpolator=function(b){return arguments.length?(f=b,v):f};function E(b){return function(w){var A,C,R;return arguments.length?([A,C,R]=w,f=Bee(b,[A,C,R]),v):[f(0),f(.5),f(1)]}}return v.range=E(nf),v.rangeRound=E(OI),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return d=b,i=b(t),o=b(e),a=b(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,v}}function n3(){var t=us(Iv()(Qn));return t.copy=function(){return ls(t,n3())},Ko.apply(t,arguments)}function r3(){var t=NI(Iv()).domain([.1,1,10]);return t.copy=function(){return ls(t,r3()).base(t.base())},Ko.apply(t,arguments)}function i3(){var t=DI(Iv());return t.copy=function(){return ls(t,i3()).constant(t.constant())},Ko.apply(t,arguments)}function GI(){var t=MI(Iv());return t.copy=function(){return ls(t,GI()).exponent(t.exponent())},Ko.apply(t,arguments)}function Cne(){return GI.apply(null,arguments).exponent(.5)}const tM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sd,scaleDiverging:n3,scaleDivergingLog:r3,scaleDivergingPow:GI,scaleDivergingSqrt:Cne,scaleDivergingSymlog:i3,scaleIdentity:j6,scaleImplicit:$T,scaleLinear:ny,scaleLog:L6,scaleOrdinal:II,scalePoint:jh,scalePow:jI,scaleQuantile:B6,scaleQuantize:U6,scaleRadial:F6,scaleSequential:J6,scaleSequentialLog:Z6,scaleSequentialPow:WI,scaleSequentialQuantile:t3,scaleSequentialSqrt:One,scaleSequentialSymlog:e3,scaleSqrt:cte,scaleSymlog:$6,scaleThreshold:q6,scaleTime:Ane,scaleUtc:Pne,tickFormat:M6},Symbol.toStringTag,{value:"Module"}));var Gx,nM;function o3(){if(nM)return Gx;nM=1;var t=Jc();function e(n,r,i){for(var o=-1,a=n.length;++o<a;){var u=n[o],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,d=u}return d}return Gx=e,Gx}var Hx,rM;function Rne(){if(rM)return Hx;rM=1;function t(e,n){return e>n}return Hx=t,Hx}var Kx,iM;function kne(){if(iM)return Kx;iM=1;var t=o3(),e=Rne(),n=ef();function r(i){return i&&i.length?t(i,n,e):void 0}return Kx=r,Kx}var Nne=kne();const Av=Et(Nne);var Qx,oM;function Dne(){if(oM)return Qx;oM=1;function t(e,n){return e<n}return Qx=t,Qx}var Yx,aM;function Mne(){if(aM)return Yx;aM=1;var t=o3(),e=Dne(),n=ef();function r(i){return i&&i.length?t(i,n,e):void 0}return Yx=r,Yx}var jne=Mne();const Pv=Et(jne);var Xx,sM;function Vne(){if(sM)return Xx;sM=1;var t=uI(),e=ss(),n=p6(),r=cr();function i(o,a){var u=r(o)?t:n;return u(o,e(a,3))}return Xx=i,Xx}var Jx,uM;function Lne(){if(uM)return Jx;uM=1;var t=h6(),e=Vne();function n(r,i){return t(e(r,i),1)}return Jx=n,Jx}var $ne=Lne();const Fne=Et($ne);var Zx,lM;function Bne(){if(lM)return Zx;lM=1;var t=bI();function e(n,r){return t(n,r)}return Zx=e,Zx}var Une=Bne();const Ov=Et(Une);var rf=1e9,qne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KI,Ft=!0,Wr="[DecimalError] ",iu=Wr+"Invalid argument: ",HI=Wr+"Exponent out of range: ",of=Math.floor,zs=Math.pow,zne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,bn=1e7,Nt=7,a3=9007199254740991,ay=of(a3/Nt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Oo(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return xt(Oo(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return an(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Sr))throw Error(Wr+"NaN");if(n.s<1)throw Error(Wr+(n.s?"NaN":"-Infinity"));return n.eq(Sr)?new r(0):(Ft=!1,e=Oo(hd(n,o),hd(t,o),o),Ft=!0,xt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l3(e,t):s3(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wr+"NaN");return n.s?(Ft=!1,e=Oo(n,t,0,1).times(t),Ft=!0,n.minus(e)):xt(new r(n),i)};Pe.naturalExponential=Pe.exp=function(){return u3(this)};Pe.naturalLogarithm=Pe.ln=function(){return hd(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s3(e,t):l3(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(iu+t);if(e=an(i)+1,r=i.d.length-1,n=r*Nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Wr+"NaN")}for(t=an(u),Ft=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Fi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=of((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(Oo(u,o,a+2)).times(.5),Fi(o.d).slice(0,a)===(e=Fi(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(xt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Ft=!0,xt(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,i,o,a,u,c,f,d=this,p=d.constructor,y=d.d,v=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,c=y.length,f=v.length,c<f&&(o=y,y=v,v=o,a=c,c=f,f=a),o=[],a=c+f,r=a;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+v[r]*y[i-r-1]+e,o[i--]=u%bn|0,e=u/bn|0;o[i]=(o[i]+e)%bn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ft?xt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ki(t,0,rf),e===void 0?e=r.rounding:Ki(e,0,8),xt(n,t+an(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=_u(r,!0):(Ki(t,0,rf),e===void 0?e=i.rounding:Ki(e,0,8),r=xt(new i(r),t+1,e),n=_u(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?_u(i):(Ki(t,0,rf),e===void 0?e=o.rounding:Ki(e,0,8),r=xt(new o(i),t+an(i)+1,e),n=_u(r.abs(),!1,t+an(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return xt(new e(t),an(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(Sr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Wr+"Infinity");return u}if(u.eq(Sr))return u;if(r=c.precision,t.eq(Sr))return xt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=d<0?-d:d)<=a3){for(i=new c(Sr),e=Math.ceil(r/Nt+4),Ft=!1;n%2&&(i=i.times(u),fM(i.d,e)),n=of(n/2),n!==0;)u=u.times(u),fM(u.d,e);return Ft=!0,t.s<0?new c(Sr).div(i):xt(i,r)}}else if(o<0)throw Error(Wr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ft=!1,i=t.times(hd(u,r+f)),Ft=!0,i=u3(i),i.s=o,i};Pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=an(i),r=_u(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ki(t,1,rf),e===void 0?e=o.rounding:Ki(e,0,8),i=xt(new o(i),t,e),n=an(i),r=_u(i,t<=n||n<=o.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ki(t,1,rf),e===void 0?e=r.rounding:Ki(e,0,8)),xt(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),n=t.constructor;return _u(t,e<=n.toExpNeg||e>=n.toExpPos)};function s3(t,e){var n,r,i,o,a,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ft?xt(e,p):e;if(c=t.d,f=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=a,u=c.length),a=Math.ceil(p/Nt),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/bn|0,c[o]%=bn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Ft?xt(e,p):e}function Ki(t,e,n){if(t!==~~t||t<e||t>n)throw Error(iu+t)}function Fi(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Nt-r.length,n&&(o+=Aa(n)),o+=r;a=t[e],r=a+"",n=Nt-r.length,n&&(o+=Aa(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Oo=(function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%bn|0,a=o/bn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*bn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,f,d,p,y,v,E,b,w,A,C,R,$,P,k,S,I,N=r.constructor,F=r.s==i.s?1:-1,V=r.d,D=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Wr+"Division by zero");for(c=r.e-i.e,S=D.length,P=V.length,v=new N(F),E=v.d=[],f=0;D[f]==(V[f]||0);)++f;if(D[f]>(V[f]||0)&&--c,o==null?C=o=N.precision:a?C=o+(an(r)-an(i))+1:C=o,C<0)return new N(0);if(C=C/Nt+2|0,f=0,S==1)for(d=0,D=D[0],C++;(f<P||d)&&C--;f++)R=d*bn+(V[f]||0),E[f]=R/D|0,d=R%D|0;else{for(d=bn/(D[0]+1)|0,d>1&&(D=t(D,d),V=t(V,d),S=D.length,P=V.length),$=S,b=V.slice(0,S),w=b.length;w<S;)b[w++]=0;I=D.slice(),I.unshift(0),k=D[0],D[1]>=bn/2&&++k;do d=0,u=e(D,b,S,w),u<0?(A=b[0],S!=w&&(A=A*bn+(b[1]||0)),d=A/k|0,d>1?(d>=bn&&(d=bn-1),p=t(D,d),y=p.length,w=b.length,u=e(p,b,y,w),u==1&&(d--,n(p,S<y?I:D,y))):(d==0&&(u=d=1),p=D.slice()),y=p.length,y<w&&p.unshift(0),n(b,p,w),u==-1&&(w=b.length,u=e(D,b,S,w),u<1&&(d++,n(b,S<w?I:D,w))),w=b.length):u===0&&(d++,b=[0]),E[f++]=d,u&&b[0]?b[w++]=V[$]||0:(b=[V[$]],w=1);while(($++<P||b[0]!==void 0)&&C--)}return E[0]||E.shift(),v.e=c,xt(v,a?o+an(v)+1:o)}})();function u3(t,e){var n,r,i,o,a,u,c=0,f=0,d=t.constructor,p=d.precision;if(an(t)>16)throw Error(HI+an(t));if(!t.s)return new d(Sr);for(Ft=!1,u=p,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(r=Math.log(zs(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new d(Sr),d.precision=u;;){if(i=xt(i.times(t),u),n=n.times(++c),a=o.plus(Oo(i,n,u)),Fi(a.d).slice(0,u)===Fi(o.d).slice(0,u)){for(;f--;)o=xt(o.times(o),u);return d.precision=p,e==null?(Ft=!0,xt(o,p)):o}o=a}}function an(t){for(var e=t.e*Nt,n=t.d[0];n>=10;n/=10)e++;return e}function eE(t,e,n){if(e>t.LN10.sd())throw Ft=!0,n&&(t.precision=n),Error(Wr+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function Aa(t){for(var e="";t--;)e+="0";return e}function hd(t,e){var n,r,i,o,a,u,c,f,d,p=1,y=10,v=t,E=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(Wr+(v.s?"NaN":"-Infinity"));if(v.eq(Sr))return new b(0);if(e==null?(Ft=!1,f=w):f=e,v.eq(10))return e==null&&(Ft=!0),eE(b,f);if(f+=y,b.precision=f,n=Fi(E),r=n.charAt(0),o=an(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Fi(v.d),r=n.charAt(0),p++;o=an(v),r>1?(v=new b("0."+n),o++):v=new b(r+"."+n.slice(1))}else return c=eE(b,f+2,w).times(o+""),v=hd(new b(r+"."+n.slice(1)),f-y).plus(c),b.precision=w,e==null?(Ft=!0,xt(v,w)):v;for(u=a=v=Oo(v.minus(Sr),v.plus(Sr),f),d=xt(v.times(v),f),i=3;;){if(a=xt(a.times(d),f),c=u.plus(Oo(a,new b(i),f)),Fi(c.d).slice(0,f)===Fi(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(eE(b,f+2,w).times(o+""))),u=Oo(u,new b(p),f),b.precision=w,e==null?(Ft=!0,xt(u,w)):u;u=c,i+=2}}function cM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=of(n/Nt),t.d=[],r=(n+1)%Nt,n<0&&(r+=Nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nt;r<i;)t.d.push(+e.slice(r,r+=Nt));e=e.slice(r),r=Nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ft&&(t.e>ay||t.e<-ay))throw Error(HI+n)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,n){var r,i,o,a,u,c,f,d,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Nt,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/Nt),o=p.length,d>=o)return t;for(f=o=p[d],a=1;o>=10;o/=10)a++;r%=Nt,i=r-Nt+a}if(n!==void 0&&(o=zs(10,a-i-1),u=f/o%10|0,c=e<0||p[d+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/zs(10,a-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=an(t),p.length=1,e=e-o-1,p[0]=zs(10,(Nt-e%Nt)%Nt),t.e=of(-e/Nt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,o=1,d--):(p.length=d+1,o=zs(10,Nt-r),p[d]=i>0?(f/zs(10,a-i)%zs(10,i)|0)*o:0),c)for(;;)if(d==0){(p[0]+=o)==bn&&(p[0]=1,++t.e);break}else{if(p[d]+=o,p[d]!=bn)break;p[d--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Ft&&(t.e>ay||t.e<-ay))throw Error(HI+an(t));return t}function l3(t,e){var n,r,i,o,a,u,c,f,d,p,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ft?xt(e,v):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),a=f-r,a){for(d=a<0,d?(n=c,a=-a,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(v/Nt),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}a=0}for(d&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=bn-1;--c[o],c[i]+=bn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ft?xt(e,v):e):new y(0)}function _u(t,e,n){var r,i=an(t),o=Fi(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Aa(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Aa(-i-1)+o,n&&(r=n-a)>0&&(o+=Aa(r))):i>=a?(o+=Aa(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Aa(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Aa(r))),t.s<0?"-"+o:o}function fM(t,e){if(t.length>e)return t.length=e,!0}function c3(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(iu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return cM(a,o.toString())}else if(typeof o!="string")throw Error(iu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,zne.test(o))cM(a,o);else throw Error(iu+o)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=c3,i.config=i.set=Wne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Wne(t){if(!t||typeof t!="object")throw Error(Wr+"Object expected");var e,n,r,i=["precision",1,rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(of(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(iu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(iu+n+": "+r);return this}var KI=c3(qne);Sr=new KI(1);const vt=KI;function Gne(t){return Yne(t)||Qne(t)||Kne(t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kne(t,e){if(t){if(typeof t=="string")return qT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(t,e)}}function Qne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Yne(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xne=function(e){return e},f3={},h3=function(e){return e===f3},hM=function(e){return function n(){return arguments.length===0||arguments.length===1&&h3(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Jne=function t(e,n){return e===1?n:hM(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(u){return u!==f3}).length;return a>=e?n.apply(void 0,i):t(e-a,hM(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var d=i.map(function(p){return h3(p)?c.shift():p});return n.apply(void 0,Gne(d).concat(c))}))})},Cv=function(e){return Jne(e.length,e)},zT=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Zne=Cv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ere=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Xne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(u,c){return c(u)},o.apply(void 0,arguments))}},WT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},d3=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(u,c){return u===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function tre(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function nre(t,e,n){for(var r=new vt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var rre=Cv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ire=Cv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ore=Cv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Rv={rangeStep:nre,getDigitCount:tre,interpolateNumber:rre,uninterpolateNumber:ire,uninterpolateTruncation:ore};function GT(t){return ure(t)||sre(t)||p3(t)||are()}function are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ure(t){if(Array.isArray(t))return HT(t)}function dd(t,e){return fre(t)||cre(t,e)||p3(t,e)||lre()}function lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3(t,e){if(t){if(typeof t=="string")return HT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HT(t,e)}}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),u;!(r=(u=a.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function fre(t){if(Array.isArray(t))return t}function m3(t){var e=dd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function g3(t,e,n){if(t.lte(0))return new vt(0);var r=Rv.getDigitCount(t.toNumber()),i=new vt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new vt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?c:new vt(Math.ceil(c))}function hre(t,e,n){var r=1,i=new vt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new vt(10).pow(Rv.getDigitCount(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):n||(i=new vt(Math.floor(t)));var a=Math.floor((e-1)/2),u=ere(Zne(function(c){return i.add(new vt(c-a).mul(r)).toNumber()}),zT);return u(0,e)}function y3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var o=g3(new vt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new vt(0):(a=new vt(t).add(e).div(2),a=a.sub(new vt(a).mod(o)));var u=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new vt(e).sub(a).div(o).toNumber()),f=u+c+1;return f>n?y3(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:o,tickMin:a.sub(new vt(u).mul(o)),tickMax:a.add(new vt(c).mul(o))})}function dre(t){var e=dd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),u=m3([n,r]),c=dd(u,2),f=c[0],d=c[1];if(f===-1/0||d===1/0){var p=d===1/0?[f].concat(GT(zT(0,i-1).map(function(){return 1/0}))):[].concat(GT(zT(0,i-1).map(function(){return-1/0})),[d]);return n>r?WT(p):p}if(f===d)return hre(f,i,o);var y=y3(f,d,a,o),v=y.step,E=y.tickMin,b=y.tickMax,w=Rv.rangeStep(E,b.add(new vt(.1).mul(v)),v);return n>r?WT(w):w}function pre(t,e){var n=dd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=m3([r,i]),u=dd(a,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var d=Math.max(e,2),p=g3(new vt(f).sub(c).div(d-1),o,0),y=[].concat(GT(Rv.rangeStep(new vt(c),new vt(f).sub(new vt(.99).mul(p)),p)),[f]);return r>i?WT(y):y}var mre=d3(dre),gre=d3(pre),yre="Invariant failed";function wu(t,e){throw new Error(yre)}var vre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function _re(t,e){return Ere(t)||xre(t,e)||bre(t,e)||wre()}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(t,e){if(t){if(typeof t=="string")return dM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(t,e)}}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function Ere(t){if(Array.isArray(t))return t}function Tre(t,e){if(t==null)return{};var n=Sre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Are(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w3(r.key),r)}}function Pre(t,e,n){return e&&Are(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ore(t,e,n){return e=uy(e),Cre(t,v3()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function Cre(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(t)}function Rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KT(t,e)}function _3(t,e,n){return e=w3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w3(t){var e=Nre(t,"string");return Tc(e)=="symbol"?e:e+""}function Nre(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fp=(function(t){function e(){return Ire(this,e),Ore(this,e,arguments)}return kre(e,t),Pre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,d=r.xAxis,p=r.yAxis,y=Tre(r,vre),v=rt(y,!1);this.props.direction==="x"&&d.type!=="number"&&wu();var E=c.map(function(b){var w=f(b,u),A=w.x,C=w.y,R=w.value,$=w.errorVal;if(!$)return null;var P=[],k,S;if(Array.isArray($)){var I=_re($,2);k=I[0],S=I[1]}else k=S=$;if(o==="vertical"){var N=d.scale,F=C+i,V=F+a,D=F-a,M=N(R-k),G=N(R+S);P.push({x1:G,y1:V,x2:G,y2:D}),P.push({x1:M,y1:F,x2:G,y2:F}),P.push({x1:M,y1:V,x2:M,y2:D})}else if(o==="horizontal"){var K=p.scale,re=A+i,ue=re-a,X=re+a,se=K(R-k),ae=K(R+S);P.push({x1:ue,y1:ae,x2:X,y2:ae}),P.push({x1:re,y1:se,x2:re,y2:ae}),P.push({x1:ue,y1:se,x2:X,y2:se})}return H.createElement(Jt,sy({className:"recharts-errorBar",key:"bar-".concat(P.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},v),P.map(function(q){return H.createElement("line",sy({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return H.createElement(Jt,{className:"recharts-errorBars"},E)}}])})(H.Component);_3(fp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_3(fp,"displayName","ErrorBar");function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=jre(t,"string");return pd(e)=="symbol"?e:e+""}function jre(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Er(n,zl);if(!a)return null;var u=zl.defaultProps,c=u!==void 0?$s($s({},u),a.props):{},f;return a.props&&a.props.payload?f=a.props&&a.props.payload:o==="children"?f=(r||[]).reduce(function(d,p){var y=p.item,v=p.props,E=v.sectors||v.data||[];return d.concat(E.map(function(b){return{type:a.props.iconType||y.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(r||[]).map(function(d){var p=d.item,y=p.type.defaultProps,v=y!==void 0?$s($s({},y),p.props):{},E=v.dataKey,b=v.name,w=v.legendType,A=v.hide;return{inactive:A,dataKey:E,type:c.iconType||w||"square",color:QI(p),value:b||E,payload:v}}),$s($s($s({},c),zl.getWithHeight(a,i)),{},{payload:f,item:a})};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function mM(t){return Fre(t)||$re(t)||Lre(t)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lre(t,e){if(t){if(typeof t=="string")return QT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QT(t,e)}}function $re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fre(t){if(Array.isArray(t))return QT(t)}function QT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){Gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gl(t,e,n){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bre(t){var e=Ure(t,"string");return md(e)=="symbol"?e:e+""}function Ure(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Or(t,e,n){return Je(t)||Je(e)?n:hn(e)?qr(t,e,n):Ke(e)?e(t):n}function Vh(t,e,n,r){var i=Fne(t,function(u){return Or(u,e)});if(n==="number"){var o=i.filter(function(u){return xe(u)||parseFloat(u)});return o.length?[Pv(o),Av(o)]:[1/0,-1/0]}var a=r?i.filter(function(u){return!Je(u)}):i;return a.map(function(u){return hn(u)||u instanceof Date?u:""})}var qre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,u=(n=r?.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<u;f++){var d=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(ci(p-d)!==ci(y-p)){var E=[];if(ci(y-p)===ci(c[1]-c[0])){v=y;var b=p+c[1]-c[0];E[0]=Math.min(b,(b+d)/2),E[1]=Math.max(b,(b+d)/2)}else{v=d;var w=y+c[1]-c[0];E[0]=Math.min(p,(w+p)/2),E[1]=Math.max(p,(w+p)/2)}var A=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>A[0]&&e<=A[1]||e>=E[0]&&e<=E[1]){a=i[f].index;break}}else{var C=Math.min(d,y),R=Math.max(d,y);if(e>(C+p)/2&&e<=(R+p)/2){a=i[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<u-1&&e>(r[$].coordinate+r[$-1].coordinate)/2&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$===u-1&&e>(r[$].coordinate+r[$-1].coordinate)/2){a=r[$].index;break}return a},QI=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,a=o.stroke,u=o.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:u;break;default:c=u;break}return c},zre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},u=Object.keys(o),c=0,f=u.length;c<f;c++)for(var d=o[u[c]].stackGroups,p=Object.keys(d),y=0,v=p.length;y<v;y++){var E=d[p[y]],b=E.items,w=E.cateAxisId,A=b.filter(function(S){return Ao(S.type).indexOf("Bar")>=0});if(A&&A.length){var C=A[0].type.defaultProps,R=C!==void 0?Kt(Kt({},C),A[0].props):A[0].props,$=R.barSize,P=R[w];a[P]||(a[P]=[]);var k=Je($)?n:$;a[P].push({item:A[0],stackList:A.slice(1),barSize:Je(k)?void 0:vu(k,r,0)})}}return a},Wre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,u=e.maxBarSize,c=a.length;if(c<1)return null;var f=vu(n,i,0,!0),d,p=[];if(a[0].barSize===+a[0].barSize){var y=!1,v=i/c,E=a.reduce(function($,P){return $+P.barSize||0},0);E+=(c-1)*f,E>=i&&(E-=(c-1)*f,f=0),E>=i&&v>0&&(y=!0,v*=.9,E=c*v);var b=(i-E)/2>>0,w={offset:b-f,size:0};d=a.reduce(function($,P){var k={item:P.item,position:{offset:w.offset+w.size+f,size:y?v:P.barSize}},S=[].concat(mM($),[k]);return w=S[S.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){S.push({item:I,position:w})}),S},p)}else{var A=vu(r,i,0,!0);i-2*A-(c-1)*f<=0&&(f=0);var C=(i-2*A-(c-1)*f)/c;C>1&&(C>>=0);var R=u===+u?Math.min(C,u):C;d=a.reduce(function($,P,k){var S=[].concat(mM($),[{item:P.item,position:{offset:A+(C+f)*k+(C-R)/2,size:R}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(I){S.push({item:I,position:S[S.length-1].position})}),S},p)}return d},Gre=function(e,n,r,i){var o=r.children,a=r.width,u=r.margin,c=a-(u.left||0)-(u.right||0),f=b3({children:o,legendWidth:c});if(f){var d=i||{},p=d.width,y=d.height,v=f.align,E=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&E==="middle")&&v!=="center"&&xe(e[v]))return Kt(Kt({},e),{},Gl({},v,e[v]+(p||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&E!=="middle"&&xe(e[E]))return Kt(Kt({},e),{},Gl({},E,e[E]+(y||0)))}return e},Hre=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},x3=function(e,n,r,i,o){var a=n.props.children,u=zr(a,fp).filter(function(f){return Hre(i,o,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,d){var p=Or(d,r);if(Je(p))return f;var y=Array.isArray(p)?[Pv(p),Av(p)]:[p,p],v=c.reduce(function(E,b){var w=Or(d,b,0),A=y[0]-Math.abs(Array.isArray(w)?w[0]:w),C=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(A,E[0]),Math.max(C,E[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},Kre=function(e,n,r,i,o){var a=n.map(function(u){return x3(e,u,r,o,i)}).filter(function(u){return!Je(u)});return a&&a.length?a.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},E3=function(e,n,r,i,o){var a=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&x3(e,c,f,i)||Vh(e,f,r,o)});if(r==="number")return a.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return a.reduce(function(c,f){for(var d=0,p=f.length;d<p;d++)u[f[d]]||(u[f[d]]=!0,c.push(f[d]));return c},[])},T3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},S3=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var o,a,u=e.map(function(c){return c.coordinate===n&&(o=!0),c.coordinate===r&&(a=!0),c.coordinate});return o||u.push(n),a||u.push(r),u},To=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?ci(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(p){var y=o?o.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return d.filter(function(p){return!ip(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:o?o[p]:p,index:y,offset:f}})},tE=new WeakMap,Wm=function(e,n){if(typeof n!="function")return e;tE.has(e)||tE.set(e,new WeakMap);var r=tE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Qre=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,u=e.axisType;if(i==="auto")return a==="radial"&&u==="radiusAxis"?{scale:sd(),realScaleType:"band"}:a==="radial"&&u==="angleAxis"?{scale:ny(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jh(),realScaleType:"point"}:o==="category"?{scale:sd(),realScaleType:"band"}:{scale:ny(),realScaleType:"linear"};if(yu(i)){var c="scale".concat(pv(i));return{scale:(tM[c]||jh)(),realScaleType:tM[c]?c:"point"}}return Ke(i)?{scale:i}:{scale:jh(),realScaleType:"point"}},yM=1e-4,Yre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-yM,a=Math.max(i[0],i[1])+yM,u=e(n[0]),c=e(n[r-1]);(u<o||u>a||c<o||c>a)&&e.domain([n[0],n[r-1]])}},Xre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Jre=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(o[0]=r),(!xe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Zre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,u=0;u<n;++u){var c=ip(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=o,e[u][r][1]=o+c,o=e[u][r][1]):(e[u][r][0]=a,e[u][r][1]=a+c,a=e[u][r][1])}},eie=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var u=ip(e[a][r][1])?e[a][r][0]:e[a][r][1];u>=0?(e[a][r][0]=o,e[a][r][1]=o+u,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},tie={sign:Zre,expand:VY,none:gc,silhouette:LY,wiggle:$Y,positive:eie},nie=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),o=tie[r],a=jY().keys(i).value(function(u,c){return+Or(u,c,0)}).order(ST).offset(o);return a(e)},rie=function(e,n,r,i,o,a){if(!e)return null;var u=a?n.reverse():n,c={},f=u.reduce(function(p,y){var v,E=(v=y.type)!==null&&v!==void 0&&v.defaultProps?Kt(Kt({},y.type.defaultProps),y.props):y.props,b=E.stackId,w=E.hide;if(w)return p;var A=E[r],C=p[A]||{hasStack:!1,stackGroups:{}};if(hn(b)){var R=C.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};R.items.push(y),C.hasStack=!0,C.stackGroups[b]=R}else C.stackGroups[op("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Kt(Kt({},p),{},Gl({},A,C))},c),d={};return Object.keys(f).reduce(function(p,y){var v=f[y];if(v.hasStack){var E={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,w){var A=v.stackGroups[w];return Kt(Kt({},b),{},Gl({},w,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:nie(e,A.items,o)}))},E)}return Kt(Kt({},p),{},Gl({},y,v))},d)},iie=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var f=e.domain();if(!f.length)return null;var d=mre(f,o,u);return e.domain([Pv(d),Av(d)]),{niceTicks:d}}if(o&&i==="number"){var p=e.domain(),y=gre(p,o,u);return{niceTicks:y}}return null};function vM(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var u=Mg(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Or(i,Je(a)?e.dataKey:a);return Je(c)?null:e.scale(c)}var _M=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var c=Or(a,n.dataKey,n.domain[u]);return Je(c)?null:n.scale(c)-o/2+i},oie=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},aie=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(hn(o)){var a=n[o];if(a){var u=a.items.indexOf(e);return u>=0?a.stackedData[u]:null}}return null},sie=function(e){return e.reduce(function(n,r){return[Pv(r.concat([n[0]]).filter(xe)),Av(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},I3=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],u=a.stackedData,c=u.reduce(function(f,d){var p=sie(d.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},wM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YT=function(e,n,r){if(Ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(xe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(wM.test(e[0])){var o=+wM.exec(e[0])[1];i[0]=n[0]-o}else Ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(xe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(bM.test(e[1])){var a=+bM.exec(e[1])[1];i[1]=n[1]+a}else Ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ly=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=EI(n,function(p){return p.coordinate}),a=1/0,u=1,c=o.length;u<c;u++){var f=o[u],d=o[u-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},xM=function(e,n,r){return!e||!e.length||Ov(e,qr(r,"type.defaultProps.domain"))?n:e},A3=function(e,n){var r=e.type.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,d=r.hide;return Kt(Kt({},rt(e,!1)),{},{dataKey:i,unit:a,formatter:u,name:o||i,color:QI(e),value:Or(n,i),type:c,payload:n,chartType:f,hide:d})};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){uie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uie(t,e,n){return e=lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lie(t){var e=cie(t,"string");return gd(e)=="symbol"?e:e+""}function cie(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cy=Math.PI/180,fie=function(e){return e*180/Math.PI},Nn=function(e,n,r,i){return{x:e+Math.cos(-cy*i)*r,y:n+Math.sin(-cy*i)*r}},hie=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},die=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,u=hie({x:r,y:i},{x:o,y:a});if(u<=0)return{radius:u};var c=(r-o)/u,f=Math.acos(c);return i>a&&(f=2*Math.PI-f),{radius:u,angle:fie(f),angleInRadian:f}},pie=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},mie=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),u=Math.min(o,a);return e+u*360},SM=function(e,n){var r=e.x,i=e.y,o=die({x:r,y:i},n),a=o.radius,u=o.angle,c=n.innerRadius,f=n.outerRadius;if(a<c||a>f)return!1;if(a===0)return!0;var d=pie(n),p=d.startAngle,y=d.endAngle,v=u,E;if(p<=y){for(;v>y;)v-=360;for(;v<p;)v+=360;E=v>=p&&v<=y}else{for(;v>p;)v-=360;for(;v<y;)v+=360;E=v>=y&&v<=p}return E?TM(TM({},n),{},{radius:a,angle:mie(v,n)}):null};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var gie=["offset"];function yie(t){return bie(t)||wie(t)||_ie(t)||vie()}function vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ie(t,e){if(t){if(typeof t=="string")return XT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(t,e)}}function wie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bie(t){if(Array.isArray(t))return XT(t)}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xie(t,e){if(t==null)return{};var n=Eie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){Tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tie(t,e,n){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Iie(t,"string");return yd(e)=="symbol"?e:e+""}function Iie(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}var Aie=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Ke(r)?r(i):i},Pie=function(e,n){var r=ci(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Oie=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,u=e.className,c=o,f=c.cx,d=c.cy,p=c.innerRadius,y=c.outerRadius,v=c.startAngle,E=c.endAngle,b=c.clockWise,w=(p+y)/2,A=Pie(v,E),C=A>=0?1:-1,R,$;i==="insideStart"?(R=v+C*a,$=b):i==="insideEnd"?(R=E-C*a,$=!b):i==="end"&&(R=E+C*a,$=b),$=A<=0?$:!$;var P=Nn(f,d,w,R),k=Nn(f,d,w,R+($?1:-1)*359),S="M".concat(P.x,",").concat(P.y,`
    A`).concat(w,",").concat(w,",0,1,").concat($?0:1,`,
    `).concat(k.x,",").concat(k.y),I=Je(e.id)?op("recharts-radial-line-"):e.id;return H.createElement("text",vd({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:I,d:S})),H.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Cie=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,u=o.cy,c=o.innerRadius,f=o.outerRadius,d=o.startAngle,p=o.endAngle,y=(d+p)/2;if(i==="outside"){var v=Nn(a,u,f+r,y),E=v.x,b=v.y;return{x:E,y:b,textAnchor:E>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,A=Nn(a,u,w,y),C=A.x,R=A.y;return{x:C,y:R,textAnchor:"middle",verticalAnchor:"middle"}},Rie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,u=a.x,c=a.y,f=a.width,d=a.height,p=d>=0?1:-1,y=p*i,v=p>0?"end":"start",E=p>0?"start":"end",b=f>=0?1:-1,w=b*i,A=b>0?"end":"start",C=b>0?"start":"end";if(o==="top"){var R={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:v};return fn(fn({},R),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var $={x:u+f/2,y:c+d+y,textAnchor:"middle",verticalAnchor:E};return fn(fn({},$),r?{height:Math.max(r.y+r.height-(c+d),0),width:f}:{})}if(o==="left"){var P={x:u-w,y:c+d/2,textAnchor:A,verticalAnchor:"middle"};return fn(fn({},P),r?{width:Math.max(P.x-r.x,0),height:d}:{})}if(o==="right"){var k={x:u+f+w,y:c+d/2,textAnchor:C,verticalAnchor:"middle"};return fn(fn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:d}:{})}var S=r?{width:f,height:d}:{};return o==="insideLeft"?fn({x:u+w,y:c+d/2,textAnchor:C,verticalAnchor:"middle"},S):o==="insideRight"?fn({x:u+f-w,y:c+d/2,textAnchor:A,verticalAnchor:"middle"},S):o==="insideTop"?fn({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:E},S):o==="insideBottom"?fn({x:u+f/2,y:c+d-y,textAnchor:"middle",verticalAnchor:v},S):o==="insideTopLeft"?fn({x:u+w,y:c+y,textAnchor:C,verticalAnchor:E},S):o==="insideTopRight"?fn({x:u+f-w,y:c+y,textAnchor:A,verticalAnchor:E},S):o==="insideBottomLeft"?fn({x:u+w,y:c+d-y,textAnchor:C,verticalAnchor:v},S):o==="insideBottomRight"?fn({x:u+f-w,y:c+d-y,textAnchor:A,verticalAnchor:v},S):Zc(o)&&(xe(o.x)||Ys(o.x))&&(xe(o.y)||Ys(o.y))?fn({x:u+vu(o.x,f),y:c+vu(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):fn({x:u+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},kie=function(e){return"cx"in e&&xe(e.cx)};function Un(t){var e=t.offset,n=e===void 0?5:e,r=xie(t,gie),i=fn({offset:n},r),o=i.viewBox,a=i.position,u=i.value,c=i.children,f=i.content,d=i.className,p=d===void 0?"":d,y=i.textBreakAll;if(!o||Je(u)&&Je(c)&&!ne.isValidElement(f)&&!Ke(f))return null;if(ne.isValidElement(f))return ne.cloneElement(f,i);var v;if(Ke(f)){if(v=ne.createElement(f,i),ne.isValidElement(v))return v}else v=Aie(i);var E=kie(o),b=rt(i,!0);if(E&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Oie(i,v,b);var w=E?Cie(i):Rie(i);return H.createElement(Kg,vd({className:at("recharts-label",p)},b,w,{breakAll:y}),v)}Un.displayName="Label";var P3=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,d=e.outerRadius,p=e.x,y=e.y,v=e.top,E=e.left,b=e.width,w=e.height,A=e.clockWise,C=e.labelViewBox;if(C)return C;if(xe(b)&&xe(w)){if(xe(p)&&xe(y))return{x:p,y,width:b,height:w};if(xe(v)&&xe(E))return{x:v,y:E,width:b,height:w}}return xe(p)&&xe(y)?{x:p,y,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:f||0,outerRadius:d||c||u||0,clockWise:A}:e.viewBox?e.viewBox:{}},Nie=function(e,n){return e?e===!0?H.createElement(Un,{key:"label-implicit",viewBox:n}):hn(e)?H.createElement(Un,{key:"label-implicit",viewBox:n,value:e}):ne.isValidElement(e)?e.type===Un?ne.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(Un,{key:"label-implicit",content:e,viewBox:n}):Ke(e)?H.createElement(Un,{key:"label-implicit",content:e,viewBox:n}):Zc(e)?H.createElement(Un,vd({viewBox:n},e,{key:"label-implicit"})):null:null},Die=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=P3(e),a=zr(i,Un).map(function(c,f){return ne.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return a;var u=Nie(e.label,n||o);return[u].concat(yie(a))};Un.parseViewBox=P3;Un.renderCallByParent=Die;var nE,AM;function Mie(){if(AM)return nE;AM=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return nE=t,nE}var jie=Mie();const Vie=Et(jie);function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}var Lie=["valueAccessor"],$ie=["data","dataKey","clockWise","id","textBreakAll"];function Fie(t){return zie(t)||qie(t)||Uie(t)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uie(t,e){if(t){if(typeof t=="string")return JT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JT(t,e)}}function qie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zie(t){if(Array.isArray(t))return JT(t)}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){Wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wie(t,e,n){return e=Gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Hie(t,"string");return _d(e)=="symbol"?e:e+""}function Hie(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CM(t,e){if(t==null)return{};var n=Kie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qie=function(e){return Array.isArray(e.value)?Vie(e.value):e.value};function za(t){var e=t.valueAccessor,n=e===void 0?Qie:e,r=CM(t,Lie),i=r.data,o=r.dataKey,a=r.clockWise,u=r.id,c=r.textBreakAll,f=CM(r,$ie);return!i||!i.length?null:H.createElement(Jt,{className:"recharts-label-list"},i.map(function(d,p){var y=Je(o)?n(d,p):Or(d&&d.payload,o),v=Je(u)?{}:{id:"".concat(u,"-").concat(p)};return H.createElement(Un,fy({},rt(d,!0),f,v,{parentViewBox:d.parentViewBox,value:y,textBreakAll:c,viewBox:Un.parseViewBox(Je(a)?d:OM(OM({},d),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}za.displayName="LabelList";function Yie(t,e){return t?t===!0?H.createElement(za,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ke(t)?H.createElement(za,{key:"labelList-implicit",data:e,content:t}):Zc(t)?H.createElement(za,fy({data:e},t,{key:"labelList-implicit"})):null:null}function Xie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=zr(r,za).map(function(a,u){return ne.cloneElement(a,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var o=Yie(t.label,e);return[o].concat(Fie(i))}za.renderCallByParent=Xie;function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function ZT(){return ZT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZT.apply(this,arguments)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return e=Zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eoe(t,"string");return wd(e)=="symbol"?e:e+""}function eoe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=function(e,n){var r=ci(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Gm=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,d=c*(u?1:-1)+i,p=Math.asin(c/d)/cy,y=f?o:o+a*p,v=Nn(n,r,d,y),E=Nn(n,r,i,y),b=f?o-a*p:o,w=Nn(n,r,d*Math.cos(p*cy),b);return{center:v,circleTangency:E,lineTangency:w,theta:p}},O3=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,u=e.endAngle,c=toe(a,u),f=a+c,d=Nn(n,r,o,a),p=Nn(n,r,o,f),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Nn(n,r,i,a),E=Nn(n,r,i,f);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},noe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,d=e.endAngle,p=ci(d-f),y=Gm({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:a,cornerIsExternal:c}),v=y.circleTangency,E=y.lineTangency,b=y.theta,w=Gm({cx:n,cy:r,radius:o,angle:d,sign:-p,cornerRadius:a,cornerIsExternal:c}),A=w.circleTangency,C=w.lineTangency,R=w.theta,$=c?Math.abs(f-d):Math.abs(f-d)-b-R;if($<0)return u?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):O3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d});var P="M ".concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+($>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var k=Gm({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),S=k.circleTangency,I=k.lineTangency,N=k.theta,F=Gm({cx:n,cy:r,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),V=F.circleTangency,D=F.lineTangency,M=F.theta,G=c?Math.abs(f-d):Math.abs(f-d)-N-M;if(G<0&&a===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(p>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},roe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C3=function(e){var n=kM(kM({},roe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,d=n.startAngle,p=n.endAngle,y=n.className;if(a<o||d===p)return null;var v=at("recharts-sector",y),E=a-o,b=vu(u,E,0,!0),w;return b>0&&Math.abs(d-p)<360?w=noe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(b,E/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):w=O3({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:p}),H.createElement("path",ZT({},rt(n,!0),{className:v,d:w,role:"img"}))};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e1.apply(this,arguments)}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ioe(t,e,n){return e=ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=aoe(t,"string");return bd(e)=="symbol"?e:e+""}function aoe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MM={curveBasisClosed:SY,curveBasisOpen:IY,curveBasis:TY,curveBumpX:cY,curveBumpY:fY,curveLinearClosed:AY,curveLinear:gv,curveMonotoneX:PY,curveMonotoneY:OY,curveNatural:CY,curveStep:RY,curveStepAfter:NY,curveStepBefore:kY},Hm=function(e){return e.x===+e.x&&e.y===+e.y},lh=function(e){return e.x},ch=function(e){return e.y},soe=function(e,n){if(Ke(e))return e;var r="curve".concat(pv(e));return(r==="curveMonotone"||r==="curveBump")&&n?MM["".concat(r).concat(n==="vertical"?"Y":"X")]:MM[r]||gv},uoe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,d=soe(r,u),p=f?o.filter(function(b){return Hm(b)}):o,y;if(Array.isArray(a)){var v=f?a.filter(function(b){return Hm(b)}):a,E=p.map(function(b,w){return DM(DM({},b),{},{base:v[w]})});return u==="vertical"?y=Lm().y(ch).x1(lh).x0(function(b){return b.base.x}):y=Lm().x(lh).y1(ch).y0(function(b){return b.base.y}),y.defined(Hm).curve(d),y(E)}return u==="vertical"&&xe(a)?y=Lm().y(ch).x1(lh).x0(a):xe(a)?y=Lm().x(lh).y1(ch).y0(a):y=M4().x(lh).y(ch),y.defined(Hm).curve(d),y(p)},t1=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?uoe(e):i;return ne.createElement("path",e1({},rt(e,!1),jg(e),{className:at("recharts-curve",n),d:a,ref:o}))},rE={exports:{}},iE,jM;function loe(){if(jM)return iE;jM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return iE=t,iE}var oE,VM;function coe(){if(VM)return oE;VM=1;var t=loe();function e(){}function n(){}return n.resetWarningCache=e,oE=function(){function r(a,u,c,f,d,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},oE}var LM;function foe(){return LM||(LM=1,rE.exports=coe()()),rE.exports}var hoe=foe();const ht=Et(hoe),{getOwnPropertyNames:doe,getOwnPropertySymbols:poe}=Object,{hasOwnProperty:moe}=Object.prototype;function aE(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Km(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),u=o.get(r);if(a&&u)return a===r&&u===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function goe(t){return t?.[Symbol.toStringTag]}function $M(t){return doe(t).concat(poe(t))}const yoe=Object.hasOwn||((t,e)=>moe.call(t,e));function Nu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const voe="__v",_oe="__o",woe="_owner",{getOwnPropertyDescriptor:FM,keys:BM}=Object;function boe(t,e){return t.byteLength===e.byteLength&&hy(new Uint8Array(t),new Uint8Array(e))}function xoe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Eoe(t,e){return t.byteLength===e.byteLength&&hy(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Toe(t,e){return Nu(t.getTime(),e.getTime())}function Soe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ioe(t,e){return t===e}function UM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,u,c=0;for(;(a=o.next())&&!a.done;){const f=e.entries();let d=!1,p=0;for(;(u=f.next())&&!u.done;){if(i[p]){p++;continue}const y=a.value,v=u.value;if(n.equals(y[0],v[0],c,p,t,e,n)&&n.equals(y[1],v[1],y[0],v[0],t,e,n)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}const Aoe=Nu;function Poe(t,e,n){const r=BM(t);let i=r.length;if(BM(e).length!==i)return!1;for(;i-- >0;)if(!R3(t,e,n,r[i]))return!1;return!0}function fh(t,e,n){const r=$M(t);let i=r.length;if($M(e).length!==i)return!1;let o,a,u;for(;i-- >0;)if(o=r[i],!R3(t,e,n,o)||(a=FM(t,o),u=FM(e,o),(a||u)&&(!a||!u||a.configurable!==u.configurable||a.enumerable!==u.enumerable||a.writable!==u.writable)))return!1;return!0}function Ooe(t,e){return Nu(t.valueOf(),e.valueOf())}function Coe(t,e){return t.source===e.source&&t.flags===e.flags}function qM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,u;for(;(a=o.next())&&!a.done;){const c=e.values();let f=!1,d=0;for(;(u=c.next())&&!u.done;){if(!i[d]&&n.equals(a.value,u.value,a.value,u.value,t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function hy(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Roe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function R3(t,e,n,r){return(r===woe||r===_oe||r===voe)&&(t.$$typeof||e.$$typeof)?!0:yoe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const koe="[object ArrayBuffer]",Noe="[object Arguments]",Doe="[object Boolean]",Moe="[object DataView]",joe="[object Date]",Voe="[object Error]",Loe="[object Map]",$oe="[object Number]",Foe="[object Object]",Boe="[object RegExp]",Uoe="[object Set]",qoe="[object String]",zoe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Woe="[object URL]",Goe=Object.prototype.toString;function Hoe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:d,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:v,unknownTagComparators:E}){return function(w,A,C){if(w===A)return!0;if(w==null||A==null)return!1;const R=typeof w;if(R!==typeof A)return!1;if(R!=="object")return R==="number"?u(w,A,C):R==="function"?o(w,A,C):!1;const $=w.constructor;if($!==A.constructor)return!1;if($===Object)return c(w,A,C);if(Array.isArray(w))return e(w,A,C);if($===Date)return r(w,A,C);if($===RegExp)return d(w,A,C);if($===Map)return a(w,A,C);if($===Set)return p(w,A,C);const P=Goe.call(w);if(P===joe)return r(w,A,C);if(P===Boe)return d(w,A,C);if(P===Loe)return a(w,A,C);if(P===Uoe)return p(w,A,C);if(P===Foe)return typeof w.then!="function"&&typeof A.then!="function"&&c(w,A,C);if(P===Woe)return v(w,A,C);if(P===Voe)return i(w,A,C);if(P===Noe)return c(w,A,C);if(zoe[P])return y(w,A,C);if(P===koe)return t(w,A,C);if(P===Moe)return n(w,A,C);if(P===Doe||P===$oe||P===qoe)return f(w,A,C);if(E){let k=E[P];if(!k){const S=goe(w);S&&(k=E[S])}if(k)return k(w,A,C)}return!1}}function Koe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:boe,areArraysEqual:n?fh:xoe,areDataViewsEqual:Eoe,areDatesEqual:Toe,areErrorsEqual:Soe,areFunctionsEqual:Ioe,areMapsEqual:n?aE(UM,fh):UM,areNumbersEqual:Aoe,areObjectsEqual:n?fh:Poe,arePrimitiveWrappersEqual:Ooe,areRegExpsEqual:Coe,areSetsEqual:n?aE(qM,fh):qM,areTypedArraysEqual:n?aE(hy,fh):hy,areUrlsEqual:Roe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Km(r.areArraysEqual),o=Km(r.areMapsEqual),a=Km(r.areObjectsEqual),u=Km(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:u})}return r}function Qoe(t){return function(e,n,r,i,o,a,u){return t(e,n,u)}}function Yoe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,c){const{cache:f=t?new WeakMap:void 0,meta:d}=n();return e(u,c,{cache:f,equals:r,meta:d,strict:i})};if(t)return function(u,c){return e(u,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,c){return e(u,c,o)}}const Xoe=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:()=>Nu});cs({strict:!0,createInternalComparator:()=>Nu});cs({circular:!0,createInternalComparator:()=>Nu});cs({circular:!0,createInternalComparator:()=>Nu,strict:!0});function cs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Koe(t),a=Hoe(o),u=n?n(a):Qoe(a);return Yoe({circular:e,comparator:a,createState:r,equals:u,strict:i})}function Joe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function zM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Joe(i)};requestAnimationFrame(r)}function n1(t){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n1(t)}function Zoe(t){return rae(t)||nae(t)||tae(t)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return WM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WM(t,e)}}function WM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rae(t){if(Array.isArray(t))return t}function iae(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,u=Zoe(a),c=u[0],f=u.slice(1);if(typeof c=="number"){zM(i.bind(null,f),c);return}i(c),zM(i.bind(null,f));return}n1(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){k3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k3(t,e,n){return e=oae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=aae(t,"string");return xd(e)==="symbol"?e:String(e)}function aae(t,e){if(xd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},uae=function(e){return e},lae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lh=function(e,n){return Object.keys(n).reduce(function(r,i){return HM(HM({},r),{},k3({},i,e(i,n[i])))},{})},KM=function(e,n,r){return e.map(function(i){return"".concat(lae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function cae(t,e){return dae(t)||hae(t,e)||N3(t,e)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function dae(t){if(Array.isArray(t))return t}function pae(t){return yae(t)||gae(t)||N3(t)||mae()}function mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3(t,e){if(t){if(typeof t=="string")return r1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(t,e)}}function gae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yae(t){if(Array.isArray(t))return r1(t)}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dy=1e-4,D3=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},M3=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},QM=function(e,n){return function(r){var i=D3(e,n);return M3(i,r)}},vae=function(e,n){return function(r){var i=D3(e,n),o=[].concat(pae(i.map(function(a,u){return a*u}).slice(1)),[0]);return M3(o,r)}},YM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,u=1;break;case"ease":i=.25,o=.1,a=.25,u=1;break;case"ease-in":i=.42,o=0,a=1,u=1;break;case"ease-out":i=.42,o=0,a=.58,u=1;break;case"ease-in-out":i=0,o=0,a=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=cae(f,4);i=d[0],o=d[1],a=d[2],u=d[3]}}}var p=QM(i,a),y=QM(o,u),v=vae(i,a),E=function(A){return A>1?1:A<0?0:A},b=function(A){for(var C=A>1?1:A,R=C,$=0;$<8;++$){var P=p(R)-C,k=v(R);if(Math.abs(P-C)<dy||k<dy)return y(R);R=E(R-P/k)}return y(R)};return b.isStepper=!1,b},_ae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,u=a===void 0?17:a,c=function(d,p,y){var v=-(d-p)*r,E=y*o,b=y+(v-E)*u/1e3,w=y*u/1e3+d;return Math.abs(w-p)<dy&&Math.abs(b)<dy?[p,0]:[w,b]};return c.isStepper=!0,c.dt=u,c},wae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YM(i);case"spring":return _ae();default:if(i.split("(")[0]==="cubic-bezier")return YM(i)}return typeof i=="function"?i:null};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function XM(t){return Eae(t)||xae(t)||j3(t)||bae()}function bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eae(t){if(Array.isArray(t))return o1(t)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){i1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1(t,e,n){return e=Tae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tae(t){var e=Sae(t,"string");return Ed(e)==="symbol"?e:String(e)}function Sae(t,e){if(Ed(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iae(t,e){return Oae(t)||Pae(t,e)||j3(t,e)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3(t,e){if(t){if(typeof t=="string")return o1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o1(t,e)}}function o1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function Oae(t){if(Array.isArray(t))return t}var py=function(e,n,r){return e+(n-e)*r},a1=function(e){var n=e.from,r=e.to;return n!==r},Cae=function t(e,n,r){var i=Lh(function(o,a){if(a1(a)){var u=e(a.from,a.to,a.velocity),c=Iae(u,2),f=c[0],d=c[1];return Rn(Rn({},a),{},{from:f,velocity:d})}return a},n);return r<1?Lh(function(o,a){return a1(a)?Rn(Rn({},a),{},{velocity:py(a.velocity,i[o].velocity,r),from:py(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Rae=(function(t,e,n,r,i){var o=sae(t,e),a=o.reduce(function(w,A){return Rn(Rn({},w),{},i1({},A,[t[A],e[A]]))},{}),u=o.reduce(function(w,A){return Rn(Rn({},w),{},i1({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,f,d,p=function(){return null},y=function(){return Lh(function(A,C){return C.from},u)},v=function(){return!Object.values(u).filter(a1).length},E=function(A){f||(f=A);var C=A-f,R=C/n.dt;u=Cae(n,u,R),i(Rn(Rn(Rn({},t),e),y())),f=A,v()||(c=requestAnimationFrame(p))},b=function(A){d||(d=A);var C=(A-d)/r,R=Lh(function(P,k){return py.apply(void 0,XM(k).concat([n(C)]))},a);if(i(Rn(Rn(Rn({},t),e),R)),C<1)c=requestAnimationFrame(p);else{var $=Lh(function(P,k){return py.apply(void 0,XM(k).concat([n(1)]))},a);i(Rn(Rn(Rn({},t),e),$))}};return p=n.isStepper?E:b,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var kae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nae(t,e){if(t==null)return{};var n=Dae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sE(t){return Lae(t)||Vae(t)||jae(t)||Mae()}function Mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return s1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(t,e)}}function Vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lae(t){if(Array.isArray(t))return s1(t)}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xh(t,e,n){return e=V3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V3(r.key),r)}}function Bae(t,e,n){return e&&Fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V3(t){var e=Uae(t,"string");return Sc(e)==="symbol"?e:String(e)}function Uae(t,e){if(Sc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u1(t,e)}function zae(t){var e=Wae();return function(){var r=my(t),i;if(e){var o=my(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return l1(this,i)}}function l1(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c1(t)}function c1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(t)}var $o=(function(t){qae(n,t);var e=zae(n);function n(r,i){var o;$ae(this,n),o=e.call(this,r,i);var a=o.props,u=a.isActive,c=a.attributeName,f=a.from,d=a.to,p=a.steps,y=a.children,v=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(c1(o)),o.changeStyle=o.changeStyle.bind(c1(o)),!u||v<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:d}),l1(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof y=="function")return o.state={style:f},l1(o);o.state={style:c?xh({},c,f):f}}else o.state={style:{}};return o}return Bae(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,u=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,d=o.to,p=o.from,y=this.state.style;if(u){if(!a){var v={style:c?xh({},c,d):d};this.state&&y&&(c&&y[c]!==d||!c&&y!==d)&&this.setState(v);return}if(!(Xoe(i.to,d)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=E||f?p:i.to;if(this.state&&y){var w={style:c?xh({},c,b):b};(c&&y[c]!==b||!c&&y!==b)&&this.setState(w)}this.runAnimation(ri(ri({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,u=i.to,c=i.duration,f=i.easing,d=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,v=Rae(a,u,wae(f),c,this.changeStyle),E=function(){o.stopJSAnimation=v()};this.manager.start([y,d,E,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,u=i.begin,c=i.onAnimationStart,f=a[0],d=f.style,p=f.duration,y=p===void 0?0:p,v=function(b,w,A){if(A===0)return b;var C=w.duration,R=w.easing,$=R===void 0?"ease":R,P=w.style,k=w.properties,S=w.onAnimationEnd,I=A>0?a[A-1]:w,N=k||Object.keys(P);if(typeof $=="function"||$==="spring")return[].concat(sE(b),[o.runJSAnimation.bind(o,{from:I.style,to:P,duration:C,easing:$}),C]);var F=KM(N,C,$),V=ri(ri(ri({},I.style),P),{},{transition:F});return[].concat(sE(b),[V,C,S]).filter(uae)};return this.manager.start([c].concat(sE(a.reduce(v,[d,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=iae());var o=i.begin,a=i.duration,u=i.attributeName,c=i.to,f=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,v=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var b=u?xh({},u,c):c,w=KM(Object.keys(b),a,f);E.start([d,o,ri(ri({},b),{},{transition:w}),a,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Nae(i,kae),f=ne.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!u||f===0||a<=0)return o;var p=function(v){var E=v.props,b=E.style,w=b===void 0?{}:b,A=E.className,C=ne.cloneElement(v,ri(ri({},c),{},{style:ri(ri({},w),d),className:A}));return C};return f===1?p(ne.Children.only(o)):H.createElement("div",null,ne.Children.map(o,function(y){return p(y)}))}}]),n})(ne.PureComponent);$o.displayName="Animate";$o.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$o.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}function Gae(t,e){return Yae(t)||Qae(t,e)||Kae(t,e)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(t,e){if(t){if(typeof t=="string")return ej(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(t,e)}}function ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function Yae(t){if(Array.isArray(t))return t}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){Xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xae(t,e,n){return e=Jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Zae(t,"string");return Td(e)=="symbol"?e:e+""}function Zae(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rj=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var p=[0,0,0,0],y=0,v=4;y<v;y++)p[y]=o[y]>a?a:o[y];d="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),d+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*p[1])),d+="L ".concat(e+r,",").concat(n+i-u*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),d+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*p[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var E=Math.min(a,o);d="M ".concat(e,",").concat(n+u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+c*E,",").concat(n,`
            L `).concat(e+r-c*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*E,`
            L `).concat(e+r,",").concat(n+i-u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+r-c*E,",").concat(n+i,`
            L `).concat(e+c*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*E," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},ese=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(o,o+u),d=Math.max(o,o+u),p=Math.min(a,a+c),y=Math.max(a,a+c);return r>=f&&r<=d&&i>=p&&i<=y}return!1},tse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YI=function(e){var n=nj(nj({},tse),e),r=ne.useRef(),i=ne.useState(-1),o=Gae(i,2),a=o[0],u=o[1];ne.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&u($)}catch{}},[]);var c=n.x,f=n.y,d=n.width,p=n.height,y=n.radius,v=n.className,E=n.animationEasing,b=n.animationDuration,w=n.animationBegin,A=n.isAnimationActive,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||d===0||p===0)return null;var R=at("recharts-rectangle",v);return C?H.createElement($o,{canBegin:a>0,from:{width:d,height:p,x:c,y:f},to:{width:d,height:p,x:c,y:f},duration:b,animationEasing:E,isActive:C},function($){var P=$.width,k=$.height,S=$.x,I=$.y;return H.createElement($o,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:A,easing:E},H.createElement("path",gy({},rt(n,!0),{className:R,d:rj(S,I,P,k,y),ref:r})))}):H.createElement("path",gy({},rt(n,!0),{className:R,d:rj(c,f,d,p,y)}))};function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(this,arguments)}var XI=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=at("recharts-dot",o);return n===+n&&r===+r&&i===+i?ne.createElement("circle",f1({},rt(e,!1),jg(e),{className:a,cx:n,cy:r,r:i})):null};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}var nse=["x","y","top","left","width","height","className"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(this,arguments)}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ise(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=ase(t,"string");return Sd(e)=="symbol"?e:e+""}function ase(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sse(t,e){if(t==null)return{};var n=use(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function use(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lse=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},cse=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,u=a===void 0?0:a,c=e.left,f=c===void 0?0:c,d=e.width,p=d===void 0?0:d,y=e.height,v=y===void 0?0:y,E=e.className,b=sse(e,nse),w=rse({x:r,y:o,top:u,left:f,width:p,height:v},b);return!xe(r)||!xe(o)||!xe(p)||!xe(v)||!xe(u)||!xe(f)?null:H.createElement("path",h1({},rt(w,!0),{className:at("recharts-cross",E),d:lse(r,o,p,v,u,f)}))},uE,oj;function fse(){if(oj)return uE;oj=1;var t=i6(),e=t(Object.getPrototypeOf,Object);return uE=e,uE}var lE,aj;function hse(){if(aj)return lE;aj=1;var t=Go(),e=fse(),n=Ho(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,u=o.hasOwnProperty,c=a.call(Object);function f(d){if(!n(d)||t(d)!=r)return!1;var p=e(d);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&a.call(y)==c}return lE=f,lE}var dse=hse();const pse=Et(dse);var cE,sj;function mse(){if(sj)return cE;sj=1;var t=Go(),e=Ho(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return cE=r,cE}var gse=mse();const yse=Et(gse);function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function vse(t,e){return xse(t)||bse(t,e)||wse(t,e)||_se()}function _se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(t,e){if(t){if(typeof t=="string")return uj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uj(t,e)}}function uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function xse(t){if(Array.isArray(t))return t}function lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(n),!0).forEach(function(r){Ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ese(t,e,n){return e=Tse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tse(t){var e=Sse(t,"string");return Id(e)=="symbol"?e:e+""}function Sse(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fj=function(e,n,r,i,o){var a=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-a/2,",").concat(n+o),u+="L ".concat(e+r-a/2-i,",").concat(n+o),u+="L ".concat(e,",").concat(n," Z"),u},Ise={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ase=function(e){var n=cj(cj({},Ise),e),r=ne.useRef(),i=ne.useState(-1),o=vse(i,2),a=o[0],u=o[1];ne.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&u(R)}catch{}},[]);var c=n.x,f=n.y,d=n.upperWidth,p=n.lowerWidth,y=n.height,v=n.className,E=n.animationEasing,b=n.animationDuration,w=n.animationBegin,A=n.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||y!==+y||d===0&&p===0||y===0)return null;var C=at("recharts-trapezoid",v);return A?H.createElement($o,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:d,lowerWidth:p,height:y,x:c,y:f},duration:b,animationEasing:E,isActive:A},function(R){var $=R.upperWidth,P=R.lowerWidth,k=R.height,S=R.x,I=R.y;return H.createElement($o,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:E},H.createElement("path",yy({},rt(n,!0),{className:C,d:fj(S,I,$,P,k),ref:r})))}):H.createElement("g",null,H.createElement("path",yy({},rt(n,!0),{className:C,d:fj(c,f,d,p,y)})))},Pse=["option","shapeType","propTransformer","activeClassName","isActive"];function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Ose(t,e){if(t==null)return{};var n=Cse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){Rse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Nse(t,"string");return Ad(e)=="symbol"?e:e+""}function Nse(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dse(t,e){return vy(vy({},e),t)}function Mse(t,e){return t==="symbols"}function dj(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(YI,n);case"trapezoid":return H.createElement(Ase,n);case"sector":return H.createElement(C3,n);case"symbols":if(Mse(e))return H.createElement(mI,n);break;default:return null}}function jse(t){return ne.isValidElement(t)?t.props:t}function Vse(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Dse:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,u=t.isActive,c=Ose(t,Pse),f;if(ne.isValidElement(e))f=ne.cloneElement(e,vy(vy({},c),jse(e)));else if(Ke(e))f=e(c);else if(pse(e)&&!yse(e)){var d=i(e,c);f=H.createElement(dj,{shapeType:n,elementProps:d})}else{var p=c;f=H.createElement(dj,{shapeType:n,elementProps:p})}return u?H.createElement(Jt,{className:a},f):f}function kv(t,e){return e!=null&&"trapezoids"in t.props}function Nv(t,e){return e!=null&&"sectors"in t.props}function Pd(t,e){return e!=null&&"points"in t.props}function Lse(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function $se(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Fse(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Bse(t,e){var n;return kv(t,e)?n=Lse:Nv(t,e)?n=$se:Pd(t,e)&&(n=Fse),n}function Use(t,e){var n;return kv(t,e)?n="trapezoids":Nv(t,e)?n="sectors":Pd(t,e)&&(n="points"),n}function qse(t,e){if(kv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Nv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Pd(t,e)?e.payload:{}}function zse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Use(n,e),o=qse(n,e),a=r.filter(function(c,f){var d=Ov(o,c),p=n.props[i].filter(function(E){var b=Bse(n,e);return b(E,e)}),y=n.props[i].indexOf(p[p.length-1]),v=f===y;return d&&v}),u=r.indexOf(a[a.length-1]);return u}var fE,pj;function Wse(){if(pj)return fE;pj=1;var t=Math.ceil,e=Math.max;function n(r,i,o,a){for(var u=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[a?c:++u]=r,r+=o;return f}return fE=n,fE}var hE,mj;function L3(){if(mj)return hE;mj=1;var t=w6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return hE=r,hE}var dE,gj;function Gse(){if(gj)return dE;gj=1;var t=Wse(),e=wv(),n=L3();function r(i){return function(o,a,u){return u&&typeof u!="number"&&e(o,a,u)&&(a=u=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),u=u===void 0?o<a?1:-1:n(u),t(o,a,u,i)}}return dE=r,dE}var pE,yj;function Hse(){if(yj)return pE;yj=1;var t=Gse(),e=t();return pE=e,pE}var Kse=Hse();const _y=Et(Kse);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){$3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $3(t,e,n){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Yse(t,"string");return Od(e)=="symbol"?e:e+""}function Yse(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xse=["Webkit","Moz","O","ms"],Jse=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Xse.reduce(function(o,a){return _j(_j({},o),{},$3({},a+r,n))},{});return i[e]=n,i};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(this,arguments)}function wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B3(r.key),r)}}function eue(t,e,n){return e&&bj(t.prototype,e),n&&bj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tue(t,e,n){return e=by(e),nue(t,F3()?Reflect.construct(e,n||[],by(t).constructor):e.apply(t,n))}function nue(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rue(t)}function rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F3=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(t)}function iue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d1(t,e)}function xr(t,e,n){return e=B3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B3(t){var e=oue(t,"string");return Ic(e)=="symbol"?e:e+""}function oue(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aue=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=jh().domain(_y(0,c)).range([o,o+a-u]),d=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:d}},xj=function(e){return e.changedTouches&&!!e.changedTouches.length},Ac=(function(t){function e(n){var r;return Zse(this,e),r=tue(this,e,[n]),xr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),xr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),xr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,u=i.startIndex;a?.({endIndex:o,startIndex:u})}),r.detachDragEndListener()}),xr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xr(r,"handleSlideDragStart",function(i){var o=xj(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return iue(e,t),eue(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,d=f.length-1,p=Math.min(i,o),y=Math.max(i,o),v=e.getIndexInRange(a,p),E=e.getIndexInRange(a,y);return{startIndex:v-v%c,endIndex:E===d?d:E-E%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,u=i.dataKey,c=Or(o[r],u,r);return Ke(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,u=i.endX,c=this.props,f=c.x,d=c.width,p=c.travellerWidth,y=c.startIndex,v=c.endIndex,E=c.onChange,b=r.pageX-o;b>0?b=Math.min(b,f+d-p-u,f+d-p-a):b<0&&(b=Math.max(b,f-a,f-u));var w=this.getIndex({startX:a+b,endX:u+b});(w.startIndex!==y||w.endIndex!==v)&&E&&E(w),this.setState({startX:a+b,endX:u+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=xj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[a],d=this.props,p=d.x,y=d.width,v=d.travellerWidth,E=d.onChange,b=d.gap,w=d.data,A={startX:this.state.startX,endX:this.state.endX},C=r.pageX-o;C>0?C=Math.min(C,p+y-v-f):C<0&&(C=Math.max(C,p-f)),A[a]=f+C;var R=this.getIndex(A),$=R.startIndex,P=R.endIndex,k=function(){var I=w.length-1;return a==="startX"&&(u>c?$%b===0:P%b===0)||u<c&&P===I||a==="endX"&&(u>c?P%b===0:$%b===0)||u>c&&P===I};this.setState(xr(xr({},a,f+C),"brushMoveStartX",r.pageX),function(){E&&k()&&E(R)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,u=a.scaleValues,c=a.startX,f=a.endX,d=this.state[i],p=u.indexOf(d);if(p!==-1){var y=p+r;if(!(y===-1||y>=u.length)){var v=u[y];i==="startX"&&v>=f||i==="endX"&&v<=c||this.setState(xr({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,u=r.height,c=r.fill,f=r.stroke;return H.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:a,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,u=r.height,c=r.data,f=r.children,d=r.padding,p=ne.Children.only(f);return p?H.cloneElement(p,{x:i,y:o,width:a,height:u,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,u=this,c=this.props,f=c.y,d=c.travellerWidth,p=c.height,y=c.traveller,v=c.ariaLabel,E=c.data,b=c.startIndex,w=c.endIndex,A=Math.max(r,this.props.x),C=mE(mE({},rt(this.props,!1)),{},{x:A,y:f,width:d,height:p}),R=v||"Min value: ".concat((o=E[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=E[w])===null||a===void 0?void 0:a.name);return H.createElement(Jt,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),u.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,C))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,u=o.height,c=o.stroke,f=o.travellerWidth,d=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,d=this.state,p=d.startX,y=d.endX,v=5,E={pointerEvents:"none",fill:f};return H.createElement(Jt,{className:"recharts-brush-texts"},H.createElement(Kg,wy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-v,y:a+u/2},E),this.getTextOfTick(i)),H.createElement(Kg,wy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+v,y:a+u/2},E),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,u=r.x,c=r.y,f=r.width,d=r.height,p=r.alwaysShowText,y=this.state,v=y.startX,E=y.endX,b=y.isTextActive,w=y.isSlideMoving,A=y.isTravellerMoving,C=y.isTravellerFocused;if(!i||!i.length||!xe(u)||!xe(c)||!xe(f)||!xe(d)||f<=0||d<=0)return null;var R=at("recharts-brush",o),$=H.Children.count(a)===1,P=Jse("userSelect","none");return H.createElement(Jt,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(v,E),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(E,"endX"),(b||w||A||C||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,u=r.height,c=r.stroke,f=Math.floor(o+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:a,height:u,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+a-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+a-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Ke(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,d=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return mE({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:a},o&&o.length?aue({data:o,width:a,x:u,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+a-c]);var y=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,u=o-1;u-a>1;){var c=Math.floor((a+u)/2);r[c]>i?u=c:a=c}return i>=r[u]?u:a}}])})(ne.PureComponent);xr(Ac,"displayName","Brush");xr(Ac,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gE,Ej;function sue(){if(Ej)return gE;Ej=1;var t=xI();function e(n,r){var i;return t(n,function(o,a,u){return i=r(o,a,u),!i}),!!i}return gE=e,gE}var yE,Tj;function uue(){if(Tj)return yE;Tj=1;var t=X4(),e=ss(),n=sue(),r=cr(),i=wv();function o(a,u,c){var f=r(a)?t:n;return c&&i(a,u,c)&&(u=void 0),f(a,e(u,3))}return yE=o,yE}var lue=uue();const cue=Et(lue);var Gi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},vE,Sj;function fue(){if(Sj)return vE;Sj=1;var t=m6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return vE=e,vE}var _E,Ij;function hue(){if(Ij)return _E;Ij=1;var t=fue(),e=d6(),n=ss();function r(i,o){var a={};return o=n(o,3),e(i,function(u,c,f){t(a,c,o(u,c,f))}),a}return _E=r,_E}var due=hue();const pue=Et(due);var wE,Aj;function mue(){if(Aj)return wE;Aj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return wE=t,wE}var bE,Pj;function gue(){if(Pj)return bE;Pj=1;var t=xI();function e(n,r){var i=!0;return t(n,function(o,a,u){return i=!!r(o,a,u),i}),i}return bE=e,bE}var xE,Oj;function yue(){if(Oj)return xE;Oj=1;var t=mue(),e=gue(),n=ss(),r=cr(),i=wv();function o(a,u,c){var f=r(a)?t:e;return c&&i(a,u,c)&&(u=void 0),f(a,n(u,3))}return xE=o,xE}var vue=yue();const U3=Et(vue);var _ue=["x","y"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(this,arguments)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return e=bue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=xue(t,"string");return Cd(e)=="symbol"?e:e+""}function xue(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eue(t,e){if(t==null)return{};var n=Tue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sue(t,e){var n=t.x,r=t.y,i=Eue(t,_ue),o="".concat(n),a=parseInt(o,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return hh(hh(hh(hh(hh({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:y,name:e.name,radius:e.radius})}function Rj(t){return H.createElement(Vse,p1({shapeType:"rectangle",propTransformer:Sue,activeClassName:"recharts-active-bar"},t))}var Iue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=xe(r)||RQ(r);return o?e(r,i):(o||wu(),n)}},Aue=["value","background"],q3;function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Pue(t,e){if(t==null)return{};var n=Oue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){Va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W3(r.key),r)}}function Rue(t,e,n){return e&&Nj(t.prototype,e),n&&Nj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,n){return e=Ey(e),Nue(t,z3()?Reflect.construct(e,n||[],Ey(t).constructor):e.apply(t,n))}function Nue(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Due(t)}function Due(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!t})()}function Ey(t){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ey(t)}function Mue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m1(t,e)}function Va(t,e,n){return e=W3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W3(t){var e=jue(t,"string");return Pc(e)=="symbol"?e:e+""}function jue(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hp=(function(t){function e(){var n;Cue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kue(this,e,[].concat(i)),Va(n,"state",{isAnimationFinished:!1}),Va(n,"id",op("recharts-bar-")),Va(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Va(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Mue(e,t),Rue(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,u=o.dataKey,c=o.activeIndex,f=o.activeBar,d=rt(this.props,!1);return r&&r.map(function(p,y){var v=y===c,E=v?f:a,b=rn(rn(rn({},d),p),{},{isActive:v,option:E,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(Jt,xy({className:"recharts-bar-rectangle"},Vg(i.props,p,y),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(y)}),H.createElement(Rj,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,y=this.state.prevData;return H.createElement($o,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var E=v.t,b=o.map(function(w,A){var C=y&&y[A];if(C){var R=si(C.x,w.x),$=si(C.y,w.y),P=si(C.width,w.width),k=si(C.height,w.height);return rn(rn({},w),{},{x:R(E),y:$(E),width:P(E),height:k(E)})}if(a==="horizontal"){var S=si(0,w.height),I=S(E);return rn(rn({},w),{},{y:w.y+w.height-I,height:I})}var N=si(0,w.width),F=N(E);return rn(rn({},w),{},{width:F})});return H.createElement(Jt,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ov(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,u=i.activeIndex,c=rt(this.props.background,!1);return o.map(function(f,d){f.value;var p=f.background,y=Pue(f,Aue);if(!p)return null;var v=rn(rn(rn(rn(rn({},y),{},{fill:"#eee"},p),c),Vg(r.props,f,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(Rj,xy({key:"background-bar-".concat(d),option:r.props.background,isActive:d===u},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,u=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=zr(d,fp);if(!p)return null;var y=f==="vertical"?a[0].height/2:a[0].width/2,v=function(w,A){var C=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:C,errorVal:Or(w,A)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Jt,E,p.map(function(b){return H.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:a,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,u=r.xAxis,c=r.yAxis,f=r.left,d=r.top,p=r.width,y=r.height,v=r.isAnimationActive,E=r.background,b=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,A=at("recharts-bar",a),C=u&&u.allowDataOverflow,R=c&&c.allowDataOverflow,$=C||R,P=Je(b)?this.id:b;return H.createElement(Jt,{className:A},C||R?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(P)},H.createElement("rect",{x:C?f:f-p/2,y:R?d:d-y/2,width:C?p:p*2,height:R?y:y*2}))):null,H.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(P,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,P),(!v||w)&&za.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(ne.PureComponent);q3=hp;Va(hp,"displayName","Bar");Va(hp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(hp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,y=t.offset,v=Xre(r,n);if(!v)return null;var E=e.layout,b=n.type.defaultProps,w=b!==void 0?rn(rn({},b),n.props):n.props,A=w.dataKey,C=w.children,R=w.minPointSize,$=E==="horizontal"?a:o,P=f?$.scale.domain():null,k=oie({numericAxis:$}),S=zr(C,x6),I=p.map(function(N,F){var V,D,M,G,K,re;f?V=Jre(f[d+F],P):(V=Or(N,A),Array.isArray(V)||(V=[k,V]));var ue=Iue(R,q3.defaultProps.minPointSize)(V[1],F);if(E==="horizontal"){var X,se=[a.scale(V[0]),a.scale(V[1])],ae=se[0],q=se[1];D=_M({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:N,index:F}),M=(X=q??ae)!==null&&X!==void 0?X:void 0,G=v.size;var Q=ae-q;if(K=Number.isNaN(Q)?0:Q,re={x:D,y:a.y,width:G,height:a.height},Math.abs(ue)>0&&Math.abs(K)<Math.abs(ue)){var ye=ci(K||ue)*(Math.abs(ue)-Math.abs(K));M-=ye,K+=ye}}else{var Se=[o.scale(V[0]),o.scale(V[1])],Ne=Se[0],Le=Se[1];if(D=Ne,M=_M({axis:a,ticks:c,bandSize:i,offset:v.offset,entry:N,index:F}),G=Le-Ne,K=v.size,re={x:o.x,y:M,width:o.width,height:K},Math.abs(ue)>0&&Math.abs(G)<Math.abs(ue)){var He=ci(G||ue)*(Math.abs(ue)-Math.abs(G));G+=He}}return rn(rn(rn({},N),{},{x:D,y:M,width:G,height:K,value:f?V:V[1],payload:N,background:re},S&&S[F]&&S[F].props),{},{tooltipPayload:[A3(n,N)],tooltipPosition:{x:D+G/2,y:M+K/2}})});return rn({data:I,layout:E},y)});function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G3(r.key),r)}}function Lue(t,e,n){return e&&Dj(t.prototype,e),n&&Dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){Dv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dv(t,e,n){return e=G3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3(t){var e=$ue(t,"string");return Rd(e)=="symbol"?e:e+""}function $ue(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fue=function(e,n,r,i,o){var a=e.width,u=e.height,c=e.layout,f=e.children,d=Object.keys(n),p={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!Er(f,hp);return d.reduce(function(v,E){var b=n[E],w=b.orientation,A=b.domain,C=b.padding,R=C===void 0?{}:C,$=b.mirror,P=b.reversed,k="".concat(w).concat($?"Mirror":""),S,I,N,F,V;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=A[1]-A[0],M=1/0,G=b.categoricalDomain.sort(DQ);if(G.forEach(function(Se,Ne){Ne>0&&(M=Math.min((Se||0)-(G[Ne-1]||0),M))}),Number.isFinite(M)){var K=M/D,re=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(S=K*re/2),b.padding==="no-gap"){var ue=vu(e.barCategoryGap,K*re),X=K*re/2;S=X-ue-(X-ue)/re*ue}}}i==="xAxis"?I=[r.left+(R.left||0)+(S||0),r.left+r.width-(R.right||0)-(S||0)]:i==="yAxis"?I=c==="horizontal"?[r.top+r.height-(R.bottom||0),r.top+(R.top||0)]:[r.top+(R.top||0)+(S||0),r.top+r.height-(R.bottom||0)-(S||0)]:I=b.range,P&&(I=[I[1],I[0]]);var se=Qre(b,o,y),ae=se.scale,q=se.realScaleType;ae.domain(A).range(I),Yre(ae);var Q=iie(ae,oi(oi({},b),{},{realScaleType:q}));i==="xAxis"?(V=w==="top"&&!$||w==="bottom"&&$,N=r.left,F=p[k]-V*b.height):i==="yAxis"&&(V=w==="left"&&!$||w==="right"&&$,N=p[k]-V*b.width,F=r.top);var ye=oi(oi(oi({},b),Q),{},{realScaleType:q,x:N,y:F,scale:ae,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return ye.bandSize=ly(ye,Q),!b.hide&&i==="xAxis"?p[k]+=(V?-1:1)*ye.height:b.hide||(p[k]+=(V?-1:1)*ye.width),oi(oi({},v),{},Dv({},E,ye))},{})},H3=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Bue=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return H3({x:n,y:r},{x:i,y:o})},K3=(function(){function t(e){Vue(this,t),this.scale=e}return Lue(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Dv(K3,"EPS",1e-4);var JI=function(e){var n=Object.keys(e).reduce(function(r,i){return oi(oi({},r),{},Dv({},i,K3.create(e[i])))},{});return oi(oi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,u=o.position;return pue(i,function(c,f){return n[f].apply(c,{bandAware:a,position:u})})},isInRange:function(i){return U3(i,function(o,a){return n[a].isInRange(o)})}})};function Uue(t){return(t%180+180)%180}var que=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Uue(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},EE,jj;function zue(){if(jj)return EE;jj=1;var t=ss(),e=ap(),n=vv();function r(i){return function(o,a,u){var c=Object(o);if(!e(o)){var f=t(a,3);o=n(o),a=function(p){return f(c[p],p,c)}}var d=i(o,a,u);return d>-1?c[f?o[d]:d]:void 0}}return EE=r,EE}var TE,Vj;function Wue(){if(Vj)return TE;Vj=1;var t=L3();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return TE=e,TE}var SE,Lj;function Gue(){if(Lj)return SE;Lj=1;var t=u6(),e=ss(),n=Wue(),r=Math.max;function i(o,a,u){var c=o==null?0:o.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(o,e(a,3),f)}return SE=i,SE}var IE,$j;function Hue(){if($j)return IE;$j=1;var t=zue(),e=Gue(),n=t(e);return IE=n,IE}var Kue=Hue();const Que=Et(Kue);var Yue=T4();const Xue=Et(Yue);var Jue=Xue(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ZI=ne.createContext(void 0),eA=ne.createContext(void 0),Q3=ne.createContext(void 0),Y3=ne.createContext({}),X3=ne.createContext(void 0),J3=ne.createContext(0),Z3=ne.createContext(0),Fj=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,u=e.children,c=e.width,f=e.height,d=Jue(o);return H.createElement(ZI.Provider,{value:r},H.createElement(eA.Provider,{value:i},H.createElement(Y3.Provider,{value:o},H.createElement(Q3.Provider,{value:d},H.createElement(X3.Provider,{value:a},H.createElement(J3.Provider,{value:f},H.createElement(Z3.Provider,{value:c},u)))))))},Zue=function(){return ne.useContext(X3)},eB=function(e){var n=ne.useContext(ZI);n==null&&wu();var r=n[e];return r==null&&wu(),r},ele=function(){var e=ne.useContext(ZI);return Da(e)},tle=function(){var e=ne.useContext(eA),n=Que(e,function(r){return U3(r.domain,Number.isFinite)});return n||Da(e)},tB=function(e){var n=ne.useContext(eA);n==null&&wu();var r=n[e];return r==null&&wu(),r},nle=function(){var e=ne.useContext(Q3);return e},rle=function(){return ne.useContext(Y3)},tA=function(){return ne.useContext(Z3)},nA=function(){return ne.useContext(J3)};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function ile(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ole(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rB(r.key),r)}}function ale(t,e,n){return e&&ole(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sle(t,e,n){return e=Ty(e),ule(t,nB()?Reflect.construct(e,n||[],Ty(t).constructor):e.apply(t,n))}function ule(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lle(t)}function lle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!t})()}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ty(t)}function cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g1(t,e)}function g1(t,e){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g1(t,e)}function Bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(n),!0).forEach(function(r){rA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rA(t,e,n){return e=rB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(t){var e=fle(t,"string");return Oc(e)=="symbol"?e:e+""}function fle(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hle(t,e){return gle(t)||mle(t,e)||ple(t,e)||dle()}function dle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(t,e){if(t){if(typeof t=="string")return qj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(t,e)}}function qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function gle(t){if(Array.isArray(t))return t}function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(this,arguments)}var yle=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):Ke(e)?r=e(n):r=H.createElement("line",y1({},n,{className:"recharts-reference-line-line"})),r},vle=function(e,n,r,i,o,a,u,c,f){var d=o.x,p=o.y,y=o.width,v=o.height;if(r){var E=f.y,b=e.y.apply(E,{position:a});if(Gi(f,"discard")&&!e.y.isInRange(b))return null;var w=[{x:d+y,y:b},{x:d,y:b}];return c==="left"?w.reverse():w}if(n){var A=f.x,C=e.x.apply(A,{position:a});if(Gi(f,"discard")&&!e.x.isInRange(C))return null;var R=[{x:C,y:p+v},{x:C,y:p}];return u==="top"?R.reverse():R}if(i){var $=f.segment,P=$.map(function(k){return e.apply(k,{position:a})});return Gi(f,"discard")&&cue(P,function(k){return!e.isInRange(k)})?null:P}return null};function _le(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,u=t.className,c=t.alwaysShow,f=Zue(),d=eB(i),p=tB(o),y=nle();if(!f||!y)return null;Po(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=JI({x:d.scale,y:p.scale}),E=hn(e),b=hn(n),w=r&&r.length===2,A=vle(v,E,b,w,y,t.position,d.orientation,p.orientation,t);if(!A)return null;var C=hle(A,2),R=C[0],$=R.x,P=R.y,k=C[1],S=k.x,I=k.y,N=Gi(t,"hidden")?"url(#".concat(f,")"):void 0,F=Uj(Uj({clipPath:N},rt(t,!0)),{},{x1:$,y1:P,x2:S,y2:I});return H.createElement(Jt,{className:at("recharts-reference-line",u)},yle(a,F),Un.renderCallByParent(t,Bue({x1:$,y1:P,x2:S,y2:I})))}var iA=(function(t){function e(){return ile(this,e),sle(this,e,arguments)}return cle(e,t),ale(e,[{key:"render",value:function(){return H.createElement(_le,this.props)}}])})(H.Component);rA(iA,"displayName","ReferenceLine");rA(iA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v1.apply(this,arguments)}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){Mv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ble(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oB(r.key),r)}}function xle(t,e,n){return e&&ble(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ele(t,e,n){return e=Sy(e),Tle(t,iB()?Reflect.construct(e,n||[],Sy(t).constructor):e.apply(t,n))}function Tle(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sle(t)}function Sle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function Sy(t){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sy(t)}function Ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_1(t,e)}function Mv(t,e,n){return e=oB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oB(t){var e=Ale(t,"string");return Cc(e)=="symbol"?e:e+""}function Ale(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ple=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=JI({x:i.scale,y:o.scale}),u=a.apply({x:n,y:r},{bandAware:!0});return Gi(e,"discard")&&!a.isInRange(u)?null:u},jv=(function(t){function e(){return wle(this,e),Ele(this,e,arguments)}return Ile(e,t),xle(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,u=r.alwaysShow,c=r.clipPathId,f=hn(i),d=hn(o);if(Po(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!d)return null;var p=Ple(this.props);if(!p)return null;var y=p.x,v=p.y,E=this.props,b=E.shape,w=E.className,A=Gi(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=Wj(Wj({clipPath:A},rt(this.props,!0)),{},{cx:y,cy:v});return H.createElement(Jt,{className:at("recharts-reference-dot",w)},e.renderDot(b,C),Un.renderCallByParent(this.props,{x:y-a,y:v-a,width:2*a,height:2*a}))}}])})(H.Component);Mv(jv,"displayName","ReferenceDot");Mv(jv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mv(jv,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ke(t)?n=t(e):n=H.createElement(XI,v1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(this,arguments)}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){Vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function Rle(t,e,n){return e&&Cle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kle(t,e,n){return e=Iy(e),Nle(t,aB()?Reflect.construct(e,n||[],Iy(t).constructor):e.apply(t,n))}function Nle(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dle(t)}function Dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aB=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iy(t)}function Mle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b1(t,e)}function b1(t,e){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b1(t,e)}function Vv(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=jle(t,"string");return Rc(e)=="symbol"?e:e+""}function jle(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vle=function(e,n,r,i,o){var a=o.x1,u=o.x2,c=o.y1,f=o.y2,d=o.xAxis,p=o.yAxis;if(!d||!p)return null;var y=JI({x:d.scale,y:p.scale}),v={x:e?y.x.apply(a,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},E={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Gi(o,"discard")&&(!y.isInRange(v)||!y.isInRange(E))?null:H3(v,E)},Lv=(function(t){function e(){return Ole(this,e),kle(this,e,arguments)}return Mle(e,t),Rle(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,d=r.clipPathId;Po(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=hn(i),y=hn(o),v=hn(a),E=hn(u),b=this.props.shape;if(!p&&!y&&!v&&!E&&!b)return null;var w=Vle(p,y,v,E,this.props);if(!w&&!b)return null;var A=Gi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(Jt,{className:at("recharts-reference-area",c)},e.renderRect(b,Hj(Hj({clipPath:A},rt(this.props,!0)),w)),Un.renderCallByParent(this.props,w))}}])})(H.Component);Vv(Lv,"displayName","ReferenceArea");Vv(Lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vv(Lv,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ke(t)?n=t(e):n=H.createElement(YI,w1({},e,{className:"recharts-reference-area-rect"})),n});function uB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Lle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return que(r,n)}function $le(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,u=t.height;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function Ay(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Fle(t,e){return uB(t,e+1)}function Ble(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,u=e.end,c=0,f=1,d=a,p=function(){var E=r?.[c];if(E===void 0)return{v:uB(r,f)};var b=c,w,A=function(){return w===void 0&&(w=n(E,b)),w},C=E.coordinate,R=c===0||Ay(t,C,A,d,u);R||(c=0,d=a,f+=1),R&&(d=C+t*(A()/2+i),c+=f)},y;f<=o.length;)if(y=p(),y)return y.v;return[]}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){Ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e,n){return e=qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=zle(t,"string");return kd(e)=="symbol"?e:e+""}function zle(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wle(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,u=e.start,c=e.end,f=function(y){var v=o[y],E,b=function(){return E===void 0&&(E=n(v,y)),E};if(y===a-1){var w=t*(v.coordinate+t*b()/2-c);o[y]=v=Fn(Fn({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else o[y]=v=Fn(Fn({},v),{},{tickCoord:v.coordinate});var A=Ay(t,v.tickCoord,b,u,c);A&&(c=v.tickCoord-t*(b()/2+i),o[y]=Fn(Fn({},v),{},{isShow:!0}))},d=a-1;d>=0;d--)f(d);return o}function Gle(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,c=e.start,f=e.end;if(o){var d=r[u-1],p=n(d,u-1),y=t*(d.coordinate+t*p/2-f);a[u-1]=d=Fn(Fn({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate});var v=Ay(t,d.tickCoord,function(){return p},c,f);v&&(f=d.tickCoord-t*(p/2+i),a[u-1]=Fn(Fn({},d),{},{isShow:!0}))}for(var E=o?u-1:u,b=function(C){var R=a[C],$,P=function(){return $===void 0&&($=n(R,C)),$};if(C===0){var k=t*(R.coordinate-t*P()/2-c);a[C]=R=Fn(Fn({},R),{},{tickCoord:k<0?R.coordinate-k*t:R.coordinate})}else a[C]=R=Fn(Fn({},R),{},{tickCoord:R.coordinate});var S=Ay(t,R.tickCoord,P,c,f);S&&(c=R.tickCoord+t*(P()/2+i),a[C]=Fn(Fn({},R),{},{isShow:!0}))},w=0;w<E;w++)b(w);return a}function oA(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,d=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(xe(c)||tf.isSsr)return Fle(i,typeof c=="number"&&xe(c)?c:0);var y=[],v=u==="top"||u==="bottom"?"width":"height",E=d&&v==="width"?Mh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(R,$){var P=Ke(f)?f(R.value,$):R.value;return v==="width"?Lle(Mh(P,{fontSize:e,letterSpacing:n}),E,p):Mh(P,{fontSize:e,letterSpacing:n})[v]},w=i.length>=2?ci(i[1].coordinate-i[0].coordinate):1,A=$le(o,w,v);return c==="equidistantPreserveStart"?Ble(w,A,b,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=Gle(w,A,b,i,a,c==="preserveStartEnd"):y=Wle(w,A,b,i,a),y.filter(function(C){return C.isShow}))}var Hle=["viewBox"],Kle=["viewBox"],Qle=["ticks"];function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AE(t,e){if(t==null)return{};var n=Yle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cB(r.key),r)}}function Jle(t,e,n){return e&&Yj(t.prototype,e),n&&Yj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zle(t,e,n){return e=Py(e),ece(t,lB()?Reflect.construct(e,n||[],Py(t).constructor):e.apply(t,n))}function ece(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tce(t)}function tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lB=function(){return!!t})()}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Py(t)}function nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x1(t,e)}function x1(t,e){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x1(t,e)}function aA(t,e,n){return e=cB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t){var e=rce(t,"string");return kc(e)=="symbol"?e:e+""}function rce(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var af=(function(t){function e(n){var r;return Xle(this,e),r=Zle(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return nce(e,t),Jle(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=AE(r,Hle),u=this.props,c=u.viewBox,f=AE(u,Kle);return!ql(o,c)||!ql(a,f)||!ql(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,u=i.width,c=i.height,f=i.orientation,d=i.tickSize,p=i.mirror,y=i.tickMargin,v,E,b,w,A,C,R=p?-1:1,$=r.tickSize||d,P=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":v=E=r.coordinate,w=a+ +!p*c,b=w-R*$,C=b-R*y,A=P;break;case"left":b=w=r.coordinate,E=o+ +!p*u,v=E-R*$,A=v-R*y,C=P;break;case"right":b=w=r.coordinate,E=o+ +p*u,v=E+R*$,A=v+R*y,C=P;break;default:v=E=r.coordinate,w=a+ +p*c,b=w+R*$,C=b+R*y,A=P;break}return{line:{x1:v,y1:b,x2:E,y2:w},tick:{x:A,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,u=r.height,c=r.orientation,f=r.mirror,d=r.axisLine,p=cn(cn(cn({},rt(this.props,!1)),rt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=cn(cn({},p),{},{x1:i,y1:o+y*u,x2:i+a,y2:o+y*u})}else{var v=+(c==="left"&&!f||c==="right"&&f);p=cn(cn({},p),{},{x1:i+v*a,y1:o,x2:i+v*a,y2:o+u})}return H.createElement("line",Ml({},p,{className:at("recharts-cartesian-axis-line",qr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,u=this.props,c=u.tickLine,f=u.stroke,d=u.tick,p=u.tickFormatter,y=u.unit,v=oA(cn(cn({},this.props),{},{ticks:r}),i,o),E=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=rt(this.props,!1),A=rt(d,!1),C=cn(cn({},w),{},{fill:"none"},rt(c,!1)),R=v.map(function($,P){var k=a.getTickLineCoord($),S=k.line,I=k.tick,N=cn(cn(cn(cn({textAnchor:E,verticalAnchor:b},w),{},{stroke:"none",fill:f},A),I),{},{index:P,payload:$,visibleTicksCount:v.length,tickFormatter:p});return H.createElement(Jt,Ml({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Vg(a.props,$,P)),c&&H.createElement("line",Ml({},C,S,{className:at("recharts-cartesian-axis-tick-line",qr(c,"className"))})),d&&e.renderTickItem(d,N,"".concat(Ke(p)?p($.value,P):$.value).concat(y||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,u=i.height,c=i.ticksGenerator,f=i.className,d=i.hide;if(d)return null;var p=this.props,y=p.ticks,v=AE(p,Qle),E=y;return Ke(c)&&(E=y&&y.length>0?c(this.props):c(v)),a<=0||u<=0||!E||!E.length?null:H.createElement(Jt,{className:at("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,u=at(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?a=H.cloneElement(r,cn(cn({},i),{},{className:u})):Ke(r)?a=r(cn(cn({},i),{},{className:u})):a=H.createElement(Kg,Ml({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(ne.Component);aA(af,"displayName","CartesianAxis");aA(af,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ice=["x1","y1","x2","y2","key"],oce=["offset"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return e=sce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=uce(t,"string");return bu(e)=="symbol"?e:e+""}function uce(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}function Jj(t,e){if(t==null)return{};var n=lce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cce=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,u=e.height,c=e.ry;return H.createElement("rect",{x:i,y:o,ry:c,width:a,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function fB(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Ke(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,u=e.key,c=Jj(e,ice),f=rt(c,!1);f.offset;var d=Jj(f,oce);n=H.createElement("line",Zs({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:u}))}return n}function fce(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(u,c){var f=qn(qn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return fB(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function hce(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(u,c){var f=qn(qn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return fB(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function dce(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var d=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,v){return y-v});i!==d[0]&&d.unshift(0);var p=d.map(function(y,v){var E=!d[v+1],b=E?i+a-y:d[v+1]-y;if(b<=0)return null;var w=v%e.length;return H.createElement("rect",{key:"react-".concat(v),y,x:r,height:b,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function pce(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var d=f.map(function(y){return Math.round(y+o-o)}).sort(function(y,v){return y-v});o!==d[0]&&d.unshift(0);var p=d.map(function(y,v){var E=!d[v+1],b=E?o+u-y:d[v+1]-y;if(b<=0)return null;var w=v%r.length;return H.createElement("rect",{key:"react-".concat(v),x:y,y:a,width:b,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var mce=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return S3(oA(qn(qn(qn({},af.defaultProps),r),{},{ticks:To(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},gce=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return S3(oA(qn(qn(qn({},af.defaultProps),r),{},{ticks:To(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Al={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hB(t){var e,n,r,i,o,a,u=tA(),c=nA(),f=rle(),d=qn(qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Al.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Al.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Al.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Al.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Al.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Al.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),p=d.x,y=d.y,v=d.width,E=d.height,b=d.syncWithTicks,w=d.horizontalValues,A=d.verticalValues,C=ele(),R=tle();if(!xe(v)||v<=0||!xe(E)||E<=0||!xe(p)||p!==+p||!xe(y)||y!==+y)return null;var $=d.verticalCoordinatesGenerator||mce,P=d.horizontalCoordinatesGenerator||gce,k=d.horizontalPoints,S=d.verticalPoints;if((!k||!k.length)&&Ke(P)){var I=w&&w.length,N=P({yAxis:R?qn(qn({},R),{},{ticks:I?w:R.ticks}):void 0,width:u,height:c,offset:f},I?!0:b);Po(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bu(N),"]")),Array.isArray(N)&&(k=N)}if((!S||!S.length)&&Ke($)){var F=A&&A.length,V=$({xAxis:C?qn(qn({},C),{},{ticks:F?A:C.ticks}):void 0,width:u,height:c,offset:f},F?!0:b);Po(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bu(V),"]")),Array.isArray(V)&&(S=V)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(cce,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),H.createElement(fce,Zs({},d,{offset:f,horizontalPoints:k,xAxis:C,yAxis:R})),H.createElement(hce,Zs({},d,{offset:f,verticalPoints:S,xAxis:C,yAxis:R})),H.createElement(dce,Zs({},d,{horizontalPoints:k})),H.createElement(pce,Zs({},d,{verticalPoints:S})))}hB.displayName="CartesianGrid";var yce=["type","layout","connectNulls","ref"],vce=["key"];function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Zj(t,e){if(t==null)return{};var n=_ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function eV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(n),!0).forEach(function(r){ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pl(t){return Ece(t)||xce(t)||bce(t)||wce()}function wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bce(t,e){if(t){if(typeof t=="string")return E1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E1(t,e)}}function xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ece(t){if(Array.isArray(t))return E1(t)}function E1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function Sce(t,e,n){return e&&tV(t.prototype,e),n&&tV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ice(t,e,n){return e=Oy(e),Ace(t,dB()?Reflect.construct(e,n||[],Oy(t).constructor):e.apply(t,n))}function Ace(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pce(t)}function Pce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(t)}function Oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T1(t,e)}function ai(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=Cce(t,"string");return Nc(e)=="symbol"?e:e+""}function Cce(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dp=(function(t){function e(){var n;Tce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ice(this,e,[].concat(i)),ai(n,"state",{isAnimationFinished:!0,totalLength:0}),ai(n,"generateSimpleStrokeDasharray",function(a,u){return"".concat(u,"px ").concat(a-u,"px")}),ai(n,"getStrokeDasharray",function(a,u,c){var f=c.reduce(function(A,C){return A+C});if(!f)return n.generateSimpleStrokeDasharray(u,a);for(var d=Math.floor(a/f),p=a%f,y=u-a,v=[],E=0,b=0;E<c.length;b+=c[E],++E)if(b+c[E]>p){v=[].concat(Pl(c.slice(0,E)),[p-b]);break}var w=v.length%2===0?[0,y]:[y];return[].concat(Pl(e.repeat(c,d)),Pl(v),w).map(function(A){return"".concat(A,"px")}).join(", ")}),ai(n,"id",op("recharts-line-")),ai(n,"pathRef",function(a){n.mainCurve=a}),ai(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ai(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Oce(e,t),Sce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,u=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=zr(d,fp);if(!p)return null;var y=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:Or(b.payload,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Jt,v,p.map(function(E){return H.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:a,xAxis:u,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var u=this.props,c=u.dot,f=u.points,d=u.dataKey,p=rt(this.props,!1),y=rt(c,!0),v=f.map(function(b,w){var A=br(br(br({key:"dot-".concat(w),r:3},p),y),{},{index:w,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:f});return e.renderDotItem(c,A)}),E={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(Jt,$h({className:"recharts-line-dots",key:"dots"},E),v)}},{key:"renderCurveStatically",value:function(r,i,o,a){var u=this.props,c=u.type,f=u.layout,d=u.connectNulls;u.ref;var p=Zj(u,yce),y=br(br(br({},rt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:c,layout:f,connectNulls:d});return H.createElement(t1,$h({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,u=a.points,c=a.strokeDasharray,f=a.isAnimationActive,d=a.animationBegin,p=a.animationDuration,y=a.animationEasing,v=a.animationId,E=a.animateNewValues,b=a.width,w=a.height,A=this.state,C=A.prevPoints,R=A.totalLength;return H.createElement($o,{begin:d,duration:p,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var P=$.t;if(C){var k=C.length/u.length,S=u.map(function(D,M){var G=Math.floor(M*k);if(C[G]){var K=C[G],re=si(K.x,D.x),ue=si(K.y,D.y);return br(br({},D),{},{x:re(P),y:ue(P)})}if(E){var X=si(b*2,D.x),se=si(w/2,D.y);return br(br({},D),{},{x:X(P),y:se(P)})}return br(br({},D),{},{x:D.x,y:D.y})});return o.renderCurveStatically(S,r,i)}var I=si(0,R),N=I(P),F;if(c){var V="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});F=o.getStrokeDasharray(N,R,V)}else F=o.generateSimpleStrokeDasharray(R,N);return o.renderCurveStatically(u,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,u=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.totalLength;return u&&a&&a.length&&(!f&&d>0||!Ov(f,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,u=i.points,c=i.className,f=i.xAxis,d=i.yAxis,p=i.top,y=i.left,v=i.width,E=i.height,b=i.isAnimationActive,w=i.id;if(o||!u||!u.length)return null;var A=this.state.isAnimationFinished,C=u.length===1,R=at("recharts-line",c),$=f&&f.allowDataOverflow,P=d&&d.allowDataOverflow,k=$||P,S=Je(w)?this.id:w,I=(r=rt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=I.r,F=N===void 0?3:N,V=I.strokeWidth,D=V===void 0?2:V,M=qQ(a)?a:{},G=M.clipDot,K=G===void 0?!0:G,re=F*2+D;return H.createElement(Jt,{className:R},$||P?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:$?y:y-v/2,y:P?p:p-E/2,width:$?v:v*2,height:P?E:E*2})),!K&&H.createElement("clipPath",{id:"clipPath-dots-".concat(S)},H.createElement("rect",{x:y-re/2,y:p-re/2,width:v+re,height:E+re}))):null,!C&&this.renderCurve(k,S),this.renderErrorBar(k,S),(C||a)&&this.renderDots(k,K,S),(!b||A)&&za.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Pl(r),[0]):r,a=[],u=0;u<i;++u)a=[].concat(Pl(a),Pl(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(Ke(r))o=r(i);else{var a=i.key,u=Zj(i,vce),c=at("recharts-line-dot",typeof r!="boolean"?r.className:"");o=H.createElement(XI,$h({key:a},u,{className:c}))}return o}}])})(ne.PureComponent);ai(dp,"displayName","Line");ai(dp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ai(dp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,u=t.bandSize,c=t.displayedData,f=t.offset,d=e.layout,p=c.map(function(y,v){var E=Or(y,a);return d==="horizontal"?{x:vM({axis:n,ticks:i,bandSize:u,entry:y,index:v}),y:Je(E)?null:r.scale(E),value:E,payload:y}:{x:Je(E)?null:n.scale(E),y:vM({axis:r,ticks:o,bandSize:u,entry:y,index:v}),value:E,payload:y}});return br({points:p,layout:d},f)});function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yB(r.key),r)}}function Nce(t,e,n){return e&&kce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dce(t,e,n){return e=Cy(e),Mce(t,mB()?Reflect.construct(e,n||[],Cy(t).constructor):e.apply(t,n))}function Mce(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mB=function(){return!!t})()}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cy(t)}function Vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S1(t,e)}function S1(t,e){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S1(t,e)}function gB(t,e,n){return e=yB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yB(t){var e=Lce(t,"string");return Dc(e)=="symbol"?e:e+""}function Lce(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(this,arguments)}function $ce(t){var e=t.xAxisId,n=tA(),r=nA(),i=eB(e);return i==null?null:ne.createElement(af,I1({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return To(a,!0)}}))}var $v=(function(t){function e(){return Rce(this,e),Dce(this,e,arguments)}return Vce(e,t),Nce(e,[{key:"render",value:function(){return ne.createElement($ce,this.props)}}])})(ne.Component);gB($v,"displayName","XAxis");gB($v,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wB(r.key),r)}}function Uce(t,e,n){return e&&Bce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qce(t,e,n){return e=Ry(e),zce(t,vB()?Reflect.construct(e,n||[],Ry(t).constructor):e.apply(t,n))}function zce(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wce(t)}function Wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!t})()}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ry(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A1(t,e)}function _B(t,e,n){return e=wB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wB(t){var e=Hce(t,"string");return Mc(e)=="symbol"?e:e+""}function Hce(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(this,arguments)}var Kce=function(e){var n=e.yAxisId,r=tA(),i=nA(),o=tB(n);return o==null?null:ne.createElement(af,P1({},o,{className:at("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return To(u,!0)}}))},Fv=(function(t){function e(){return Fce(this,e),qce(this,e,arguments)}return Gce(e,t),Uce(e,[{key:"render",value:function(){return ne.createElement(Kce,this.props)}}])})(ne.Component);_B(Fv,"displayName","YAxis");_B(Fv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nV(t){return Jce(t)||Xce(t)||Yce(t)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yce(t,e){if(t){if(typeof t=="string")return O1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O1(t,e)}}function Xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jce(t){if(Array.isArray(t))return O1(t)}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C1=function(e,n,r,i,o){var a=zr(e,iA),u=zr(e,jv),c=[].concat(nV(a),nV(u)),f=zr(e,Lv),d="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(b,w){if(w.props[d]===r&&Gi(w.props,"extendDomain")&&xe(w.props[p])){var A=w.props[p];return[Math.min(b[0],A),Math.max(b[1],A)]}return b},y)),f.length){var v="".concat(p,"1"),E="".concat(p,"2");y=f.reduce(function(b,w){if(w.props[d]===r&&Gi(w.props,"extendDomain")&&xe(w.props[v])&&xe(w.props[E])){var A=w.props[v],C=w.props[E];return[Math.min(b[0],A,C),Math.max(b[1],A,C)]}return b},y)}return o&&o.length&&(y=o.reduce(function(b,w){return xe(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},y)),y},PE={exports:{}},rV;function Zce(){return rV||(rV=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function o(c,f,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,p||c,y),E=n?n+f:f;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],v]:c._events[E].push(v):(c._events[E]=v,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},u.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,E=new Array(v);y<v;y++)E[y]=p[y].fn;return E},u.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,d,p,y,v,E){var b=n?n+f:f;if(!this._events[b])return!1;var w=this._events[b],A=arguments.length,C,R;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,y),!0;case 5:return w.fn.call(w.context,d,p,y,v),!0;case 6:return w.fn.call(w.context,d,p,y,v,E),!0}for(R=1,C=new Array(A-1);R<A;R++)C[R-1]=arguments[R];w.fn.apply(w.context,C)}else{var $=w.length,P;for(R=0;R<$;R++)switch(w[R].once&&this.removeListener(f,w[R].fn,void 0,!0),A){case 1:w[R].fn.call(w[R].context);break;case 2:w[R].fn.call(w[R].context,d);break;case 3:w[R].fn.call(w[R].context,d,p);break;case 4:w[R].fn.call(w[R].context,d,p,y);break;default:if(!C)for(P=1,C=new Array(A-1);P<A;P++)C[P-1]=arguments[P];w[R].fn.apply(w[R].context,C)}}return!0},u.prototype.on=function(f,d,p){return o(this,f,d,p,!1)},u.prototype.once=function(f,d,p){return o(this,f,d,p,!0)},u.prototype.removeListener=function(f,d,p,y){var v=n?n+f:f;if(!this._events[v])return this;if(!d)return a(this,v),this;var E=this._events[v];if(E.fn)E.fn===d&&(!y||E.once)&&(!p||E.context===p)&&a(this,v);else{for(var b=0,w=[],A=E.length;b<A;b++)(E[b].fn!==d||y&&!E[b].once||p&&E[b].context!==p)&&w.push(E[b]);w.length?this._events[v]=w.length===1?w[0]:w:a(this,v)}return this},u.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(PE)),PE.exports}var efe=Zce();const tfe=Et(efe);var OE=new tfe,CE="recharts.syncMouseEvents";function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bB(r.key),r)}}function ife(t,e,n){return e&&rfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RE(t,e,n){return e=bB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bB(t){var e=ofe(t,"string");return Nd(e)=="symbol"?e:e+""}function ofe(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var afe=(function(){function t(){nfe(this,t),RE(this,"activeIndex",0),RE(this,"coordinateList",[]),RE(this,"layout","horizontal")}return ife(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,u=a===void 0?null:a,c=n.layout,f=c===void 0?null:c,d=n.offset,p=d===void 0?null:d,y=n.mouseHandlerCallback,v=y===void 0?null:y;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,y=a+this.offset.top+u/2+d;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])})();function sfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&xe(r)&&xe(i))return!0}return!1}function ufe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function xB(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Nn(e,n,r,i),u=Nn(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function lfe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,d=e.outerRadius,p=e.angle,y=Nn(u,c,f,p),v=Nn(u,c,d,p);r=y.x,i=y.y,o=v.x,a=v.y}else return xB(e);return[{x:r,y:i},{x:o,y:a}]}function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(r){cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cfe(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return Dd(e)=="symbol"?e:e+""}function hfe(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dfe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!o||!a||y!=="ScatterChart"&&i!=="axis")return null;var E,b=t1;if(y==="ScatterChart")E=a,b=cse;else if(y==="BarChart")E=ufe(p,a,c,d),b=YI;else if(p==="radial"){var w=xB(a),A=w.cx,C=w.cy,R=w.radius,$=w.startAngle,P=w.endAngle;E={cx:A,cy:C,startAngle:$,endAngle:P,innerRadius:R,outerRadius:R},b=C3}else E={points:lfe(p,a,c)},b=t1;var k=Qm(Qm(Qm(Qm({stroke:"#ccc",pointerEvents:"none"},c),E),rt(v,!1)),{},{payload:u,payloadIndex:f,className:at("recharts-tooltip-cursor",v.className)});return ne.isValidElement(v)?ne.cloneElement(v,k):ne.createElement(b,k)}var pfe=["item"],mfe=["children","className","width","height","style","compact","title","desc"];function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}function oV(t,e){return vfe(t)||yfe(t,e)||TB(t,e)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,u=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}function vfe(t){if(Array.isArray(t))return t}function aV(t,e){if(t==null)return{};var n=_fe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _fe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SB(r.key),r)}}function xfe(t,e,n){return e&&bfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Efe(t,e,n){return e=ky(e),Tfe(t,EB()?Reflect.construct(e,n||[],ky(t).constructor):e.apply(t,n))}function Tfe(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sfe(t)}function Sfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!t})()}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(t)}function Ife(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R1(t,e)}function Vc(t){return Ofe(t)||Pfe(t)||TB(t)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TB(t,e){if(t){if(typeof t=="string")return k1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(t,e)}}function Pfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ofe(t){if(Array.isArray(t))return k1(t)}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(n),!0).forEach(function(r){Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e,n){return e=SB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SB(t){var e=Cfe(t,"string");return jc(e)=="symbol"?e:e+""}function Cfe(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe={xAxis:["bottom","top"],yAxis:["left","right"]},kfe={width:"100%",height:"100%"},IB={x:0,y:0};function Ym(t){return t}var Nfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Dfe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,u=i.radius;return le(le(le({},i),Nn(i.cx,i.cy,u,a)),{},{angle:a,radius:u})}var c=o.coordinate,f=i.angle;return le(le(le({},i),Nn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return IB},Bv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Vc(u),Vc(f)):u},[]);return a.length>0?a:e&&e.length&&xe(i)&&xe(o)?e.slice(i,o+1):[]};function AB(t){return t==="number"?[0,"auto"]:void 0}var N1=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,u=Bv(n,e);return r<0||!o||!o.length||r>=u.length?null:o.reduce(function(c,f){var d,p=(d=f.props.data)!==null&&d!==void 0?d:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(a.dataKey&&!a.allowDuplicatedCategory){var v=p===void 0?u:p;y=Mg(v,a.dataKey,i)}else y=p&&p[r]||u[r];return y?[].concat(Vc(c),[A3(f,y)]):c},[])},uV=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Nfe(o,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,d=qre(a,u,f,c);if(d>=0&&f){var p=f[d]&&f[d].value,y=N1(e,n,d,p),v=Dfe(r,u,d,o);return{activeTooltipIndex:d,activeLabel:p,activePayload:y,activeCoordinate:v}}return null},Mfe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.layout,p=e.children,y=e.stackOffset,v=T3(d,o);return r.reduce(function(E,b){var w,A=b.type.defaultProps!==void 0?le(le({},b.type.defaultProps),b.props):b.props,C=A.type,R=A.dataKey,$=A.allowDataOverflow,P=A.allowDuplicatedCategory,k=A.scale,S=A.ticks,I=A.includeHidden,N=A[a];if(E[N])return E;var F=Bv(e.data,{graphicalItems:i.filter(function(Q){var ye,Se=a in Q.props?Q.props[a]:(ye=Q.type.defaultProps)===null||ye===void 0?void 0:ye[a];return Se===N}),dataStartIndex:c,dataEndIndex:f}),V=F.length,D,M,G;sfe(A.domain,$,C)&&(D=YT(A.domain,null,$),v&&(C==="number"||k!=="auto")&&(G=Vh(F,R,"category")));var K=AB(C);if(!D||D.length===0){var re,ue=(re=A.domain)!==null&&re!==void 0?re:K;if(R){if(D=Vh(F,R,C),C==="category"&&v){var X=NQ(D);P&&X?(M=D,D=_y(0,V)):P||(D=xM(ue,D,b).reduce(function(Q,ye){return Q.indexOf(ye)>=0?Q:[].concat(Vc(Q),[ye])},[]))}else if(C==="category")P?D=D.filter(function(Q){return Q!==""&&!Je(Q)}):D=xM(ue,D,b).reduce(function(Q,ye){return Q.indexOf(ye)>=0||ye===""||Je(ye)?Q:[].concat(Vc(Q),[ye])},[]);else if(C==="number"){var se=Kre(F,i.filter(function(Q){var ye,Se,Ne=a in Q.props?Q.props[a]:(ye=Q.type.defaultProps)===null||ye===void 0?void 0:ye[a],Le="hide"in Q.props?Q.props.hide:(Se=Q.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return Ne===N&&(I||!Le)}),R,o,d);se&&(D=se)}v&&(C==="number"||k!=="auto")&&(G=Vh(F,R,"category"))}else v?D=_y(0,V):u&&u[N]&&u[N].hasStack&&C==="number"?D=y==="expand"?[0,1]:I3(u[N].stackGroups,c,f):D=E3(F,i.filter(function(Q){var ye=a in Q.props?Q.props[a]:Q.type.defaultProps[a],Se="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ye===N&&(I||!Se)}),C,d,!0);if(C==="number")D=C1(p,D,N,o,S),ue&&(D=YT(ue,D,$));else if(C==="category"&&ue){var ae=ue,q=D.every(function(Q){return ae.indexOf(Q)>=0});q&&(D=ae)}}return le(le({},E),{},Fe({},N,le(le({},A),{},{axisType:o,domain:D,categoricalDomain:G,duplicateDomain:M,originalDomain:(w=A.domain)!==null&&w!==void 0?w:K,isCategorical:v,layout:d})))},{})},jfe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.layout,p=e.children,y=Bv(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),v=y.length,E=T3(d,o),b=-1;return r.reduce(function(w,A){var C=A.type.defaultProps!==void 0?le(le({},A.type.defaultProps),A.props):A.props,R=C[a],$=AB("number");if(!w[R]){b++;var P;return E?P=_y(0,v):u&&u[R]&&u[R].hasStack?(P=I3(u[R].stackGroups,c,f),P=C1(p,P,R,o)):(P=YT($,E3(y,r.filter(function(k){var S,I,N=a in k.props?k.props[a]:(S=k.type.defaultProps)===null||S===void 0?void 0:S[a],F="hide"in k.props?k.props.hide:(I=k.type.defaultProps)===null||I===void 0?void 0:I.hide;return N===R&&!F}),"number",d),i.defaultProps.allowDataOverflow),P=C1(p,P,R,o)),le(le({},w),{},Fe({},R,le(le({axisType:o},i.defaultProps),{},{hide:!0,orientation:qr(Rfe,"".concat(o,".").concat(b%2),null),domain:P,originalDomain:$,isCategorical:E,layout:d})))}return w},{})},Vfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.children,p="".concat(i,"Id"),y=zr(d,o),v={};return y&&y.length?v=Mfe(e,{axes:y,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):a&&a.length&&(v=jfe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),v},Lfe=function(e){var n=Da(e),r=To(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:EI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ly(n,r)}},lV=function(e){var n=e.children,r=e.defaultShowTooltip,i=Er(n,Ac),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},$fe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ao(n&&n.type);return r&&r.indexOf("Bar")>=0})},cV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ffe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,d=r.height,p=r.children,y=r.margin||{},v=Er(p,Ac),E=Er(p,zl),b=Object.keys(c).reduce(function(P,k){var S=c[k],I=S.orientation;return!S.mirror&&!S.hide?le(le({},P),{},Fe({},I,P[I]+S.width)):P},{left:y.left||0,right:y.right||0}),w=Object.keys(a).reduce(function(P,k){var S=a[k],I=S.orientation;return!S.mirror&&!S.hide?le(le({},P),{},Fe({},I,qr(P,"".concat(I))+S.height)):P},{top:y.top||0,bottom:y.bottom||0}),A=le(le({},w),b),C=A.bottom;v&&(A.bottom+=v.props.height||Ac.defaultProps.height),E&&n&&(A=Gre(A,i,r,n));var R=f-A.left-A.right,$=d-A.top-A.bottom;return le(le({brushBottom:C},A),{},{width:Math.max(R,0),height:Math.max($,0)})},Bfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Ufe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,u=a===void 0?["axis"]:a,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,y=function(A,C){var R=C.graphicalItems,$=C.stackGroups,P=C.offset,k=C.updateId,S=C.dataStartIndex,I=C.dataEndIndex,N=A.barSize,F=A.layout,V=A.barGap,D=A.barCategoryGap,M=A.maxBarSize,G=cV(F),K=G.numericAxisName,re=G.cateAxisName,ue=$fe(R),X=[];return R.forEach(function(se,ae){var q=Bv(A.data,{graphicalItems:[se],dataStartIndex:S,dataEndIndex:I}),Q=se.type.defaultProps!==void 0?le(le({},se.type.defaultProps),se.props):se.props,ye=Q.dataKey,Se=Q.maxBarSize,Ne=Q["".concat(K,"Id")],Le=Q["".concat(re,"Id")],He={},$e=c.reduce(function(sn,fr){var Xi=C["".concat(fr.axisType,"Map")],fs=Q["".concat(fr.axisType,"Id")];Xi&&Xi[fs]||fr.axisType==="zAxis"||wu();var Hr=Xi[fs];return le(le({},sn),{},Fe(Fe({},fr.axisType,Hr),"".concat(fr.axisType,"Ticks"),To(Hr)))},He),me=$e[re],Ee=$e["".concat(re,"Ticks")],Me=$&&$[Ne]&&$[Ne].hasStack&&aie(se,$[Ne].stackGroups),fe=Ao(se.type).indexOf("Bar")>=0,Ze=ly(me,Ee),Ge=[],jt=ue&&zre({barSize:N,stackGroups:$,totalSize:Bfe($e,re)});if(fe){var Tt,Wt,Yn=Je(Se)?M:Se,wt=(Tt=(Wt=ly(me,Ee,!0))!==null&&Wt!==void 0?Wt:Yn)!==null&&Tt!==void 0?Tt:0;Ge=Wre({barGap:V,barCategoryGap:D,bandSize:wt!==Ze?wt:Ze,sizeList:jt[Le],maxBarSize:Yn}),wt!==Ze&&(Ge=Ge.map(function(sn){return le(le({},sn),{},{position:le(le({},sn.position),{},{offset:sn.position.offset-wt/2})})}))}var St=se&&se.type&&se.type.getComposedData;St&&X.push({props:le(le({},St(le(le({},$e),{},{displayedData:q,props:A,dataKey:ye,item:se,bandSize:Ze,barPosition:Ge,offset:P,stackedData:Me,layout:F,dataStartIndex:S,dataEndIndex:I}))),{},Fe(Fe(Fe({key:se.key||"item-".concat(ae)},K,$e[K]),re,$e[re]),"animationId",k)),childIndex:GQ(se,A.children),item:se})}),X},v=function(A,C){var R=A.props,$=A.dataStartIndex,P=A.dataEndIndex,k=A.updateId;if(!jk({props:R}))return null;var S=R.children,I=R.layout,N=R.stackOffset,F=R.data,V=R.reverseStackOrder,D=cV(I),M=D.numericAxisName,G=D.cateAxisName,K=zr(S,r),re=rie(F,K,"".concat(M,"Id"),"".concat(G,"Id"),N,V),ue=c.reduce(function(Q,ye){var Se="".concat(ye.axisType,"Map");return le(le({},Q),{},Fe({},Se,Vfe(R,le(le({},ye),{},{graphicalItems:K,stackGroups:ye.axisType===M&&re,dataStartIndex:$,dataEndIndex:P}))))},{}),X=Ffe(le(le({},ue),{},{props:R,graphicalItems:K}),C?.legendBBox);Object.keys(ue).forEach(function(Q){ue[Q]=d(R,ue[Q],X,Q.replace("Map",""),n)});var se=ue["".concat(G,"Map")],ae=Lfe(se),q=y(R,le(le({},ue),{},{dataStartIndex:$,dataEndIndex:P,updateId:k,graphicalItems:K,stackGroups:re,offset:X}));return le(le({formattedGraphicalItems:q,graphicalItems:K,offset:X,stackGroups:re},ae),ue)},E=(function(w){function A(C){var R,$,P;return wfe(this,A),P=Efe(this,A,[C]),Fe(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(P,"accessibilityManager",new afe),Fe(P,"handleLegendBBoxUpdate",function(k){if(k){var S=P.state,I=S.dataStartIndex,N=S.dataEndIndex,F=S.updateId;P.setState(le({legendBBox:k},v({props:P.props,dataStartIndex:I,dataEndIndex:N,updateId:F},le(le({},P.state),{},{legendBBox:k}))))}}),Fe(P,"handleReceiveSyncEvent",function(k,S,I){if(P.props.syncId===k){if(I===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(S)}}),Fe(P,"handleBrushChange",function(k){var S=k.startIndex,I=k.endIndex;if(S!==P.state.dataStartIndex||I!==P.state.dataEndIndex){var N=P.state.updateId;P.setState(function(){return le({dataStartIndex:S,dataEndIndex:I},v({props:P.props,dataStartIndex:S,dataEndIndex:I,updateId:N},P.state))}),P.triggerSyncEvent({dataStartIndex:S,dataEndIndex:I})}}),Fe(P,"handleMouseEnter",function(k){var S=P.getMouseInfo(k);if(S){var I=le(le({},S),{},{isTooltipActive:!0});P.setState(I),P.triggerSyncEvent(I);var N=P.props.onMouseEnter;Ke(N)&&N(I,k)}}),Fe(P,"triggeredAfterMouseMove",function(k){var S=P.getMouseInfo(k),I=S?le(le({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(I),P.triggerSyncEvent(I);var N=P.props.onMouseMove;Ke(N)&&N(I,k)}),Fe(P,"handleItemMouseEnter",function(k){P.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Fe(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Fe(P,"handleMouseMove",function(k){k.persist(),P.throttleTriggeredAfterMouseMove(k)}),Fe(P,"handleMouseLeave",function(k){P.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};P.setState(S),P.triggerSyncEvent(S);var I=P.props.onMouseLeave;Ke(I)&&I(S,k)}),Fe(P,"handleOuterEvent",function(k){var S=WQ(k),I=qr(P.props,"".concat(S));if(S&&Ke(I)){var N,F;/.*touch.*/i.test(S)?F=P.getMouseInfo(k.changedTouches[0]):F=P.getMouseInfo(k),I((N=F)!==null&&N!==void 0?N:{},k)}}),Fe(P,"handleClick",function(k){var S=P.getMouseInfo(k);if(S){var I=le(le({},S),{},{isTooltipActive:!0});P.setState(I),P.triggerSyncEvent(I);var N=P.props.onClick;Ke(N)&&N(I,k)}}),Fe(P,"handleMouseDown",function(k){var S=P.props.onMouseDown;if(Ke(S)){var I=P.getMouseInfo(k);S(I,k)}}),Fe(P,"handleMouseUp",function(k){var S=P.props.onMouseUp;if(Ke(S)){var I=P.getMouseInfo(k);S(I,k)}}),Fe(P,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Fe(P,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseDown(k.changedTouches[0])}),Fe(P,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseUp(k.changedTouches[0])}),Fe(P,"handleDoubleClick",function(k){var S=P.props.onDoubleClick;if(Ke(S)){var I=P.getMouseInfo(k);S(I,k)}}),Fe(P,"handleContextMenu",function(k){var S=P.props.onContextMenu;if(Ke(S)){var I=P.getMouseInfo(k);S(I,k)}}),Fe(P,"triggerSyncEvent",function(k){P.props.syncId!==void 0&&OE.emit(CE,P.props.syncId,k,P.eventEmitterSymbol)}),Fe(P,"applySyncEvent",function(k){var S=P.props,I=S.layout,N=S.syncMethod,F=P.state.updateId,V=k.dataStartIndex,D=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)P.setState(le({dataStartIndex:V,dataEndIndex:D},v({props:P.props,dataStartIndex:V,dataEndIndex:D,updateId:F},P.state)));else if(k.activeTooltipIndex!==void 0){var M=k.chartX,G=k.chartY,K=k.activeTooltipIndex,re=P.state,ue=re.offset,X=re.tooltipTicks;if(!ue)return;if(typeof N=="function")K=N(X,k);else if(N==="value"){K=-1;for(var se=0;se<X.length;se++)if(X[se].value===k.activeLabel){K=se;break}}var ae=le(le({},ue),{},{x:ue.left,y:ue.top}),q=Math.min(M,ae.x+ae.width),Q=Math.min(G,ae.y+ae.height),ye=X[K]&&X[K].value,Se=N1(P.state,P.props.data,K),Ne=X[K]?{x:I==="horizontal"?X[K].coordinate:q,y:I==="horizontal"?Q:X[K].coordinate}:IB;P.setState(le(le({},k),{},{activeLabel:ye,activeCoordinate:Ne,activePayload:Se,activeTooltipIndex:K}))}else P.setState(k)}),Fe(P,"renderCursor",function(k){var S,I=P.state,N=I.isTooltipActive,F=I.activeCoordinate,V=I.activePayload,D=I.offset,M=I.activeTooltipIndex,G=I.tooltipAxisBandSize,K=P.getTooltipEventType(),re=(S=k.props.active)!==null&&S!==void 0?S:N,ue=P.props.layout,X=k.key||"_recharts-cursor";return H.createElement(dfe,{key:X,activeCoordinate:F,activePayload:V,activeTooltipIndex:M,chartName:n,element:k,isActive:re,layout:ue,offset:D,tooltipAxisBandSize:G,tooltipEventType:K})}),Fe(P,"renderPolarAxis",function(k,S,I){var N=qr(k,"type.axisType"),F=qr(P.state,"".concat(N,"Map")),V=k.type.defaultProps,D=V!==void 0?le(le({},V),k.props):k.props,M=F&&F[D["".concat(N,"Id")]];return ne.cloneElement(k,le(le({},M),{},{className:at(N,M.className),key:k.key||"".concat(S,"-").concat(I),ticks:To(M,!0)}))}),Fe(P,"renderPolarGrid",function(k){var S=k.props,I=S.radialLines,N=S.polarAngles,F=S.polarRadius,V=P.state,D=V.radiusAxisMap,M=V.angleAxisMap,G=Da(D),K=Da(M),re=K.cx,ue=K.cy,X=K.innerRadius,se=K.outerRadius;return ne.cloneElement(k,{polarAngles:Array.isArray(N)?N:To(K,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(F)?F:To(G,!0).map(function(ae){return ae.coordinate}),cx:re,cy:ue,innerRadius:X,outerRadius:se,key:k.key||"polar-grid",radialLines:I})}),Fe(P,"renderLegend",function(){var k=P.state.formattedGraphicalItems,S=P.props,I=S.children,N=S.width,F=S.height,V=P.props.margin||{},D=N-(V.left||0)-(V.right||0),M=b3({children:I,formattedGraphicalItems:k,legendWidth:D,legendContent:f});if(!M)return null;var G=M.item,K=aV(M,pfe);return ne.cloneElement(G,le(le({},K),{},{chartWidth:N,chartHeight:F,margin:V,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Fe(P,"renderTooltip",function(){var k,S=P.props,I=S.children,N=S.accessibilityLayer,F=Er(I,Mi);if(!F)return null;var V=P.state,D=V.isTooltipActive,M=V.activeCoordinate,G=V.activePayload,K=V.activeLabel,re=V.offset,ue=(k=F.props.active)!==null&&k!==void 0?k:D;return ne.cloneElement(F,{viewBox:le(le({},re),{},{x:re.left,y:re.top}),active:ue,label:K,payload:ue?G:[],coordinate:M,accessibilityLayer:N})}),Fe(P,"renderBrush",function(k){var S=P.props,I=S.margin,N=S.data,F=P.state,V=F.offset,D=F.dataStartIndex,M=F.dataEndIndex,G=F.updateId;return ne.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Wm(P.handleBrushChange,k.props.onChange),data:N,x:xe(k.props.x)?k.props.x:V.left,y:xe(k.props.y)?k.props.y:V.top+V.height+V.brushBottom-(I.bottom||0),width:xe(k.props.width)?k.props.width:V.width,startIndex:D,endIndex:M,updateId:"brush-".concat(G)})}),Fe(P,"renderReferenceElement",function(k,S,I){if(!k)return null;var N=P,F=N.clipPathId,V=P.state,D=V.xAxisMap,M=V.yAxisMap,G=V.offset,K=k.type.defaultProps||{},re=k.props,ue=re.xAxisId,X=ue===void 0?K.xAxisId:ue,se=re.yAxisId,ae=se===void 0?K.yAxisId:se;return ne.cloneElement(k,{key:k.key||"".concat(S,"-").concat(I),xAxis:D[X],yAxis:M[ae],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:F})}),Fe(P,"renderActivePoints",function(k){var S=k.item,I=k.activePoint,N=k.basePoint,F=k.childIndex,V=k.isRange,D=[],M=S.props.key,G=S.item.type.defaultProps!==void 0?le(le({},S.item.type.defaultProps),S.item.props):S.item.props,K=G.activeDot,re=G.dataKey,ue=le(le({index:F,dataKey:re,cx:I.x,cy:I.y,r:4,fill:QI(S.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},rt(K,!1)),jg(K));return D.push(A.renderActiveDot(K,ue,"".concat(M,"-activePoint-").concat(F))),N?D.push(A.renderActiveDot(K,le(le({},ue),{},{cx:N.x,cy:N.y}),"".concat(M,"-basePoint-").concat(F))):V&&D.push(null),D}),Fe(P,"renderGraphicChild",function(k,S,I){var N=P.filterFormatItem(k,S,I);if(!N)return null;var F=P.getTooltipEventType(),V=P.state,D=V.isTooltipActive,M=V.tooltipAxis,G=V.activeTooltipIndex,K=V.activeLabel,re=P.props.children,ue=Er(re,Mi),X=N.props,se=X.points,ae=X.isRange,q=X.baseLine,Q=N.item.type.defaultProps!==void 0?le(le({},N.item.type.defaultProps),N.item.props):N.item.props,ye=Q.activeDot,Se=Q.hide,Ne=Q.activeBar,Le=Q.activeShape,He=!!(!Se&&D&&ue&&(ye||Ne||Le)),$e={};F!=="axis"&&ue&&ue.props.trigger==="click"?$e={onClick:Wm(P.handleItemMouseEnter,k.props.onClick)}:F!=="axis"&&($e={onMouseLeave:Wm(P.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Wm(P.handleItemMouseEnter,k.props.onMouseEnter)});var me=ne.cloneElement(k,le(le({},N.props),$e));function Ee(fr){return typeof M.dataKey=="function"?M.dataKey(fr.payload):null}if(He)if(G>=0){var Me,fe;if(M.dataKey&&!M.allowDuplicatedCategory){var Ze=typeof M.dataKey=="function"?Ee:"payload.".concat(M.dataKey.toString());Me=Mg(se,Ze,K),fe=ae&&q&&Mg(q,Ze,K)}else Me=se?.[G],fe=ae&&q&&q[G];if(Le||Ne){var Ge=k.props.activeIndex!==void 0?k.props.activeIndex:G;return[ne.cloneElement(k,le(le(le({},N.props),$e),{},{activeIndex:Ge})),null,null]}if(!Je(Me))return[me].concat(Vc(P.renderActivePoints({item:N,activePoint:Me,basePoint:fe,childIndex:G,isRange:ae})))}else{var jt,Tt=(jt=P.getItemByXY(P.state.activeCoordinate))!==null&&jt!==void 0?jt:{graphicalItem:me},Wt=Tt.graphicalItem,Yn=Wt.item,wt=Yn===void 0?k:Yn,St=Wt.childIndex,sn=le(le(le({},N.props),$e),{},{activeIndex:St});return[ne.cloneElement(wt,sn),null,null]}return ae?[me,null,null]:[me,null]}),Fe(P,"renderCustomized",function(k,S,I){return ne.cloneElement(k,le(le({key:"recharts-customized-".concat(I)},P.props),P.state))}),Fe(P,"renderMap",{CartesianGrid:{handler:Ym,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Ym},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Ym},YAxis:{handler:Ym},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((R=C.id)!==null&&R!==void 0?R:op("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=b6(P.triggeredAfterMouseMove,($=C.throttleDelay)!==null&&$!==void 0?$:1e3/60),P.state={},P}return Ife(A,w),xfe(A,[{key:"componentDidMount",value:function(){var R,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,$=R.children,P=R.data,k=R.height,S=R.layout,I=Er($,Mi);if(I){var N=I.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,V=N1(this.state,P,N,F),D=this.state.tooltipTicks[N].coordinate,M=(this.state.offset.top+k)/2,G=S==="horizontal",K=G?{x:D,y:M}:{y:D,x:M},re=this.state.formattedGraphicalItems.find(function(X){var se=X.item;return se.type.name==="Scatter"});re&&(K=le(le({},K),re.props.points[N].tooltipPosition),V=re.props.points[N].tooltipPayload);var ue={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:F,activePayload:V,activeCoordinate:K};this.setState(ue),this.renderCursor(I),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var P,k;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(R){vT([Er(R.children,Mi)],[Er(this.props.children,Mi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=Er(this.props.children,Mi);if(R&&typeof R.props.shared=="boolean"){var $=R.props.shared?"axis":"item";return u.indexOf($)>=0?$:o}return o}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var $=this.container,P=$.getBoundingClientRect(),k=NZ(P),S={chartX:Math.round(R.pageX-k.left),chartY:Math.round(R.pageY-k.top)},I=P.width/$.offsetWidth||1,N=this.inRange(S.chartX,S.chartY,I);if(!N)return null;var F=this.state,V=F.xAxisMap,D=F.yAxisMap,M=this.getTooltipEventType(),G=uV(this.state,this.props.data,this.props.layout,N);if(M!=="axis"&&V&&D){var K=Da(V).scale,re=Da(D).scale,ue=K&&K.invert?K.invert(S.chartX):null,X=re&&re.invert?re.invert(S.chartY):null;return le(le({},S),{},{xValue:ue,yValue:X},G)}return G?le(le({},S),G):null}},{key:"inRange",value:function(R,$){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,S=R/P,I=$/P;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,F=S>=N.left&&S<=N.left+N.width&&I>=N.top&&I<=N.top+N.height;return F?{x:S,y:I}:null}var V=this.state,D=V.angleAxisMap,M=V.radiusAxisMap;if(D&&M){var G=Da(D);return SM({x:S,y:I},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,$=this.getTooltipEventType(),P=Er(R,Mi),k={};P&&$==="axis"&&(P.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=jg(this.props,this.handleOuterEvent);return le(le({},S),k)}},{key:"addListener",value:function(){OE.on(CE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){OE.removeListener(CE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,$,P){for(var k=this.state.formattedGraphicalItems,S=0,I=k.length;S<I;S++){var N=k[S];if(N.item===R||N.props.key===R.key||$===Ao(N.item.type)&&P===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,$=this.state.offset,P=$.left,k=$.top,S=$.height,I=$.width;return H.createElement("defs",null,H.createElement("clipPath",{id:R},H.createElement("rect",{x:P,y:k,height:S,width:I})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function($,P){var k=oV(P,2),S=k[0],I=k[1];return le(le({},$),{},Fe({},S,I.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function($,P){var k=oV(P,2),S=k[0],I=k[1];return le(le({},$),{},Fe({},S,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[R])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(R){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[R])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(R){var $=this.state,P=$.formattedGraphicalItems,k=$.activeItem;if(P&&P.length)for(var S=0,I=P.length;S<I;S++){var N=P[S],F=N.props,V=N.item,D=V.type.defaultProps!==void 0?le(le({},V.type.defaultProps),V.props):V.props,M=Ao(V.type);if(M==="Bar"){var G=(F.data||[]).find(function(X){return ese(R,X)});if(G)return{graphicalItem:N,payload:G}}else if(M==="RadialBar"){var K=(F.data||[]).find(function(X){return SM(R,X)});if(K)return{graphicalItem:N,payload:K}}else if(kv(N,k)||Nv(N,k)||Pd(N,k)){var re=zse({graphicalItem:N,activeTooltipItem:k,itemData:D.data}),ue=D.activeIndex===void 0?re:D.activeIndex;return{graphicalItem:le(le({},N),{},{childIndex:ue}),payload:Pd(N,k)?D.data[re]:N.props.data[re]}}}return null}},{key:"render",value:function(){var R=this;if(!jk(this))return null;var $=this.props,P=$.children,k=$.className,S=$.width,I=$.height,N=$.style,F=$.compact,V=$.title,D=$.desc,M=aV($,mfe),G=rt(M,!1);if(F)return H.createElement(Fj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(wT,jl({},G,{width:S,height:I,title:V,desc:D}),this.renderClipPath(),Lk(P,this.renderMap)));if(this.props.accessibilityLayer){var K,re;G.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,G.role=(re=this.props.role)!==null&&re!==void 0?re:"application",G.onKeyDown=function(X){R.accessibilityManager.keyboardEvent(X)},G.onFocus=function(){R.accessibilityManager.focus()}}var ue=this.parseEventsOfWrapper();return H.createElement(Fj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",jl({className:at("recharts-wrapper",k),style:le({position:"relative",cursor:"default",width:S,height:I},N)},ue,{ref:function(se){R.container=se}}),H.createElement(wT,jl({},G,{width:S,height:I,title:V,desc:D,style:kfe}),this.renderClipPath(),Lk(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ne.Component);Fe(E,"displayName",n),Fe(E,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Fe(E,"getDerivedStateFromProps",function(w,A){var C=w.dataKey,R=w.data,$=w.children,P=w.width,k=w.height,S=w.layout,I=w.stackOffset,N=w.margin,F=A.dataStartIndex,V=A.dataEndIndex;if(A.updateId===void 0){var D=lV(w);return le(le(le({},D),{},{updateId:0},v(le(le({props:w},D),{},{updateId:0}),A)),{},{prevDataKey:C,prevData:R,prevWidth:P,prevHeight:k,prevLayout:S,prevStackOffset:I,prevMargin:N,prevChildren:$})}if(C!==A.prevDataKey||R!==A.prevData||P!==A.prevWidth||k!==A.prevHeight||S!==A.prevLayout||I!==A.prevStackOffset||!ql(N,A.prevMargin)){var M=lV(w),G={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},K=le(le({},uV(A,R,S)),{},{updateId:A.updateId+1}),re=le(le(le({},M),G),K);return le(le(le({},re),v(le({props:w},re),A)),{},{prevDataKey:C,prevData:R,prevWidth:P,prevHeight:k,prevLayout:S,prevStackOffset:I,prevMargin:N,prevChildren:$})}if(!vT($,A.prevChildren)){var ue,X,se,ae,q=Er($,Ac),Q=q&&(ue=(X=q.props)===null||X===void 0?void 0:X.startIndex)!==null&&ue!==void 0?ue:F,ye=q&&(se=(ae=q.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&se!==void 0?se:V,Se=Q!==F||ye!==V,Ne=!Je(R),Le=Ne&&!Se?A.updateId:A.updateId+1;return le(le({updateId:Le},v(le(le({props:w},A),{},{updateId:Le,dataStartIndex:Q,dataEndIndex:ye}),A)),{},{prevChildren:$,dataStartIndex:Q,dataEndIndex:ye})}return null}),Fe(E,"renderActiveDot",function(w,A,C){var R;return ne.isValidElement(w)?R=ne.cloneElement(w,A):Ke(w)?R=w(A):R=H.createElement(XI,A),H.createElement(Jt,{className:"recharts-active-dot",key:C},R)});var b=ne.forwardRef(function(A,C){return H.createElement(E,jl({},A,{ref:C}))});return b.displayName=E.displayName,b},qfe=Ufe({chartName:"LineChart",GraphicalChild:dp,axisComponents:[{axisType:"xAxis",AxisComp:$v},{axisType:"yAxis",AxisComp:Fv}],formatAxisMap:Fue});function zfe({userId:t,userName:e}){const[n,r]=ne.useState([]),[i,o]=ne.useState([]),[a,u]=ne.useState(!1),[c,f]=ne.useState(""),[d,p]=ne.useState("170"),[y,v]=ne.useState(new Date);ne.useEffect(()=>{if(!t)return;const S=Nh(En,"users",t,"workouts"),I=Mo(S,V=>{const D=V.docs.map(M=>({date:M.id,completed:M.data().completed}));r(D)}),N=JS(Nh(En,"users",t,"bmiRecords"),JF("date","asc")),F=Mo(N,V=>{const D=V.docs.map(M=>M.data());o(D)});return()=>{I(),F()}},[t]);const E=async()=>{if(!(!c||!d)){if(!t){console.error("Error: userId is undefined. Check if it's passed from Dashboard."),alert("User session not found. Please try logging in again.");return}try{const S=parseFloat(c),I=parseFloat(d)/100,N=S/(I*I),F={date:new Date().toISOString().split("T")[0],bmi:parseFloat(N.toFixed(1)),weight:S,height:parseFloat(d),createdAt:Zd()},V=Nh(En,"users",t,"bmiRecords");await c4(V,F),f(""),u(!1)}catch(S){console.error("Error adding BMI record:",S)}}},b=()=>{const S=n.filter(F=>F.completed).map(F=>new Date(F.date)).sort((F,V)=>V.getTime()-F.getTime());if(S.length===0)return 0;let I=0;const N=new Date;N.setHours(0,0,0,0);for(let F=0;F<S.length;F++){const V=new Date(N);if(V.setDate(N.getDate()-F),S.some(M=>{const G=new Date(M);return G.setHours(0,0,0,0),G.getTime()===V.getTime()}))I++;else if(F>0)break}return I},w=S=>{const I=S.getFullYear(),N=S.getMonth(),F=new Date(I,N,1),V=new Date(I,N+1,0),D=[],M=F.getDay(),G=new Date;for(let K=0;K<M;K++)D.push({date:new Date(0),hasWorkout:!1,isToday:!1});for(let K=1;K<=V.getDate();K++){const re=new Date(I,N,K),ue=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}-${String(re.getDate()).padStart(2,"0")}`,X=n.some(ae=>ae.date===ue&&ae.completed),se=re.toDateString()===G.toDateString();D.push({date:re,hasWorkout:X,isToday:se})}return D},A=S=>{v(I=>{const N=new Date(I);return N.setMonth(I.getMonth()+(S==="next"?1:-1)),N})},C=()=>n.filter(I=>{const N=new Date(I.date),F=new Date;return F.setDate(F.getDate()-30),N>=F&&I.completed}).length,R=b(),$=C(),P=w(y),k=i.length>0?i[i.length-1].bmi:0;return j.jsxs("div",{className:"space-y-6",children:[j.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-3xl text-white font-bold",children:e.charAt(0).toUpperCase()}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e}),j.jsx("p",{className:"text-gray-600",children:"Keep up the great work!"})]})]})}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[j.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-md p-6 text-white cursor-pointer hover:opacity-90 transition-opacity",children:[j.jsxs("div",{className:"flex items-center justify-between mb-2",children:[j.jsx(nI,{className:"w-8 h-8"}),j.jsx("span",{className:"text-3xl font-bold",children:R})]}),j.jsx("h3",{className:"text-lg font-semibold",children:"Day Streak"}),j.jsx("p",{className:"text-sm text-orange-100",children:"You can do it!"})]}),j.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-md p-6 text-white",children:[j.jsxs("div",{className:"flex items-center justify-between mb-2",children:[j.jsx(HH,{className:"w-8 h-8"}),j.jsx("span",{className:"text-3xl font-bold",children:$})]}),j.jsx("h3",{className:"text-lg font-semibold",children:"Workouts (30d)"}),j.jsx("p",{className:"text-sm text-green-100",children:"Last 30 days"})]}),j.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-md p-6 text-white",children:[j.jsxs("div",{className:"flex items-center justify-between mb-2",children:[j.jsx(IR,{className:"w-8 h-8"}),j.jsx("span",{className:"text-3xl font-bold",children:k})]}),j.jsx("h3",{className:"text-lg font-semibold",children:"Current BMI"}),j.jsx("p",{className:"text-sm text-blue-100",children:"Body Mass Index"})]})]}),j.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[j.jsx(tK,{className:"w-6 h-6 text-indigo-600"}),"Workout Calendar"]}),j.jsxs("div",{className:"flex items-center justify-center bg-white p-2 rounded-xl shadow-sm border border-gray-100",children:[j.jsx("button",{onClick:()=>A("prev"),className:"p-2 hover:bg-gray-100 rounded-full transition-all active:scale-90",children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:j.jsx("path",{d:"m15 18-6-6 6-6"})})}),j.jsx("div",{className:"w-[200px] flex justify-center items-center mx-2",children:j.jsx("span",{className:"text-lg font-bold text-gray-800 select-none",children:y.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),j.jsx("button",{onClick:()=>A("next"),className:"p-2 hover:bg-gray-100 rounded-full transition-all active:scale-90",children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:j.jsx("path",{d:"m9 18 6-6-6-6"})})})]})]}),j.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>j.jsx("div",{className:"text-center text-sm font-semibold text-gray-600 py-2",children:S},S)),P.map((S,I)=>j.jsx("div",{className:`aspect-square rounded-lg flex items-center justify-center text-sm font-medium transition-colors ${S.date.getTime()===0?"bg-transparent":S.hasWorkout?"bg-green-500 text-white shadow-md":S.isToday?"bg-indigo-100 text-indigo-600 border-2 border-indigo-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:S.date.getTime()!==0&&S.date.getDate()},I))]}),j.jsxs("div",{className:"mt-6 flex items-center justify-center gap-6 text-sm",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),j.jsx("span",{className:"text-gray-600",children:"Workout completed"})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-4 h-4 bg-indigo-100 border-2 border-indigo-600 rounded"}),j.jsx("span",{className:"text-gray-600",children:"Today"})]})]})]}),j.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-6",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx(IR,{className:"w-6 h-6 text-indigo-600"}),j.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"BMI Progress"})]}),j.jsxs("button",{onClick:()=>u(!a),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[j.jsx(v4,{className:"w-5 h-5"}),"Add Record"]})]}),a&&j.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg",children:[j.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Add New BMI Record"}),j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),j.jsx("input",{type:"number",value:c,onChange:S=>f(S.target.value),placeholder:"70",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),j.jsx("input",{type:"number",value:d,onChange:S=>p(S.target.value),placeholder:"170",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),j.jsxs("div",{className:"flex gap-3 mt-4",children:[j.jsx("button",{onClick:E,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Save"}),j.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),i.length>0&&j.jsx("div",{className:"h-64",children:j.jsx(IZ,{width:"100%",height:"100%",children:j.jsxs(qfe,{data:i,children:[j.jsx(hB,{strokeDasharray:"3 3"}),j.jsx($v,{dataKey:"date",tickFormatter:S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),j.jsx(Fv,{domain:["dataMin - 2","dataMax + 2"]}),j.jsx(Mi,{labelFormatter:S=>new Date(S).toLocaleDateString(),formatter:S=>[S.toFixed(1),"BMI"]}),j.jsx(dp,{type:"monotone",dataKey:"bmi",stroke:"#4f46e5",strokeWidth:3,dot:{fill:"#4f46e5",r:5},activeDot:{r:7}})]})})}),i.length>0&&j.jsxs("div",{className:"mt-6",children:[j.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Records"}),j.jsx("div",{className:"space-y-2",children:[...i].reverse().slice(0,5).map((S,I)=>j.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[j.jsxs("div",{children:[j.jsxs("p",{className:"font-medium text-gray-900",children:["BMI: ",S.bmi]}),j.jsxs("p",{className:"text-sm text-gray-600",children:[S.weight,"kg  ",S.height,"cm"]})]}),j.jsx("p",{className:"text-sm text-gray-500",children:new Date(S.date).toLocaleDateString()})]},I))})]})]})]})}const Wfe="https://www.youtube.com/watch?v=dQw4w9WgXcQ",Gfe=t=>{const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,n=t.match(e);return n&&n[2].length===11?n[2]:null};function Hfe({exercise:t,onClose:e}){const n=t.videoURL||Wfe;return j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:j.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[j.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white",children:j.jsxs("div",{className:"flex items-start justify-between mb-4",children:[j.jsxs("div",{className:"flex-1",children:[j.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.Title}),j.jsxs("div",{className:"flex items-center gap-4 text-indigo-100",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(_4,{className:"w-4 h-4"}),j.jsxs("span",{className:"text-sm",children:[t.sets," sets  ",t.reps]})]}),t.duration&&j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(m4,{className:"w-4 h-4"}),j.jsx("span",{className:"text-sm",children:t.duration})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(nI,{className:"w-4 h-4"}),j.jsx("span",{className:"text-sm"})]})]})]}),j.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors ml-4",children:j.jsx(DK,{className:"w-6 h-6"})})]})}),j.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Description"}),j.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.Desc})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Video Tutorial"}),j.jsx("div",{className:"rounded-lg overflow-hidden aspect-video shadow-lg border border-gray-200",children:j.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube-nocookie.com/embed/${Gfe(n)}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Equipment"}),j.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center",children:j.jsx("span",{className:"font-bold",children:""})}),j.jsx("p",{className:"text-lg text-gray-800 font-medium",children:t.equipment||t.Equipment||"No Equipment Required"})]})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Body Part"}),j.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-4 flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 bg-white text-indigo-600 rounded-full flex items-center justify-center shadow-sm",children:j.jsx("span",{className:"font-bold",children:""})}),j.jsx("p",{className:"text-lg text-indigo-900 font-bold uppercase tracking-wide",children:t.bodyPart||t.BodyPart||"General"})]})]})]}),j.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:j.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Close"})})]})})}function Kfe({exercises:t,onUpdateExercise:e,onDeleteExercise:n,onAddExercise:r}){const[i,o]=ne.useState(""),[a,u]=ne.useState("all"),[c,f]=ne.useState(null),d=v=>{const E=["jump","run","cardio","jacks","burpee","climber"],b=["plank","crunch","core","abs","twist","leg raise"],w=(v.Title||"").toLowerCase();return E.some(A=>w.includes(A))?"cardio":b.some(A=>w.includes(A))?"core":"strength"},p=t.filter(v=>{const E=(v.Title||"").toLowerCase(),b=(v.Desc||"").toLowerCase(),w=i.toLowerCase(),A=E.includes(w)||b.includes(w),C=a==="all"||d(v)===a;return A&&C}),y=v=>{const E=d(v),b={cardio:"bg-red-100 text-red-700",strength:"bg-blue-100 text-blue-700",core:"bg-green-100 text-green-700"};return j.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b[E]}`,children:E})};return j.jsxs("div",{children:[j.jsxs("div",{className:"mb-8",children:[j.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Exercise Library"}),j.jsx("p",{className:"text-gray-600",children:"Browse and explore all available exercises"})]}),j.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[j.jsxs("div",{className:"flex-1 relative",children:[j.jsx(SK,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),j.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),placeholder:"Search exercises...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="all"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),j.jsx("button",{onClick:()=>u("cardio"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="cardio"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Cardio"}),j.jsx("button",{onClick:()=>u("strength"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="strength"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Strength"}),j.jsx("button",{onClick:()=>u("core"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="core"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Core"})]})]}),j.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map(v=>j.jsxs("button",{onClick:()=>f(v),className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all hover:scale-[1.02] text-left",children:[j.jsx("div",{className:"flex items-start justify-between mb-3",children:j.jsxs("div",{className:"flex-1",children:[j.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:v.Title}),y(v)]})}),j.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:v.Desc}),j.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[j.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[j.jsx("span",{className:"font-medium",children:v.sets}),j.jsx("span",{className:"text-gray-500",children:"sets"})]}),j.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[j.jsx("span",{className:"font-medium",children:v.reps}),j.jsx("span",{className:"text-gray-500",children:"reps"})]}),v.duration&&j.jsx("div",{className:"flex items-center gap-1 text-indigo-600",children:j.jsx("span",{className:"font-medium",children:v.duration})})]})]},v.id))}),p.length===0&&j.jsxs("div",{className:"text-center py-16",children:[j.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:j.jsx(g4,{className:"w-10 h-10 text-gray-400"})}),j.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No exercises found"}),j.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}),c&&j.jsx(Hfe,{exercise:c,onClose:()=>f(null)})]})}const Qfe="https://www.youtube.com/watch?v=dQw4w9WgXcQ",Yfe=t=>{const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,n=t.match(e);return n&&n[2].length===11?n[2]:null};function PB({exercise:t,planName:e,onBack:n,onComplete:r,userId:i}){const o=t.videoURL||Qfe;if(!t)return j.jsx("div",{className:"p-8",children:"Exercise not found"});const[a,u]=ne.useState(!1),[c,f]=ne.useState(1),[d,p]=ne.useState(!1),y=t.sets,v=t.duration!==void 0,w=v?(F=>{if(!F)return 0;const V=F.match(/(\d+)/);return V?parseInt(V[1]):0})(t.duration):(F=>{if(F==null)return 60;const D=String(F).match(/(\d+)/);if(!D)return 60;const M=parseInt(D[1],10);return Math.max(M*3,30)})(t.reps),[A,C]=ne.useState(w);ne.useEffect(()=>{let F=null;return a&&!d&&A>0&&(F=setInterval(()=>{C(V=>V<=1?(u(!1),0):V-1)},1e3)),()=>{F&&clearInterval(F)}},[a,d,A]);const R=F=>{const V=Math.floor(F/60),D=F%60;return`${V.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},$=()=>{u(!a)},P=()=>{u(!1),C(w),f(1),p(!1)},k=()=>{c<y?(f(c+1),C(w),u(!1)):(u(!1),p(!0))},S=async()=>{if(!(!i||!t?.Title))try{const F=new Date().toLocaleDateString("en-CA",{timeZone:"Asia/Bangkok"}),V=Kn(En,"users",i,"workouts",F);await $i(V,{completed:!0,timestamp:Zd(),localDate:F,exerciseName:t.Title,planName:e},{merge:!0}),r&&r(),n()}catch(F){console.error(F)}},I=A===0,N=w>0?(w-A)/w*100:0;return j.jsxs("div",{className:"max-w-3xl mx-auto",children:[j.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[j.jsx(QH,{className:"w-5 h-5"}),"Back to Plans"]}),j.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[j.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-8 text-white",children:[j.jsx("p",{className:"text-indigo-100 mb-2",children:e}),j.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.Title}),j.jsxs("div",{className:"flex items-center gap-6 text-indigo-100",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(_4,{className:"w-5 h-5"}),j.jsxs("span",{children:[t.sets," sets  ",t.reps]})]}),t.duration&&j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(m4,{className:"w-5 h-5"}),j.jsx("span",{children:t.duration})]}),j.jsx("div",{className:"flex items-center gap-2",children:j.jsx(nI,{className:"w-5 h-5"})})]})]}),j.jsxs("div",{className:"p-8 space-y-8",children:[!d&&j.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-8",children:[j.jsxs("div",{className:"text-center mb-6",children:[j.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:["Set ",c," of ",y]}),v?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:`text-6xl font-bold mb-2 transition-colors ${A<=5&&A>0?"text-red-600":"text-indigo-600"}`,children:R(A)}),j.jsxs("p",{className:"text-sm text-gray-600",children:["Hold for ",t.duration]})]}):j.jsxs(j.Fragment,{children:[j.jsx("div",{className:`text-6xl font-bold mb-2 transition-colors ${A<=5&&A>0?"text-red-600":"text-indigo-600"}`,children:R(A)}),j.jsxs("p",{className:"text-sm text-gray-600",children:["Complete ",t.reps," reps"]})]})]}),j.jsxs("div",{className:"flex items-center justify-center gap-4",children:[j.jsx("button",{onClick:$,disabled:I,className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:a?j.jsxs(j.Fragment,{children:[j.jsx(mK,{className:"w-5 h-5"}),"Pause"]}):j.jsxs(j.Fragment,{children:[j.jsx(_K,{className:"w-5 h-5"}),A===w?"Start":"Resume"]})}),j.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:[j.jsx(EK,{className:"w-5 h-5"}),"Reset"]}),I&&j.jsx("button",{onClick:k,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium animate-pulse",children:c<y?"Next":"Finish"})]}),j.jsxs("div",{className:"mt-6",children:[j.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:j.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${A<=5&&A>0?"bg-red-600":"bg-indigo-600"}`,style:{width:`${Math.min(N,100)}%`}})}),j.jsxs("p",{className:"text-xs text-gray-600 text-center mt-2",children:[Math.round(N),"% complete"]})]})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Video Tutorial"}),j.jsx("div",{className:"rounded-lg overflow-hidden aspect-video shadow-lg border border-gray-200",children:j.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube-nocookie.com/embed/${Yfe(o)}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Description"}),j.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.Desc})]}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Equipment"}),j.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center",children:j.jsx("span",{className:"font-bold",children:""})}),j.jsx("p",{className:"text-xl text-gray-800 font-medium",children:t.equipment||t.Equipment||"No Equipment Required"})]})})]}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Body Part"}),j.jsx("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-6",children:j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 bg-white text-indigo-600 rounded-full flex items-center justify-center shadow-sm",children:j.jsx("span",{className:"font-bold",children:""})}),j.jsx("p",{className:"text-xl text-indigo-900 font-bold uppercase tracking-wide",children:t.bodyPart||t.BodyPart||"General"})]})})]}),d&&j.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6 text-center",children:[j.jsx("div",{className:"text-5xl mb-4",children:""}),j.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Great Job!"}),j.jsxs("p",{className:"text-gray-600 mb-6",children:["You completed all ",y," sets!"]}),j.jsx("button",{onClick:S,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium text-lg",children:"Mark as Complete"})]})]})]})]})}function Xfe({planId:t,onBack:e}){const{user:n}=ne.useContext(uv),[r,i]=ne.useState(null),[o,a]=ne.useState(!0),[u,c]=ne.useState(null);ne.useEffect(()=>{if(!n||!t)return;const d=Mo(Kn(En,"userPlans",n.uid),p=>{if(p.exists()){const E=(p.data().plans||[]).find(b=>b.id===t);i(E||null)}a(!1)});return()=>d()},[n,t]);const f=d=>{const p={...d,Title:d.Title||d.name||"Unknown Exercise",Desc:d.Desc||d.desc||"No description available",BodyPart:d.BodyPart||d.bodyPart||"N/A",instructions:d.instructions||[],tips:d.tips||[],sets:d.sets||3,reps:d.reps||"8-12",calories:d.calories||0};c(p)};return o?j.jsx("div",{className:"p-8 text-center text-indigo-600 font-bold",children:"Loading Plan Details..."}):r?u?j.jsx("div",{className:"p-4",children:j.jsx(PB,{exercise:u,planName:r.name,userId:n?.uid||"",onBack:()=>c(null),onComplete:()=>c(null)})}):j.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[j.jsxs("div",{className:"sticky top-0 bg-white border-b px-4 py-4 flex items-center gap-4 z-10 shadow-sm",children:[j.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:j.jsx(rK,{className:"w-6 h-6 text-gray-700"})}),j.jsxs("div",{children:[j.jsx("h1",{className:"text-xl font-bold text-gray-800",children:r.name}),j.jsxs("p",{className:"text-xs text-gray-500",children:[r.difficulty," Plan"]})]})]}),j.jsx("div",{className:"p-4 max-w-2xl mx-auto w-full",children:j.jsx("div",{className:"space-y-6",children:r.days.map((d,p)=>j.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[j.jsx("div",{className:"bg-indigo-600 px-4 py-3",children:j.jsx("h3",{className:"font-bold text-white",children:d.day})}),j.jsx("div",{className:"divide-y divide-gray-100",children:d.exercises.map((y,v)=>j.jsxs("div",{onClick:()=>f(y),className:"flex justify-between items-center p-4 hover:bg-indigo-50 transition-colors cursor-pointer group",children:[j.jsxs("div",{className:"flex flex-col",children:[j.jsx("p",{className:"font-semibold text-gray-800 group-hover:text-indigo-600 transition-colors",children:y.Title||y.name}),j.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Focus: ",y.BodyPart||y.bodyPart||"General"]})]}),j.jsx("div",{className:"text-right",children:j.jsxs("span",{className:"text-indigo-600 font-extrabold",children:[y.sets,"  ",y.reps]})})]},v))})]},p))})})]}):j.jsx("div",{className:"p-8 text-center",children:"Plan not found"})}function Jfe({user:t,onLogout:e}){const[n,r]=ne.useState(null),[i,o]=ne.useState(null),[a,u]=ne.useState(""),[c,f]=ne.useState("chat"),[d,p]=ne.useState([]),[y,v]=ne.useState(!1),[E,b]=ne.useState([]);ne.useEffect(()=>{const R=JS(Nh(En,"exercises"),ZF(20)),$=Mo(R,P=>{const k=P.docs.map(S=>{const I=S.data();return{id:S.id,Title:I.Title||I.title||"Unknown Exercise",Desc:I.Desc||I.description||"",Type:I.Type||"Strength",BodyPart:I.BodyPart||"N/A",Equipment:I.Equipment||"N/A",Level:I.Level||"Intermediate",sets:I.sets||3,reps:I.reps||"8-12",calories:I.calories||60,instructions:I.instructions||[],tips:I.tips||[],videoURL:I.videoURL||""}});b(k)});return()=>$()},[]);const w=R=>{b($=>$.map(P=>P.id===R.id?R:P))},A=R=>{b($=>$.filter(P=>P.id!==R))},C=R=>{b($=>[...$,R])};return i?j.jsx("div",{className:"min-h-screen bg-white",children:j.jsx(PB,{exercise:i,planName:a,userId:t.uid,onBack:()=>o(null),onComplete:()=>{o(null),f("profile")}})}):n?j.jsx("div",{className:"min-h-screen bg-gray-50",children:j.jsx(Xfe,{planId:n,onBack:()=>r(null)})}):j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex flex-col",children:j.jsxs(j.Fragment,{children:[j.jsxs("header",{className:"glass-effect border-b border-white/20 shadow-lg relative",children:[j.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/30",children:j.jsx(g4,{className:"w-7 h-7 text-white"})}),j.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:" FitPro "})," ",j.jsx("p",{className:"text-xs text-gray-600",children:" Your fitness journey starts here "}),j.jsxs("div",{className:"hidden sm:block",children:[j.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"FitPro"}),j.jsx("p",{className:"text-xs text-gray-600",children:"Your fitness journey starts here"})]})]}),j.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[j.jsxs("button",{onClick:()=>{f("chat"),r(null)},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${c==="chat"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-white/60"}`,children:[j.jsx(dK,{className:"w-5 h-5"}),"Chat"]}),j.jsxs("button",{onClick:()=>{f("plans"),r(null)},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${c==="plans"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-white/60"}`,children:[j.jsx(lK,{className:"w-5 h-5"}),"My Plans"]}),j.jsxs("button",{onClick:()=>{f("profile"),r(null)},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${c==="profile"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-white/60"}`,children:[j.jsx(w4,{className:"w-5 h-5"}),"Profile"]}),j.jsxs("button",{onClick:()=>{f("workouts"),r(null)},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${c==="workouts"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-white/60"}`,children:[j.jsx(XH,{className:"w-5 h-5"}),"Workouts"]}),j.jsx("div",{className:"w-px h-8 bg-gray-300 mx-2"}),j.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2.5 text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-xl transition-all",children:[j.jsx(fK,{className:"w-5 h-5"}),"Logout"]})]}),j.jsx("button",{className:"md:hidden p-2 rounded-xl hover:bg-white/60",onClick:()=>v(!y),children:j.jsx(y4,{className:"w-6 h-6"})})]}),y&&j.jsxs("div",{className:"absolute right-4 top-20 w-48 bg-white rounded-xl shadow-xl border py-2 md:hidden z-50",children:[j.jsx(dh,{label:"Chat",onClick:()=>{f("chat"),v(!1)}}),j.jsx(dh,{label:"My Plans",onClick:()=>{f("plans"),v(!1)}}),j.jsx(dh,{label:"Profile",onClick:()=>{f("profile"),v(!1)}}),j.jsx(dh,{label:"Workouts",onClick:()=>{f("workouts"),v(!1)}}),j.jsx("div",{className:"border-t my-2"}),j.jsx(dh,{label:"Logout",danger:!0,onClick:e})]})]}),j.jsx("main",{className:"flex-1 flex flex-col",children:c==="chat"?j.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:j.jsx("div",{className:"w-full max-w-4xl h-[calc(100vh-140px)] bg-white rounded-2xl shadow-xl flex flex-col",children:j.jsx(zK,{userName:t.name,availableExercises:E})})}):c==="plans"?j.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:j.jsx(LK,{availableExercises:E,onViewDetail:R=>r(R),onStartExercise:(R,$)=>{const P={...R,Title:R.Title||R.name,Desc:R.Desc||R.desc,BodyPart:R.BodyPart||R.bodyPart,videoURL:R.videoURL,id:R.id||`ex_${Date.now()}`};o(P),u($)}})}):c==="profile"?j.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:j.jsx(zfe,{userId:t.uid,userName:t.name})}):j.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:j.jsx(Kfe,{exercises:E,onUpdateExercise:w,onDeleteExercise:A,onAddExercise:C})})})]})})}function dh({label:t,onClick:e,danger:n}){return j.jsx("button",{onClick:e,className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 ${n?"text-red-600 hover:bg-red-50":"text-gray-700"}`,children:t})}function Zfe(){const t=Io.currentUser,e=async()=>{const n=Io.currentUser;n&&(await O9(n),await z1(Io))};return j.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-4",children:[j.jsx("h1",{className:"text-2xl font-bold",children:" Verify your email"}),j.jsxs("p",{className:"text-center",children:["Weve sent a verification link to ",j.jsx("br",{}),j.jsx("b",{children:t?.email})]}),j.jsx("button",{onClick:()=>ZV(t),className:"px-4 py-2 bg-indigo-600 text-white rounded",children:"Resend verification email"}),j.jsx("button",{onClick:async()=>{await t?.reload(),window.location.reload()},className:"text-sm underline text-gray-600",children:"Ive verified already"}),j.jsx("button",{onClick:e,children:""})]})}function ehe(){const[t,e]=ne.useState(!0),[n,r]=ne.useState(null);ne.useEffect(()=>{const o=eL(Io,async a=>{a?(await a.reload(),r(a)):r(null),e(!1)});return()=>o()},[]);const i=async()=>{await z1(Io)};return t?j.jsx("div",{className:"p-8 text-center",children:"Loading..."}):n?n.emailVerified?j.jsx(Jfe,{user:{name:n.displayName??"User",email:n.email??"",uid:n.uid},onLogout:i}):j.jsx(Zfe,{}):j.jsx(jK,{})}qU.createRoot(document.getElementById("root")).render(j.jsx(VK,{children:j.jsx(ehe,{})}));
